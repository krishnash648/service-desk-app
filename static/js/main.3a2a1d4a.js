/*! For license information please see main.3a2a1d4a.js.LICENSE.txt */
(()=>{var e={52:(e,t,n)=>{"use strict";n.d(t,{KO:()=>Z,MF:()=>Y,Sx:()=>J,Us:()=>H,Wp:()=>X,j6:()=>W,om:()=>V,xZ:()=>$});var r=n(8812),i=n(443),o=n(1529),a=n(2799);class s{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const l="@firebase/app",c="0.13.2",u=new i.Vy("@firebase/app"),h="@firebase/app-compat",d="@firebase/analytics-compat",f="@firebase/analytics",p="@firebase/app-check-compat",g="@firebase/app-check",m="@firebase/auth",y="@firebase/auth-compat",v="@firebase/database",b="@firebase/data-connect",w="@firebase/database-compat",x="@firebase/functions",S="@firebase/functions-compat",_="@firebase/installations",k="@firebase/installations-compat",A="@firebase/messaging",E="@firebase/messaging-compat",T="@firebase/performance",I="@firebase/performance-compat",P="@firebase/remote-config",N="@firebase/remote-config-compat",C="@firebase/storage",O="@firebase/storage-compat",L="@firebase/firestore",D="@firebase/ai",j="@firebase/firestore-compat",M="firebase",R="[DEFAULT]",F={[l]:"fire-core",[h]:"fire-core-compat",[f]:"fire-analytics",[d]:"fire-analytics-compat",[g]:"fire-app-check",[p]:"fire-app-check-compat",[m]:"fire-auth",[y]:"fire-auth-compat",[v]:"fire-rtdb",[b]:"fire-data-connect",[w]:"fire-rtdb-compat",[x]:"fire-fn",[S]:"fire-fn-compat",[_]:"fire-iid",[k]:"fire-iid-compat",[A]:"fire-fcm",[E]:"fire-fcm-compat",[T]:"fire-perf",[I]:"fire-perf-compat",[P]:"fire-rc",[N]:"fire-rc-compat",[C]:"fire-gcs",[O]:"fire-gcs-compat",[L]:"fire-fst",[j]:"fire-fst-compat",[D]:"fire-vertex","fire-js":"fire-js",[M]:"fire-js-all"},B=new Map,z=new Map,U=new Map;function q(e,t){try{e.container.addComponent(t)}catch(n){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function V(e){const t=e.name;if(U.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;U.set(t,e);for(const n of B.values())q(n,e);for(const n of z.values())q(n,e);return!0}function W(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function H(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R;W(e,t).clearInstance(n)}function $(e){return null!==e&&void 0!==e&&void 0!==e.settings}const K={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},G=new o.FA("app","Firebase",K);class Q{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw G.create("app-deleted",{appName:this._name})}}const Y="11.10.0";function X(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:R,automaticDataCollectionEnabled:!0},t),a=i.name;if("string"!==typeof a||!a)throw G.create("bad-app-name",{appName:String(a)});if(n||(n=(0,o.T9)()),!n)throw G.create("no-options");const s=B.get(a);if(s){if((0,o.bD)(n,s.options)&&(0,o.bD)(i,s.config))return s;throw G.create("duplicate-app",{appName:a})}const l=new r.h1(a);for(const r of U.values())l.addComponent(r);const c=new Q(n,i,l);return B.set(a,c),c}function J(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;const t=B.get(e);if(!t&&e===R&&(0,o.T9)())return X();if(!t)throw G.create("no-app",{appName:e});return t}function Z(e,t,n){var i;let o=null!==(i=F[e])&&void 0!==i?i:e;n&&(o+=`-${n}`);const a=o.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=[`Unable to register library "${o}" with version "${t}":`];return a&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void u.warn(e.join(" "))}V(new r.uA(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}const ee="firebase-heartbeat-store";let te=null;function ne(){return te||(te=(0,a.P2)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ee)}catch(n){console.warn(n)}}}).catch(e=>{throw G.create("idb-open",{originalErrorMessage:e.message})})),te}async function re(e,t){try{const n=(await ne()).transaction(ee,"readwrite"),r=n.objectStore(ee);await r.put(t,ie(e)),await n.done}catch(n){if(n instanceof o.g)u.warn(n.message);else{const e=G.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});u.warn(e.message)}}}function ie(e){return`${e.name}!${e.options.appId}`}class oe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new se(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ae();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){u.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ae(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),le(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),le(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,o.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return u.warn(t),""}}}function ae(){return(new Date).toISOString().substring(0,10)}class se{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ne()).transaction(ee),n=await t.objectStore(ee).get(ie(e));return await t.done,n}catch(t){if(t instanceof o.g)u.warn(t.message);else{const e=G.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});u.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function le(e){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ce;ce="",V(new r.uA("platform-logger",e=>new s(e),"PRIVATE")),V(new r.uA("heartbeat",e=>new oe(e),"PRIVATE")),Z(l,c,ce),Z(l,c,"esm2017"),Z("fire-js","")},356:(e,t,n)=>{e.exports=n(9645).last},443:(e,t,n)=>{"use strict";n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},a=i.INFO,s={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=s[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...o)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},579:(e,t,n)=>{"use strict";e.exports=n(5180)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1203:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},1293:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:i=!1,trailing:o=!0,maxWait:a}=n,s=Array(2);let l;i&&(s[0]="leading"),o&&(s[1]="trailing");let c=null;const u=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l=e.apply(this,n),c=null},t,{edges:s}),h=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=a&&(null===c&&(c=Date.now()),Date.now()-c>=a)?(l=e.apply(this,n),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,n),l)};return h.cancel=u.cancel,h.flush=()=>(u.flush(),l),h}},1444:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,i="",o="",a=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const s=e[r];o?"\\"===s&&r+1<n?(r++,i+=e[r]):s===o?o="":i+=s:a?'"'===s||"'"===s?o=s:"]"===s?(a=!1,t.push(i),i=""):i+=s:"["===s?(a=!0,i&&(t.push(i),i="")):"."===s?i&&(t.push(i),i=""):i+=s,r++}return i&&t.push(i),t}},1529:(e,t,n)=>{"use strict";n.d(t,{cY:()=>p,FA:()=>D,g:()=>L,dM:()=>O,u:()=>s,Uj:()=>a,Fy:()=>y,tD:()=>q,bD:()=>R,hp:()=>U,T9:()=>d,Tj:()=>u,yU:()=>h,XA:()=>f,mS:()=>l,Ku:()=>H,ZQ:()=>x,sr:()=>A,zJ:()=>g,c1:()=>k,Im:()=>M,lT:()=>T,zW:()=>N,jZ:()=>S,lV:()=>E,nr:()=>I,Ov:()=>P,gE:()=>m,Am:()=>B,I9:()=>z,P1:()=>w,eX:()=>C});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==l)throw new o;const c=t<<2|a>>4;if(r.push(c),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==l){const e=s<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},s=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const c=()=>{try{return l().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&s(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},h=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},d=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=c())||void 0===t?void 0:t[`_${e}`]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function m(e){return(await fetch(e,{credentials:"include"})).ok}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(o)),""].join(".")}const v={};let b=!1;function w(e,t){if("undefined"===typeof window||"undefined"===typeof document||!g(window.location.host)||v[e]===t||v[e]||b)return;function n(e){return`__firebase__banner__${e}`}v[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(v))v[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{b=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function x(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function S(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function _(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function k(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function A(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function E(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function T(){const e=x();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I(){return!_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P(){return!_()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function N(){try{return"object"===typeof indexedDB}catch(e){return!1}}function C(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function O(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class L extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,L.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(j,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new L(n,o,t)}}const j=/\{\$([^}]+)}/g;function M(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function R(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(F(n)&&F(o)){if(!R(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function F(e){return null!==e&&"object"===typeof e}function B(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function z(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function U(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function q(e,t){const n=new V(e,t);return n.subscribe.bind(n)}class V{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=W),void 0===r.error&&(r.error=W),void 0===r.complete&&(r.complete=W);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W(){}function H(e){return e&&e._delegate?e._delegate:e}},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},2104:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1203),i=n(9921);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&r.isArrayLike(e)}},2132:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(870),o=n(4803),a=n(9972);function s(e,t,n,r){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return l(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,o]of t.entries()){if(!1===n(e.get(i),o,i,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return c(e,t,n,r);const i=Object.keys(t);if(null==e)return 0===i.length;if(0===i.length)return!0;if(r&&r.has(t))return r.get(t)===e;r&&r.set(t,e);try{for(let a=0;a<i.length;a++){const s=i[a];if(!o.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!n(e[s],t[s],s,e,t,r))return!1}return!0}finally{r&&r.delete(t)}}(e,t,n,r);case"function":return Object.keys(t).length>0?s(e,{...t},n,r):a.eq(e,t);default:return i.isObject(e)?"string"!==typeof t||""===t:a.eq(e,t)}}function l(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let o=0;o<t.length;o++){const a=t[o];let s=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],a,o,e,t,r)&&(c=!0),c){i.add(l),s=!0;break}}if(!s)return!1}return!0}function c(e,t,n,r){return 0===t.size||e instanceof Set&&l([...e],[...t],n,r)}t.isMatchWith=function(e,t,n){return"function"!==typeof n?r.isMatch(e,t):s(e,t,function e(t,r,i,o,a,l){const c=n(t,r,i,o,a,l);return void 0!==c?Boolean(c):s(t,r,e,l)},new Map)},t.isSetMatch=c},2204:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5316),i=n(7312),o=n(3799);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];const s=n.length;return s>1&&o.isIterateeCall(e,n[0],n[1])?n=[]:s>2&&o.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,i.flatten(n),["asc"])}},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2330:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),a(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];if(null==t)return!1;return!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},2715:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9599),i=n(7330),o=n(3808),a=n(8845);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?a.matchesProperty(e[0],e[1]):o.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2799:(e,t,n)=>{"use strict";n.d(t,{MR:()=>y,P2:()=>m});const r=(e,t)=>t.some(t=>e instanceof t);let i,o;const a=new WeakMap,s=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(g(this),n),p(a.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(e.apply(g(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(g(this),t,...r);return l.set(o,t.sort?t.sort():[t]),p(o)}}function f(e){return"function"===typeof e?d(e):(e instanceof IDBTransaction&&function(e){if(s.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});s.set(e,t)}(e),r(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e)}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(p(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&a.set(t,e)}).catch(()=>{}),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=f(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const g=e=>u.get(e);function m(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=p(a);return r&&a.addEventListener("upgradeneeded",e=>{r(p(a.result),e.oldVersion,e.newVersion,p(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}function y(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",e=>t(e.oldVersion,e)),p(n).then(()=>{})}const v=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],w=new Map;function x(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!v.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return w.set(t,o),o}h=(e=>({...e,get:(t,n,r)=>x(t,n)||e.get(t,n,r),has:(t,n)=>!!x(t,n)||e.has(t,n)}))(h)},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){return"string"===typeof e||"symbol"===typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4704),i=n(1203),o=n(870),a=n(9972);t.isIterateeCall=function(e,t,n){return!!o.isObject(n)&&(!!("number"===typeof t&&i.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&a.eq(n[t],e))}},3808:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(5261);t.matches=function(e){return e=i.cloneDeep(e),t=>r.isMatch(t,e)}},3821:(e,t,n)=>{e.exports=n(2204).sortBy},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],o=t(i);n.has(o)||n.set(o,i)}return Array.from(n.values())}},4250:(e,t,n)=>{e.exports=n(8182).isEqual},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function k(e,t,r,i,o,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(){}function P(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return P((u=e._init)(e._payload),t,i,o,a)}}if(u)return a=a(e),u=""===o?"."+T(e,0):o,x(a)?(i="",null!=u&&(i=u.replace(E,"$&/")+"/"),P(a,t,i,"",function(e){return e})):null!=a&&(A(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+u,a=k(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var h,p=""===o?".":o+":";if(x(e))for(var g=0;g<e.length;g++)u+=P(o=e[g],t,i,s=p+T(o,g),a);else if("function"===typeof(g=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=g.call(e),g=0;!(o=e.next()).done;)u+=P(o=o.value,t,i,s=p+T(o,g++),a);else if("object"===s){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function C(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function L(){}t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!_.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return k(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return k(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(L,O)}catch(o){O(o)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.0"},4332:(e,t,n)=>{e.exports=n(5053).uniqBy},4385:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},4737:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.noop=function(){}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null;const a=null!=i&&i.includes("leading"),s=null==i||i.includes("trailing"),l=()=>{null!==o&&(e.apply(n,o),n=void 0,o=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,s&&l(),d()},t)},h=()=>{null!==c&&(clearTimeout(c),c=null)},d=()=>{h(),n=void 0,o=null},f=function(){if(r?.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o=t;const s=null==c;u(),a&&s&&l()};return f.schedule=u,f.cancel=d,f.flush=()=>{h(),l()},r?.addEventListener("abort",d,{once:!0}),f}},4879:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5053:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4208),i=n(9599),o=n(2104),a=n(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.identity;return o.isArrayLikeObject(e)?r.uniqBy(Array.from(e),a.iteratee(t)):[]}},5082:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,l=60110,c=60112,u=60113,h=60120,d=60115,f=60116,p=60121,g=60122,m=60117,y=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),h=b("react.suspense_list"),d=b("react.memo"),f=b("react.lazy"),p=b("react.block"),g=b("react.server.block"),m=b("react.fundamental"),y=b("react.debug_trace_mode"),v=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case u:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case d:case s:return e;default:return t}}case r:return t}}}t.isFragment=function(e){return w(e)===i}},5180:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},5261:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2489),i=n(4704),o=n(6321),a=n(1444);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==e?.[t]?a.toPath(t):[t],0===n.length)return!1;let s=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||o.isArguments(s))&&i.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}},5316:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9709),i=n(7043),o=n(1444);t.orderBy=function(e,t,n,a){if(null==e)return[];n=a?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const s=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||i.isKey(e)?e:{key:e,path:o.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?s(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let i=0;i<l.length;i++){const o=r.compareValues(e.criteria[i],t.criteria[i],n[i]);if(0!==o)return o}return 0}).map(e=>e.original)}},5414:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:i=!0,trailing:o=!0}=n;return r.debounce(e,t,{leading:i,trailing:o,maxWait:t})}},5472:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AbstractUserDataWriter:()=>wf,AggregateField:()=>hd,AggregateQuerySnapshot:()=>dd,Bytes:()=>fd,CACHE_SIZE_UNLIMITED:()=>Qh,CollectionReference:()=>Fh,DocumentReference:()=>Rh,DocumentSnapshot:()=>Nf,FieldPath:()=>pd,FieldValue:()=>md,Firestore:()=>Yh,FirestoreError:()=>F,GeoPoint:()=>yd,LoadBundleTask:()=>Gh,PersistentCacheIndexManager:()=>Ip,Query:()=>Mh,QueryCompositeFilterConstraint:()=>ef,QueryConstraint:()=>Yd,QueryDocumentSnapshot:()=>Of,QueryEndAtConstraint:()=>df,QueryFieldFilterConstraint:()=>Jd,QueryLimitConstraint:()=>af,QueryOrderByConstraint:()=>rf,QuerySnapshot:()=>Lf,QueryStartAtConstraint:()=>cf,SnapshotMetadata:()=>Pf,Timestamp:()=>Se,Transaction:()=>yp,VectorValue:()=>vd,WriteBatch:()=>pp,_AutoId:()=>X,_ByteString:()=>Cn,_DatabaseId:()=>Hn,_DocumentKey:()=>ce,_EmptyAppCheckTokenProvider:()=>G,_EmptyAuthCredentialsProvider:()=>U,_FieldPath:()=>le,_TestingHooks:()=>Rp,_cast:()=>me,_debugAssert:()=>j,_internalAggregationQueryToProtoRunAggregationQueryRequest:()=>Mp,_internalQueryToProtoQueryTarget:()=>jp,_isBase64Available:()=>Nn,_logWarn:()=>N,_validateIsNotUsedTogether:()=>he,addDoc:()=>Kf,aggregateFieldEqual:()=>Ef,aggregateQuerySnapshotEqual:()=>Tf,and:()=>nf,arrayRemove:()=>Sp,arrayUnion:()=>xp,average:()=>kf,clearIndexedDbPersistence:()=>id,collection:()=>Bh,collectionGroup:()=>zh,connectFirestoreEmulator:()=>jh,count:()=>Af,deleteAllPersistentCacheIndexes:()=>Op,deleteDoc:()=>$f,deleteField:()=>bp,disableNetwork:()=>sd,disablePersistentCacheIndexAutoCreation:()=>Cp,doc:()=>Uh,documentId:()=>gd,documentSnapshotFromJSON:()=>Cf,enableIndexedDbPersistence:()=>td,enableMultiTabIndexedDbPersistence:()=>nd,enableNetwork:()=>ad,enablePersistentCacheIndexAutoCreation:()=>Np,endAt:()=>pf,endBefore:()=>ff,ensureFirestoreConfigured:()=>Zh,executeWrite:()=>Xf,getAggregateFromServer:()=>ep,getCountFromServer:()=>Zf,getDoc:()=>Rf,getDocFromCache:()=>Bf,getDocFromServer:()=>zf,getDocs:()=>Uf,getDocsFromCache:()=>qf,getDocsFromServer:()=>Vf,getFirestore:()=>Jh,getPersistentCacheIndexManager:()=>Pp,increment:()=>_p,initializeFirestore:()=>Xh,limit:()=>sf,limitToLast:()=>lf,loadBundle:()=>cd,memoryEagerGarbageCollector:()=>op,memoryLocalCache:()=>sp,memoryLruGarbageCollector:()=>ap,namedQuery:()=>ud,onSnapshot:()=>Gf,onSnapshotResume:()=>Qf,onSnapshotsInSync:()=>Yf,or:()=>tf,orderBy:()=>of,persistentLocalCache:()=>lp,persistentMultipleTabManager:()=>dp,persistentSingleTabManager:()=>hp,query:()=>Xd,queryEqual:()=>Vh,querySnapshotFromJSON:()=>Df,refEqual:()=>qh,runTransaction:()=>vp,serverTimestamp:()=>wp,setDoc:()=>Wf,setIndexConfiguration:()=>Ep,setLogLevel:()=>T,snapshotEqual:()=>Mf,startAfter:()=>hf,startAt:()=>uf,sum:()=>_f,terminate:()=>ld,updateDoc:()=>Hf,vector:()=>kp,waitForPendingWrites:()=>od,where:()=>Zd,writeBatch:()=>Ap});var r,i,o=n(52),a=n(8812),s=n(443),l=n(1529),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function o(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function s(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new o([0|e],0>e?-1:0)}):new o([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return g(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}var c=s(0),h=s(1),d=s(16777216);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function g(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(h)}function m(e,t){return e.add(g(t))}function y(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function v(e,t){this.g=e,this.h=t}function b(e,t){if(f(t))throw Error("division by zero");if(f(e))return new v(c,c);if(p(e))return t=b(g(e),t),new v(g(t.g),g(t.h));if(p(t))return t=b(e,g(t)),new v(g(t.g),t.h);if(30<e.g.length){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=h,r=t;0>=r.l(e);)n=w(n),r=w(r);var i=x(n,1),o=x(r,1);for(r=x(r,2),n=x(n,2);!f(r);){var a=o.add(r);0>=a.l(e)&&(i=i.add(n),o=a),r=x(r,1),n=x(n,1)}return t=m(e,i.j(t)),new v(i,t)}for(i=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=l(n)).j(t);p(a)||0<a.l(e);)a=(o=l(n-=r)).j(t);f(o)&&(o=h),i=i.add(o),e=m(e,a)}return new v(i,e)}function w(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function x(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}(e=o.prototype).m=function(){if(p(this))return-g(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(p(this))return"-"+g(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var i=b(n,t).g,o=((0<(n=m(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(f(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=m(this,e))?-1:f(e)?0:1},e.abs=function(){return p(this)?g(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.i(i))+(65535&e.i(i)),s=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=s>>>16,a&=65535,s&=65535,n[i]=s<<16|a}return new o(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(f(this)||f(e))return c;if(p(this))return p(e)?g(this).j(g(e)):g(g(this).j(e));if(p(e))return g(this.j(g(e)));if(0>this.l(d)&&0>e.l(d))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.i(r)>>>16,s=65535&this.i(r),u=e.i(i)>>>16,h=65535&e.i(i);n[2*r+2*i]+=s*h,y(n,2*r+2*i),n[2*r+2*i+1]+=a*h,y(n,2*r+2*i+1),n[2*r+2*i+1]+=s*u,y(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,y(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new o(n,0)},e.A=function(e){return b(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,i=u.Md5=t,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return g(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),i=c,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=l(Math.pow(n,a)),i=i.j(a).add(l(s))):i=(i=i.j(r)).add(l(s))}return i},r=u.Integer=o}).apply("undefined"!==typeof c?c:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var h,d,f,p,g,m,y,v,b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function x(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function S(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function _(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function k(e){return/^[\s\xa0]*$/.test(e)}function A(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function E(e){return E[" "](e),e}E[" "]=function(){};var T=-1!=A().indexOf("Gecko")&&!(-1!=A().toLowerCase().indexOf("webkit")&&-1==A().indexOf("Edge"))&&!(-1!=A().indexOf("Trident")||-1!=A().indexOf("MSIE"))&&-1==A().indexOf("Edge");function I(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function P(e){const t={};for(const n in e)t[n]=e[n];return t}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<N.length;t++)n=N[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function O(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function L(e){i.setTimeout(()=>{throw e},0)}function D(){var e=B;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var j=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new M,e=>e.reset());class M{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let R,F=!1,B=new class{constructor(){this.h=this.g=null}add(e,t){const n=j.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},z=()=>{const e=i.Promise.resolve(void 0);R=()=>{e.then(U)}};var U=()=>{for(var e;e=D();){try{e.h.call(e.g)}catch(n){L(n)}var t=j;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}F=!1};function q(){this.s=this.s,this.C=this.C}function V(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},V.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function H(e,t){if(V.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(T){e:{try{E(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:$[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&H.aa.h.call(this)}}x(H,V);var $={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),G=0;function Q(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++G,this.da=this.fa=!1}function Y(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function X(e){this.src=e,this.g={},this.h=0}function J(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Y(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Z(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}X.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Z(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Q(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var ee="closure_lm_"+(1e6*Math.random()|0),te={};function ne(e,t,n,r,i){if(r&&r.once)return ie(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ne(e,t[o],n,r,i);return null}return n=he(n),e&&e[K]?e.K(t,n,a(r)?!!r.capture:!!r,i):re(e,t,n,!1,r,i)}function re(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=ce(e);if(l||(e[ee]=l=new X(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=le;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)W||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(se(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ie(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ie(e,t[o],n,r,i);return null}return n=he(n),e&&e[K]?e.L(t,n,a(r)?!!r.capture:!!r,i):re(e,t,n,!0,r,i)}function oe(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)oe(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=he(n),e&&e[K]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Z(o=e.g[t],n,r,i))&&(Y(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=ce(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Z(t,n,r,i)),(n=-1<e?t[e]:null)&&ae(n))}function ae(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[K])J(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(se(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ce(t))?(J(n,e),0==n.h&&(n.src=null,t[ee]=null)):Y(e)}}}function se(e){return e in te?te[e]:te[e]="on"+e}function le(e,t){if(e.da)e=!0;else{t=new H(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ae(e),e=n.call(r,t)}return e}function ce(e){return(e=e[ee])instanceof X?e:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(e){return"function"===typeof e?e:(e[ue]||(e[ue]=function(t){return e.handleEvent(t)}),e[ue])}function de(){q.call(this),this.i=new X(this),this.M=this,this.F=null}function fe(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new V(t,e);else if(t instanceof V)t.target=t.target||e;else{var i=t;C(t=new V(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=pe(a,r,!0,t)&&i}if(i=pe(a=t.g=e,r,!0,t)&&i,i=pe(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=pe(a=t.g=n[o],r,!1,t)&&i}function pe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&J(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function ge(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function me(e){e.g=ge(()=>{e.g=null,e.i&&(e.i=!1,me(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}x(de,q),de.prototype[K]=!0,de.prototype.removeEventListener=function(e,t,n,r){oe(this,e,t,n,r)},de.prototype.N=function(){if(de.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Y(n[r]);delete t.g[e],t.h--}}this.F=null},de.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},de.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ye extends q{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:me(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ve(e){q.call(this),this.h=e,this.g={}}x(ve,q);var be=[];function we(e){I(e.g,function(e,t){this.g.hasOwnProperty(t)&&ae(e)},e),e.g={}}ve.prototype.N=function(){ve.aa.N.call(this),we(this)},ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=i.JSON.stringify,Se=i.JSON.parse,_e=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function ke(){}function Ae(e){return e.h||(e.h=e.i())}function Ee(){}ke.prototype.h=null;var Te={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ie(){V.call(this,"d")}function Pe(){V.call(this,"c")}x(Ie,V),x(Pe,V);var Ne={},Ce=null;function Oe(){return Ce=Ce||new de}function Le(e){V.call(this,Ne.La,e)}function De(e){const t=Oe();fe(t,new Le(t))}function je(e,t){V.call(this,Ne.STAT_EVENT,e),this.stat=t}function Me(e){const t=Oe();fe(t,new je(t,e))}function Re(e,t){V.call(this,Ne.Ma,e),this.size=t}function Fe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Be(){this.g=!0}function ze(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return xe(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}Ne.La="serverreachability",x(Le,V),Ne.STAT_EVENT="statevent",x(je,V),Ne.Ma="timingevent",x(Re,V),Be.prototype.xa=function(){this.g=!1},Be.prototype.info=function(){};var Ue,qe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function We(){}function He(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ve(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $e}function $e(){this.i=null,this.g="",this.h=!1}x(We,ke),We.prototype.g=function(){return new XMLHttpRequest},We.prototype.i=function(){return{}},Ue=new We;var Ke={},Ge={};function Qe(e,t,n){e.L=1,e.v=xt(mt(t)),e.m=n,e.P=!0,Ye(e,null)}function Ye(e,t){e.F=Date.now(),Ze(e),e.A=mt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),jt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new $e,e.g=_n(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ye(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(be[0]=i.toString()),i=be);for(var o=0;o<i.length;o++){var a=ne(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?P(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),De(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Xe(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Je(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ge:(n=Number(t.substring(n,r)),isNaN(n)?Ke:(r+=1)+n>t.length?Ge:(t=t.slice(r,r+n),e.C=r+n,t))}function Ze(e){e.S=Date.now()+e.I,et(e,e.I)}function et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Fe(c(e.ba,e),t)}function tt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function nt(e){0==e.j.G||e.J||vn(e.j,e)}function rt(e){tt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,we(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function it(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ct(n.h,e)))if(!e.K&&ct(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yn(n),sn(n)}pn(n),Me(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Fe(c(n.Za,n),6e3));if(1>=lt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else wn(n,11)}else if((e.K||n.g==e)&&yn(n),!k(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ut(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,wt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=Sn(r,r.J?r.ia:null,r.W),a.K){ht(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(tt(s),Ze(s)),r.g=a}else fn(r);0<n.i.length&&cn(n)}else"stop"!=c[0]&&"close"!=c[0]||wn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wn(n,7):an(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}De()}catch(u){}}He.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==tn(e)?t.j():this.Y(e)},He.prototype.Y=function(e){try{if(e==this.g)e:{const d=tn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||nn(this.g)))){this.J||4!=d||7==t||De(),tt(this);var n=this.g.Z();this.X=n;t:if(Xe(this)){var r=nn(this.g);e="";var o=r.length,a=4==tn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rt(this),nt(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Me(12),rt(this),nt(this);break e}ze(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,it(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Je(this,s),e==Ge){4==d&&(this.s=4,Me(14),n=!1),ze(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ke){this.s=4,Me(15),ze(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}ze(this.i,this.l,e,null),it(this,e)}if(Xe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=s.length||this.h.h||(this.s=1,Me(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),gn(h),h.M=!0,Me(11))}}else ze(this.i,this.l,s,"[Invalid Chunked Response]"),rt(this),nt(this)}else ze(this.i,this.l,s,null),it(this,s);4==d&&rt(this),this.o&&!this.J&&(4==d?vn(this.j,this):(this.o=!1,Ze(this)))}else(function(e){const t={};e=(e.g&&2<=tn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(k(e[r]))continue;var n=O(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),rt(this),nt(this)}}}catch(d){}},He.prototype.cancel=function(){this.J=!0,rt(this)},He.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(De(),Me(17)),rt(this),this.s=2,nt(this)):et(this,this.S-e)};var ot=class{constructor(e,t){this.g=e,this.map=t}};function at(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function st(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lt(e){return e.h?1:e.g?e.g.size:0}function ct(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ut(e,t){e.g?e.g.add(t):e.h=t}function ht(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function dt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return S(e.i)}function ft(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}at.prototype.cancel=function(){if(this.i=dt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof gt){this.h=e.h,yt(this,e.j),this.o=e.o,this.g=e.g,vt(this,e.s),this.l=e.l;var t=e.i,n=new Ct;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),bt(this,n),this.m=e.m}else e&&(t=String(e).match(pt))?(this.h=!1,yt(this,t[1]||"",!0),this.o=St(t[2]||""),this.g=St(t[3]||"",!0),vt(this,t[4]),this.l=St(t[5]||"",!0),bt(this,t[6]||"",!0),this.m=St(t[7]||"")):(this.h=!1,this.i=new Ct(null,this.h))}function mt(e){return new gt(e)}function yt(e,t,n){e.j=n?St(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function bt(e,t,n){t instanceof Ct?(e.i=t,function(e,t){t&&!e.j&&(Ot(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Lt(this,t),jt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=_t(t,Pt)),e.i=new Ct(t,e.h))}function wt(e,t,n){e.i.set(t,n)}function xt(e){return wt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function St(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _t(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,kt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function kt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_t(t,Et,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(_t(t,Et,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(_t(n,"/"==n.charAt(0)?It:Tt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",_t(n,Nt)),e.join("")};var At,Et=/[#\/\?@]/g,Tt=/[#\?:]/g,It=/[#\?]/g,Pt=/[#\?@]/g,Nt=/#/g;function Ct(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ot(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Lt(e,t){Ot(e),t=Mt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Dt(e,t){return Ot(e),t=Mt(e,t),e.g.has(t)}function jt(e,t,n){Lt(e,t),0<n.length&&(e.i=null,e.g.set(Mt(e,t),S(n)),e.h+=n.length)}function Mt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Rt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Ft(){this.g=new _e}function Bt(e,t,n){const r=n||"";try{ft(e,function(e,n){let i=e;a(e)&&(i=xe(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function zt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ut(e,t){de.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function qt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Vt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Wt(e)}function Wt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ht(e){let t="";return I(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function $t(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ht(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):wt(e,t,n))}function Kt(e){de.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Ct.prototype).add=function(e,t){Ot(this),this.i=null,e=Mt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Ot(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Ot(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Ot(this);let t=[];if("string"===typeof e)Dt(this,e)&&(t=t.concat(this.g.get(Mt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Ot(this),this.i=null,Dt(this,e=Mt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},x(zt,ke),zt.prototype.g=function(){return new Ut(this.l,this.j)},zt.prototype.i=(At={},function(){return At}),x(Ut,de),(e=Ut.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Wt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Wt(this)),this.g&&(this.readyState=3,Wt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vt(this):Wt(this),3==this.readyState&&qt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Vt(this))},e.Qa=function(e){this.g&&(this.response=e,Vt(this))},e.ga=function(){this.g&&Vt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ut.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),x(Kt,de);var Gt=/^https?$/i,Qt=["POST","PUT"];function Yt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Xt(e),Zt(e)}function Xt(e){e.A||(e.A=!0,fe(e,"complete"),fe(e,"error"))}function Jt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=tn(e)||2!=e.Z()))if(e.u&&4==tn(e))ge(e.Ea,0,e);else if(fe(e,"readystatechange"),4==tn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(pt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Gt.test(a?a.toLowerCase():"")}n=o}if(n)fe(e,"complete"),fe(e,"success");else{e.m=6;try{var s=2<tn(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Xt(e)}}finally{Zt(e)}}}function Zt(e,t){if(e.g){en(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||fe(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function en(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function tn(e){return e.g?e.g.readyState:0}function nn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function rn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function on(e){this.Aa=0,this.i=[],this.j=new Be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rn("baseRetryDelayMs",5e3,e),this.cb=rn("retryDelaySeedMs",1e4,e),this.Wa=rn("forwardChannelMaxRetries",2,e),this.wa=rn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new at(e&&e.concurrentRequestLimit),this.Da=new Ft,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function an(e){if(ln(e),3==e.G){var t=e.U++,n=mt(e.I);if(wt(n,"SID",e.K),wt(n,"RID",t),wt(n,"TYPE","terminate"),hn(e,n),(t=new He(e,e.j,t)).L=2,t.v=xt(mt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=_n(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ze(t)}xn(e)}function sn(e){e.g&&(gn(e),e.g.cancel(),e.g=null)}function ln(e){sn(e),e.u&&(i.clearTimeout(e.u),e.u=null),yn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function cn(e){if(!st(e.h)&&!e.s){e.s=!0;var t=e.Ga;R||z(),F||(R(),F=!0),B.add(t,e),e.B=0}}function un(e,t){var n;n=t?t.l:e.U++;const r=mt(e.I);wt(r,"SID",e.K),wt(r,"RID",n),wt(r,"AID",e.T),hn(e,r),e.m&&e.o&&$t(r,e.m,e.o),n=new He(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=dn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ut(e.h,n),Qe(n,r,t)}function hn(e,t){e.H&&I(e.H,function(e,n){wt(t,n,e)}),e.l&&ft({},function(e,n){wt(t,n,e)})}function dn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{Bt(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function fn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;R||z(),F||(R(),F=!0),B.add(t,e),e.v=0}}function pn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Fe(c(e.Fa,e),bn(e,e.v)),e.v++,!0)}function gn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function mn(e){e.g=new He(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=mt(e.qa);wt(t,"RID","rpc"),wt(t,"SID",e.K),wt(t,"AID",e.T),wt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&wt(t,"TO",e.ja),wt(t,"TYPE","xmlhttp"),hn(e,t),e.m&&e.o&&$t(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=xt(mt(t)),n.m=null,n.P=!0,Ye(n,e)}function yn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function vn(e,t){var n=null;if(e.g==t){yn(e),gn(e),e.g=null;var r=2}else{if(!ct(e.h,t))return;n=t.D,ht(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;fe(r=Oe(),new Re(r,n)),cn(e)}else fn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(lt(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Fe(c(e.Ga,e,t),bn(e,e.B)),e.B++,!0))}(e,t)||2==r&&pn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:wn(e,5);break;case 4:wn(e,10);break;case 3:wn(e,6);break;default:wn(e,2)}}function bn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function wn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new gt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||yt(r,"https"),xt(r),t?function(e,t){const n=new Be;if(i.Image){const r=new Image;r.onload=u(Rt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Rt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Rt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Rt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Be;const n=new AbortController,r=setTimeout(()=>{n.abort(),Rt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Rt(0,0,!0,t):Rt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Rt(0,0,!1,t)})}(r.toString(),n)}else Me(2);e.G=0,e.l&&e.l.sa(t),xn(e),ln(e)}function xn(e){if(e.G=0,e.ka=[],e.l){const t=dt(e.h);0==t.length&&0==e.i.length||(_(e.ka,t),_(e.ka,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.ra()}}function Sn(e,t,n){var r=n instanceof gt?mt(n):new gt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),vt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new gt(null);r&&yt(a,r),t&&(a.g=t),o&&vt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&wt(r,n,t),wt(r,"VER",e.la),hn(e,r),r}function _n(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Kt(new zt({eb:n})):new Kt(e.pa)).Ha(e.J),t}function kn(){}function An(){}function En(e,t){de.call(this),this.g=new on(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!k(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!k(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Pn(this)}function Tn(e){Ie.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function In(){Pe.call(this),this.status=1}function Pn(e){this.g=e}(e=Kt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ue.g(),this.v=this.o?Ae(this.o):Ae(Ue),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Yt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Qt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{en(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Yt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,fe(this,"complete"),fe(this,"abort"),Zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Kt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Jt(this):this.bb())},e.bb=function(){Jt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch(At){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(At){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Se(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=on.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Me(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=Sn(this,null,this.W),cn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new He(this,this.j,e);let o=this.o;if(this.S&&(o?(o=P(o),C(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=dn(this,i,t),wt(n=mt(this.I),"RID",e),wt(n,"CVER",22),this.D&&wt(n,"X-HTTP-Session-Id",this.D),hn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Ht(o)))+"&"+t:this.m&&$t(n,this.m,o)),ut(this.h,i),this.Ua&&wt(n,"TYPE","init"),this.P?(wt(n,"$req",t),wt(n,"SID","null"),i.T=!0,Qe(i,n,null)):Qe(i,n,t),this.G=2}}else 3==this.G&&(e?un(this,e):0==this.i.length||st(this.h)||un(this))},e.Fa=function(){if(this.u=null,mn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Fe(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),sn(this),mn(this))},e.Za=function(){null!=this.C&&(this.C=null,sn(this),pn(this),Me(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=kn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},An.prototype.g=function(e,t){return new En(e,t)},x(En,de),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){an(this.g)},En.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=xe(e),e=n);t.i.push(new ot(t.Ya++,e)),3==t.G&&cn(t)},En.prototype.N=function(){this.g.l=null,delete this.j,an(this.g),delete this.g,En.aa.N.call(this)},x(Tn,Ie),x(In,Pe),x(Pn,kn),Pn.prototype.ua=function(){fe(this.g,"a")},Pn.prototype.ta=function(e){fe(this.g,new Tn(e))},Pn.prototype.sa=function(e){fe(this.g,new In)},Pn.prototype.ra=function(){fe(this.g,"b")},An.prototype.createWebChannel=An.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,v=w.createWebChannelTransport=function(){return new An},y=w.getStatEventTarget=function(){return Oe()},m=w.Event=Ne,g=w.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,p=w.ErrorCode=qe,Ve.COMPLETE="complete",f=w.EventType=Ve,Ee.EventType=Te,Te.OPEN="a",Te.CLOSE="b",Te.ERROR="c",Te.MESSAGE="d",de.prototype.listen=de.prototype.K,d=w.WebChannel=Ee,w.FetchXmlHttpFactory=zt,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,h=w.XhrIo=Kt}).apply("undefined"!==typeof b?b:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const x="@firebase/firestore",S="4.8.0";class _{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_.UNAUTHENTICATED=new _(null),_.GOOGLE_CREDENTIALS=new _("google-credentials-uid"),_.FIRST_PARTY=new _("first-party-uid"),_.MOCK_USER=new _("mock-user");let k="11.10.0";const A=new s.Vy("@firebase/firestore");function E(){return A.logLevel}function T(e){A.setLogLevel(e)}function I(e){if(A.logLevel<=s.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(C);A.debug(`Firestore (${k}): ${e}`,...i)}}function P(e){if(A.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(C);A.error(`Firestore (${k}): ${e}`,...i)}}function N(e){if(A.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(C);A.warn(`Firestore (${k}): ${e}`,...i)}}function C(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function O(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,L(e,r,n)}function L(e,t,n){let r=`FIRESTORE (${k}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw P(r),new Error(r)}function D(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||L(t,i,r)}function j(e,t){e||O(57014,t)}function M(e,t){return e}const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class B{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class z{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_.UNAUTHENTICATED))}shutdown(){}}class q{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class V{constructor(e){this.t=e,this.currentUser=_.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){D(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new B;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new B,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new B)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(D("string"==typeof t.accessToken,31837,{l:t}),new z(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return D(null===e||"string"==typeof e,2055,{h:e}),new _(e)}}class W{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=_.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new W(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(_.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,o.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){D(void 0===this.o,3512);const n=e=>{null!=e.error&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,I("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(D("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new $(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class G{getToken(){return Promise.resolve(new $(""))}invalidateToken(){}start(e,t){}shutdown(){}}function Q(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Y(){return new TextEncoder}class X{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Q(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function J(e,t){return e<t?-1:e>t?1:0}function Z(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return J(r,i);{const o=Y(),a=te(o.encode(ee(e,n)),o.encode(ee(t,n)));return 0!==a?a:J(r,i)}}n+=r>65535?2:1}return J(e.length,t.length)}function ee(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function te(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return J(e[n],t[n]);return J(e.length,t.length)}function ne(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function re(e){return e+"\0"}const ie="__name__";class oe{constructor(e,t,n){void 0===t?t=0:t>e.length&&O(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&O(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===oe.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof oe?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=oe.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return J(e.length,t.length)}static compareSegments(e,t){const n=oe.isNumericId(e),r=oe.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?oe.extractNumericId(e).compare(oe.extractNumericId(t)):Z(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class ae extends oe{construct(e,t,n){return new ae(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new F(R.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(e=>e.length>0))}return new ae(e)}static emptyPath(){return new ae([])}}const se=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class le extends oe{construct(e,t,n){return new le(e,t,n)}static isValidIdentifier(e){return se.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),le.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ie}static keyField(){return new le([ie])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new F(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new F(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new F(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new F(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new le(t)}static emptyPath(){return new le([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(ae.fromString(e))}static fromName(e){return new ce(ae.fromString(e).popFirst(5))}static empty(){return new ce(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ae.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ae.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new ae(e.slice()))}}function ue(e,t,n){if(!n)throw new F(R.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function he(e,t,n,r){if(!0===t&&!0===r)throw new F(R.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function de(e){if(!ce.isDocumentKey(e))throw new F(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function fe(e){if(ce.isDocumentKey(e))throw new F(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function pe(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ge(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":O(12329,{type:typeof e})}function me(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ge(e);throw new F(R.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function ye(e,t){if(t<=0)throw new F(R.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}function ve(e,t){const n={typeString:e};return t&&(n.value=t),n}function be(e,t){if(!pe(e))throw new F(R.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==o&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new F(R.INVALID_ARGUMENT,n);return!0}const we=-62135596800,xe=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*xe);return new Se(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new F(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new F(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<we)throw new F(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xe}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(be(e,Se._jsonSchema))return new Se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-we;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Se._jsonSchemaVersion="firestore/timestamp/1.0",Se._jsonSchema={type:ve("string",Se._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Se(0,0))}static max(){return new _e(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ke=-1;class Ae{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Ee(e){return e.fields.find(e=>2===e.kind)}function Te(e){return e.fields.filter(e=>2!==e.kind)}function Ie(e,t){let n=J(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r)if(n=Ne(e.fields[r],t.fields[r]),0!==n)return n;return J(e.fields.length,t.fields.length)}Ae.UNKNOWN_ID=-1;class Pe{constructor(e,t){this.fieldPath=e,this.kind=t}}function Ne(e,t){const n=le.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:J(e.kind,t.kind)}class Ce{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ce(0,De.min())}}function Oe(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(1e9===r?new Se(n+1,0):new Se(n,r));return new De(i,ce.empty(),t)}function Le(e){return new De(e.readTime,e.key,ke)}class De{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new De(_e.min(),ce.empty(),ke)}static max(){return new De(_e.max(),ce.empty(),ke)}}function je(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ce.comparator(e.documentKey,t.documentKey),0!==n?n:J(e.largestBatchId,t.largestBatchId))}const Me="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Re{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Fe(e){if(e.code!==R.FAILED_PRECONDITION||e.message!==Me)throw e;I("LocalStore","Unexpectedly lost primary lease")}class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&O(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Be((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Be?t:Be.resolve(t)}catch(e){return Be.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.reject(t)}static resolve(e){return new Be((t,n)=>{t(e)})}static reject(e){return new Be((t,n)=>{n(e)})}static waitFor(e){return new Be((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=Be.resolve(!1);for(const n of e)t=t.next(e=>e?Be.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Be((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++a,a===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Be((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}const ze="SimpleDb";class Ue{static open(e,t,n,r){try{return new Ue(t,e.transaction(r,n))}catch(e){throw new He(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new B,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new He(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{const n=Ye(t.target.error);this.S.reject(new He(e,n))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(I(ze,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ke(t)}}class qe{static delete(e){return I(ze,"Removing database:",e),Ge((0,l.mS)().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,l.zW)())return!1;if(qe.F())return!0;const e=(0,l.ZQ)(),t=qe.M(e),n=0<t&&t<10,r=Ve(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static F(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.O)}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.B=n,this.L=null,12.2===qe.M((0,l.ZQ)())&&P("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(I(ze,"Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new He(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new F(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new F(R.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new He(e,r))},r.onupgradeneeded=e=>{I(ze,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;if(null!==this.L&&this.L!==e.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${e.oldVersion}, event.newVersion=${e.newVersion}, db.version=${t.version}`);this.B.q(t,r.transaction,e.oldVersion,this.version).next(()=>{I(ze,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",e=>{const t=e.target;this.L=t.version},{passive:!0})),this.db.addEventListener("versionchange",e=>{var t;null===e.newVersion&&(N('Received "versionchange" event with newVersion===null; notifying the registered DatabaseDeletedListener, if any'),null===(t=this.databaseDeletedListener)||void 0===t||t.call(this))},{passive:!0}),this.db}setDatabaseDeletedListener(e){if(this.databaseDeletedListener)throw new Error("setDatabaseDeletedListener() may only be called once, and it has already been called");this.databaseDeletedListener=e}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.k(e);const t=Ue.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next(e=>(t.v(),e)).catch(e=>(t.abort(e),Be.reject(e))).toPromise();return o.catch(()=>{}),await t.D,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(I(ze,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Ve(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class We{constructor(e){this.$=e,this.U=!1,this.K=null}get isDone(){return this.U}get W(){return this.K}set cursor(e){this.$=e}done(){this.U=!0}G(e){this.K=e}delete(){return Ge(this.$.delete())}}class He extends F{constructor(e,t){super(R.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $e(e){return"IndexedDbTransactionError"===e.name}class Ke{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(I(ze,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(I(ze,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ge(n)}add(e){return I(ze,"ADD",this.store.name,e,e),Ge(this.store.add(e))}get(e){return Ge(this.store.get(e)).next(t=>(void 0===t&&(t=null),I(ze,"GET",this.store.name,e,t),t))}delete(e){return I(ze,"DELETE",this.store.name,e),Ge(this.store.delete(e))}count(){return I(ze,"COUNT",this.store.name),Ge(this.store.count())}j(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Be((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{const e=this.cursor(n),t=[];return this.J(e,(e,n)=>{t.push(n)}).next(()=>t)}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Be((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}Y(e,t){I(ze,"DELETE ALL",this.store.name);const n=this.options(e,t);n.Z=!1;const r=this.cursor(n);return this.J(r,(e,t,n)=>n.delete())}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.J(r,t)}ee(e){const t=this.cursor({});return new Be((n,r)=>{t.onerror=e=>{const t=Ye(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}J(e,t){const n=[];return new Be((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new We(i),a=t(i.primaryKey,i.value,o);if(a instanceof Be){const e=a.catch(e=>(o.done(),Be.reject(e)));n.push(e)}o.isDone?r():null===o.W?i.continue():i.continue(o.W)}}).next(()=>Be.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Z?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ge(e){return new Be((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ye(e.target.error);n(t)}})}let Qe=!1;function Ye(e){const t=qe.M((0,l.ZQ)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new F("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qe||(Qe=!0,setTimeout(()=>{throw e},0)),e}}return e}const Xe="IndexBackfiller";class Je{constructor(e,t){this.asyncQueue=e,this.te=t,this.task=null}start(){this.ne(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ne(e){I(Xe,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const e=await this.te.re();I(Xe,`Documents written: ${e}`)}catch(e){$e(e)?I(Xe,"Ignoring IndexedDB error during index backfill: ",e):await Fe(e)}await this.ne(6e4)})}}class Ze{constructor(e,t){this.localStore=e,this.persistence=t}async re(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.ie(t,e))}ie(e,t){const n=new Set;let r=t,i=!0;return Be.doWhile(()=>!0===i&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return I(Xe,`Processing collection: ${t}`),this.se(e,t,r).next(e=>{r-=e,n.add(t)});i=!1})).next(()=>t-r)}se(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this.oe(r,n)).next(n=>(I(Xe,`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>i.size)}))}oe(e,t){let n=e;return t.changes.forEach((e,t)=>{const r=Le(t);je(r,n)>0&&(n=r)}),new De(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class et{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}et.ue=-1;const tt=-1;function nt(e){return null==e}function rt(e){return 0===e&&1/e==-1/0}function it(e){return"number"==typeof e&&Number.isInteger(e)&&!rt(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ot="\x01";function at(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=lt(t)),t=st(e.get(n),t);return lt(t)}function st(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case ot:n+="\x01\x11";break;default:n+=t}}return n}function lt(e){return e+ot+"\x01"}function ct(e){const t=e.length;if(D(t>=2,64408,{path:e}),2===t)return D(e.charAt(0)===ot&&"\x01"===e.charAt(1),56145,{path:e}),ae.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf(ot,o);switch((t<0||t>n)&&O(50515,{path:e}),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:O(61167,{path:e})}o=t+2}return new ae(r)}const ut="remoteDocuments",ht="owner",dt="owner",ft="mutationQueues",pt="mutations",gt="batchId",mt="userMutationsIndex",yt=["userId","batchId"];function vt(e,t){return[e,at(t)]}function bt(e,t,n){return[e,at(t),n]}const wt={},xt="documentMutations",St="remoteDocumentsV14",_t=["prefixPath","collectionGroup","readTime","documentId"],kt="documentKeyIndex",At=["prefixPath","collectionGroup","documentId"],Et="collectionGroupIndex",Tt=["collectionGroup","readTime","prefixPath","documentId"],It="remoteDocumentGlobal",Pt="remoteDocumentGlobalKey",Nt="targets",Ct="queryTargetsIndex",Ot=["canonicalId","targetId"],Lt="targetDocuments",Dt=["targetId","path"],jt="documentTargetsIndex",Mt=["path","targetId"],Rt="targetGlobalKey",Ft="targetGlobal",Bt="collectionParents",zt=["collectionId","parent"],Ut="clientMetadata",qt="bundles",Vt="namedQueries",Wt="indexConfiguration",Ht="collectionGroupIndex",$t="indexState",Kt=["indexId","uid"],Gt="sequenceNumberIndex",Qt=["uid","sequenceNumber"],Yt="indexEntries",Xt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Jt="documentKeyIndex",Zt=["indexId","uid","orderedDocumentKey"],en="documentOverlays",tn=["userId","collectionPath","documentId"],nn="collectionPathOverlayIndex",rn=["userId","collectionPath","largestBatchId"],on="collectionGroupOverlayIndex",an=["userId","collectionGroup","largestBatchId"],sn="globals",ln=[ft,pt,xt,ut,Nt,ht,Ft,Lt,Ut,It,Bt,qt,Vt],cn=[...ln,en],un=[ft,pt,xt,St,Nt,ht,Ft,Lt,Ut,It,Bt,qt,Vt,en],hn=un,dn=[...hn,Wt,$t,Yt],fn=dn,pn=[...dn,sn],gn=pn;class mn extends Re{constructor(e,t){super(),this.ce=e,this.currentSequenceNumber=t}}function yn(e,t){const n=M(e);return qe.N(n.ce,t)}function vn(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bn(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wn(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function xn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Sn{constructor(e,t){this.comparator=e,this.root=t||kn.EMPTY}insert(e,t){return new Sn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _n(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _n(this.root,e,this.comparator,!1)}getReverseIterator(){return new _n(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _n(this.root,e,this.comparator,!0)}}class _n{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:kn.RED,this.left=null!=r?r:kn.EMPTY,this.right=null!=i?i:kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new kn(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return kn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw O(43730,{key:this.key,value:this.value});if(this.right.isRed())throw O(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw O(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1,kn.EMPTY=new class{constructor(){this.size=0}get key(){throw O(57766)}get value(){throw O(16141)}get color(){throw O(16727)}get left(){throw O(29726)}get right(){throw O(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class An{constructor(e){this.comparator=e,this.data=new Sn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new En(this.data.getIterator())}getIteratorFrom(e){return new En(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof An))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new An(this.comparator);return t.data=e,t}}class En{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tn(e){return e.hasNext()?e.getNext():void 0}class In{constructor(e){this.fields=e,e.sort(le.comparator)}static empty(){return new In([])}unionWith(e){let t=new An(le.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ne(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Pn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Nn(){return"undefined"!=typeof atob}class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Pn("Invalid base64 string: "+e):e}}(e);return new Cn(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const On=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ln(e){if(D(!!e,39018),"string"==typeof e){let t=0;const n=On.exec(e);if(D(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Dn(e.seconds),nanos:Dn(e.nanos)}}function Dn(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jn(e){return"string"==typeof e?Cn.fromBase64String(e):Cn.fromUint8Array(e)}const Mn="server_timestamp",Rn="__type__",Fn="__previous_value__",Bn="__local_write_time__";function zn(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Rn])||void 0===n?void 0:n.stringValue)===Mn}function Un(e){const t=e.mapValue.fields[Fn];return zn(t)?Un(t):t}function qn(e){const t=Ln(e.mapValue.fields[Bn].timestampValue);return new Se(t.seconds,t.nanos)}class Vn{constructor(e,t,n,r,i,o,a,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const Wn="(default)";class Hn{constructor(e,t){this.projectId=e,this.database=t||Wn}static empty(){return new Hn("","")}get isDefaultDatabase(){return this.database===Wn}isEqual(e){return e instanceof Hn&&e.projectId===this.projectId&&e.database===this.database}}const $n="__type__",Kn="__max__",Gn={mapValue:{fields:{__type__:{stringValue:Kn}}}},Qn="__vector__",Yn="value",Xn={nullValue:"NULL_VALUE"};function Jn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zn(e)?4:gr(e)?9007199254740991:fr(e)?10:11:O(28295,{value:e})}function Zn(e,t){if(e===t)return!0;const n=Jn(e);if(n!==Jn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qn(e).isEqual(qn(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ln(e.timestampValue),r=Ln(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return jn(e.bytesValue).isEqual(jn(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Dn(e.geoPointValue.latitude)===Dn(t.geoPointValue.latitude)&&Dn(e.geoPointValue.longitude)===Dn(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Dn(e.integerValue)===Dn(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Dn(e.doubleValue),r=Dn(t.doubleValue);return n===r?rt(n)===rt(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ne(e.arrayValue.values||[],t.arrayValue.values||[],Zn);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vn(n)!==vn(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Zn(n[i],r[i])))return!1;return!0}(e,t);default:return O(52216,{left:e})}}function er(e,t){return void 0!==(e.values||[]).find(e=>Zn(e,t))}function tr(e,t){if(e===t)return 0;const n=Jn(e),r=Jn(t);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Dn(e.integerValue||e.doubleValue),r=Dn(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return nr(e.timestampValue,t.timestampValue);case 4:return nr(qn(e),qn(t));case 5:return Z(e.stringValue,t.stringValue);case 6:return function(e,t){const n=jn(e),r=jn(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=J(n[i],r[i]);if(0!==e)return e}return J(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=J(Dn(e.latitude),Dn(t.latitude));return 0!==n?n:J(Dn(e.longitude),Dn(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return rr(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a[Yn])||void 0===n?void 0:n.arrayValue,c=null===(r=s[Yn])||void 0===r?void 0:r.arrayValue,u=J((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:rr(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Gn.mapValue&&t===Gn.mapValue)return 0;if(e===Gn.mapValue)return 1;if(t===Gn.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=Z(r[a],o[a]);if(0!==e)return e;const t=tr(n[r[a]],i[o[a]]);if(0!==t)return t}return J(r.length,o.length)}(e.mapValue,t.mapValue);default:throw O(23264,{le:n})}}function nr(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return J(e,t);const n=Ln(e),r=Ln(t),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function rr(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=tr(n[i],r[i]);if(e)return e}return J(n.length,r.length)}function ir(e){return or(e)}function or(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ln(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return jn(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ce.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=or(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${or(e.fields[i])}`;return n+"}"}(e.mapValue):O(61005,{value:e})}function ar(e){switch(Jn(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Un(e);return t?16+ar(t):16;case 5:return 2*e.stringValue.length;case 6:return jn(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+ar(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return bn(e.fields,(e,n)=>{t+=e.length+ar(n)}),t}(e.mapValue);default:throw O(13486,{value:e})}}function sr(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function lr(e){return!!e&&"integerValue"in e}function cr(e){return!!e&&"arrayValue"in e}function ur(e){return!!e&&"nullValue"in e}function hr(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dr(e){return!!e&&"mapValue"in e}function fr(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[$n])||void 0===n?void 0:n.stringValue)===Qn}function pr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return bn(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=pr(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=pr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function gr(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Kn}const mr={mapValue:{fields:{[$n]:{stringValue:Qn},[Yn]:{arrayValue:{}}}}};function yr(e){return"nullValue"in e?Xn:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?sr(Hn.empty(),ce.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?fr(e)?mr:{mapValue:{}}:O(35942,{value:e})}function vr(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?sr(Hn.empty(),ce.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?mr:"mapValue"in e?fr(e)?{mapValue:{}}:Gn:O(61959,{value:e})}function br(e,t){const n=tr(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function wr(e,t){const n=tr(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class xr{constructor(e){this.value=e}static empty(){return new xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!dr(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pr(t)}setAll(e){let t=le.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=pr(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());dr(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];dr(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){bn(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new xr(pr(this.value))}}function Sr(e){const t=[];return bn(e.fields,(e,n)=>{const r=new le([e]);if(dr(n)){const e=Sr(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new In(t)}class _r{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _r(e,0,_e.min(),_e.min(),_e.min(),xr.empty(),0)}static newFoundDocument(e,t,n,r){return new _r(e,1,t,_e.min(),n,r,0)}static newNoDocument(e,t){return new _r(e,2,t,_e.min(),_e.min(),xr.empty(),0)}static newUnknownDocument(e,t){return new _r(e,3,t,_e.min(),_e.min(),xr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_e.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kr{constructor(e,t){this.position=e,this.inclusive=t}}function Ar(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ce.comparator(ce.fromName(a.referenceValue),n.key):tr(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Er(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Zn(e.position[n],t.position[n]))return!1;return!0}class Tr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ir(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Pr{}class Nr extends Pr{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new zr(e,t,n):"array-contains"===t?new Wr(e,n):"in"===t?new Hr(e,n):"not-in"===t?new $r(e,n):"array-contains-any"===t?new Kr(e,n):new Nr(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ur(e,n):new qr(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(tr(t,this.value)):null!==t&&Jn(this.value)===Jn(t)&&this.matchesComparison(tr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends Pr{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Cr(e,t)}matches(e){return Or(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Or(e){return"and"===e.op}function Lr(e){return"or"===e.op}function Dr(e){return jr(e)&&Or(e)}function jr(e){for(const t of e.filters)if(t instanceof Cr)return!1;return!0}function Mr(e){if(e instanceof Nr)return e.field.canonicalString()+e.op.toString()+ir(e.value);if(Dr(e))return e.filters.map(e=>Mr(e)).join(",");{const t=e.filters.map(e=>Mr(e)).join(",");return`${e.op}(${t})`}}function Rr(e,t){return e instanceof Nr?function(e,t){return t instanceof Nr&&e.op===t.op&&e.field.isEqual(t.field)&&Zn(e.value,t.value)}(e,t):e instanceof Cr?function(e,t){return t instanceof Cr&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Rr(n,t.filters[r]),!0)}(e,t):void O(19439)}function Fr(e,t){const n=e.filters.concat(t);return Cr.create(n,e.op)}function Br(e){return e instanceof Nr?function(e){return`${e.field.canonicalString()} ${e.op} ${ir(e.value)}`}(e):e instanceof Cr?function(e){return e.op.toString()+" {"+e.getFilters().map(Br).join(" ,")+"}"}(e):"Filter"}class zr extends Nr{constructor(e,t,n){super(e,t,n),this.key=ce.fromName(n.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ur extends Nr{constructor(e,t){super(e,"in",t),this.keys=Vr("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qr extends Nr{constructor(e,t){super(e,"not-in",t),this.keys=Vr("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vr(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ce.fromName(e.referenceValue))}class Wr extends Nr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cr(t)&&er(t.arrayValue,this.value)}}class Hr extends Nr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&er(this.value.arrayValue,t)}}class $r extends Nr{constructor(e,t){super(e,"not-in",t)}matches(e){if(er(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!er(this.value.arrayValue,t)}}class Kr extends Nr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cr(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>er(this.value.arrayValue,e))}}class Gr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function Qr(e){return new Gr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Yr(e){const t=M(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Mr(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),nt(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ir(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ir(e)).join(",")),t.Pe=e}return t.Pe}function Xr(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ir(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Rr(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Er(e.startAt,t.startAt)&&Er(e.endAt,t.endAt)}function Jr(e){return ce.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Zr(e,t){return e.filters.filter(e=>e instanceof Nr&&e.field.isEqual(t))}function ei(e,t,n){let r=Xn,i=!0;for(const o of Zr(e,t)){let e=Xn,t=!0;switch(o.op){case"<":case"<=":e=yr(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Xn}br({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];br({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function ti(e,t,n){let r=Gn,i=!0;for(const o of Zr(e,t)){let e=Gn,t=!0;switch(o.op){case">=":case">":e=vr(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Gn}wr({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];wr({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class ni{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function ri(e,t,n,r,i,o,a,s){return new ni(e,t,n,r,i,o,a,s)}function ii(e){return new ni(e)}function oi(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ai(e){return null!==e.collectionGroup}function si(e){const t=M(e);if(null===t.Te){t.Te=[];const e=new Set;for(const i of t.explicitOrderBy)t.Te.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new An(le.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new Tr(r,n))}),e.has(le.keyField().canonicalString())||t.Te.push(new Tr(le.keyField(),n))}return t.Te}function li(e){const t=M(e);return t.Ie||(t.Ie=ui(t,si(e))),t.Ie}function ci(e){const t=M(e);return t.de||(t.de=ui(t,e.explicitOrderBy)),t.de}function ui(e,t){if("F"===e.limitType)return Qr(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Tr(e.field,t)});const n=e.endAt?new kr(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new kr(e.startAt.position,e.startAt.inclusive):null;return Qr(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function hi(e,t){const n=e.filters.concat([t]);return new ni(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function di(e,t,n){return new ni(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fi(e,t){return Xr(li(e),li(t))&&e.limitType===t.limitType}function pi(e){return`${Yr(li(e))}|lt:${e.limitType}`}function gi(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Br(e)).join(", ")}]`),nt(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ir(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ir(e)).join(",")),`Target(${t})`}(li(e))}; limitType=${e.limitType})`}function mi(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ce.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of si(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ar(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,si(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ar(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,si(e),t))}(e,t)}function yi(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function vi(e){return(t,n)=>{let r=!1;for(const i of si(e)){const e=bi(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function bi(e,t,n){const r=e.field.isKeyField()?ce.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?tr(r,i):O(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return O(19790,{direction:e.dir})}}class wi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){bn(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return xn(this.inner)}size(){return this.innerSize}}const xi=new Sn(ce.comparator);function Si(){return xi}const _i=new Sn(ce.comparator);function ki(){let e=_i;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ai(e){let t=_i;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Ei(){return Ii()}function Ti(){return Ii()}function Ii(){return new wi(e=>e.toString(),(e,t)=>e.isEqual(t))}const Pi=new Sn(ce.comparator),Ni=new An(ce.comparator);function Ci(){let e=Ni;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Oi=new An(J);function Li(){return Oi}function Di(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rt(t)?"-0":t}}function ji(e){return{integerValue:""+e}}function Mi(e,t){return it(t)?ji(t):Di(e,t)}class Ri{constructor(){this._=void 0}}function Fi(e,t,n){return e instanceof Ui?function(e,t){const n={fields:{[Rn]:{stringValue:Mn},[Bn]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&zn(t)&&(t=Un(t)),t&&(n.fields[Fn]=t),{mapValue:n}}(n,t):e instanceof qi?Vi(e,t):e instanceof Wi?Hi(e,t):function(e,t){const n=zi(e,t),r=Ki(n)+Ki(e.Ee);return lr(n)&&lr(e.Ee)?ji(r):Di(e.serializer,r)}(e,t)}function Bi(e,t,n){return e instanceof qi?Vi(e,t):e instanceof Wi?Hi(e,t):n}function zi(e,t){return e instanceof $i?function(e){return lr(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ui extends Ri{}class qi extends Ri{constructor(e){super(),this.elements=e}}function Vi(e,t){const n=Gi(t);for(const r of e.elements)n.some(e=>Zn(e,r))||n.push(r);return{arrayValue:{values:n}}}class Wi extends Ri{constructor(e){super(),this.elements=e}}function Hi(e,t){let n=Gi(t);for(const r of e.elements)n=n.filter(e=>!Zn(e,r));return{arrayValue:{values:n}}}class $i extends Ri{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Ki(e){return Dn(e.integerValue||e.doubleValue)}function Gi(e){return cr(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Qi{constructor(e,t){this.field=e,this.transform=t}}class Yi{constructor(e,t){this.version=e,this.transformResults=t}}class Xi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ji(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Zi{}function eo(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new uo(e.key,Xi.none()):new oo(e.key,e.data,Xi.none());{const n=e.data,r=xr.empty();let i=new An(le.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ao(e.key,r,new In(i.toArray()),Xi.none())}}function to(e,t,n){e instanceof oo?function(e,t,n){const r=e.value.clone(),i=lo(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ao?function(e,t,n){if(!Ji(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=lo(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(so(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function no(e,t,n,r){return e instanceof oo?function(e,t,n,r){if(!Ji(e.precondition,t))return n;const i=e.value.clone(),o=co(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ao?function(e,t,n,r){if(!Ji(e.precondition,t))return n;const i=co(e.fieldTransforms,r,t),o=t.data;return o.setAll(so(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Ji(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ro(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=zi(r.transform,e||null);null!=i&&(null===n&&(n=xr.empty()),n.set(r.field,i))}return n||null}function io(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ne(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qi&&t instanceof qi||e instanceof Wi&&t instanceof Wi?ne(e.elements,t.elements,Zn):e instanceof $i&&t instanceof $i?Zn(e.Ee,t.Ee):e instanceof Ui&&t instanceof Ui}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class oo extends Zi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ao extends Zi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function so(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function lo(e,t,n){const r=new Map;D(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Bi(a,s,n[i]))}return r}function co(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Fi(e,o,t))}return r}class uo extends Zi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ho extends Zi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fo{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&to(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=no(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=no(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ti();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=eo(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(_e.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ci())}isEqual(e){return this.batchId===e.batchId&&ne(this.mutations,e.mutations,(e,t)=>io(e,t))&&ne(this.baseMutations,e.baseMutations,(e,t)=>io(e,t))}}class po{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){D(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=Pi;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new po(e,t,n,r)}}class go{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mo{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class yo{constructor(e,t){this.count=e,this.unchangedNames=t}}var vo,bo;function wo(e){switch(e){case R.OK:return O(64938);case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return O(15467,{code:e})}}function xo(e){if(void 0===e)return P("GRPC error has no .code"),R.UNKNOWN;switch(e){case vo.OK:return R.OK;case vo.CANCELLED:return R.CANCELLED;case vo.UNKNOWN:return R.UNKNOWN;case vo.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case vo.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case vo.INTERNAL:return R.INTERNAL;case vo.UNAVAILABLE:return R.UNAVAILABLE;case vo.UNAUTHENTICATED:return R.UNAUTHENTICATED;case vo.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case vo.NOT_FOUND:return R.NOT_FOUND;case vo.ALREADY_EXISTS:return R.ALREADY_EXISTS;case vo.PERMISSION_DENIED:return R.PERMISSION_DENIED;case vo.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case vo.ABORTED:return R.ABORTED;case vo.OUT_OF_RANGE:return R.OUT_OF_RANGE;case vo.UNIMPLEMENTED:return R.UNIMPLEMENTED;case vo.DATA_LOSS:return R.DATA_LOSS;default:return O(39323,{code:e})}}(bo=vo||(vo={}))[bo.OK=0]="OK",bo[bo.CANCELLED=1]="CANCELLED",bo[bo.UNKNOWN=2]="UNKNOWN",bo[bo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bo[bo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bo[bo.NOT_FOUND=5]="NOT_FOUND",bo[bo.ALREADY_EXISTS=6]="ALREADY_EXISTS",bo[bo.PERMISSION_DENIED=7]="PERMISSION_DENIED",bo[bo.UNAUTHENTICATED=16]="UNAUTHENTICATED",bo[bo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bo[bo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bo[bo.ABORTED=10]="ABORTED",bo[bo.OUT_OF_RANGE=11]="OUT_OF_RANGE",bo[bo.UNIMPLEMENTED=12]="UNIMPLEMENTED",bo[bo.INTERNAL=13]="INTERNAL",bo[bo.UNAVAILABLE=14]="UNAVAILABLE",bo[bo.DATA_LOSS=15]="DATA_LOSS";let So=null;const _o=new r([4294967295,4294967295],0);function ko(e){const t=Y().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function Ao(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new r([n,i],0),new r([o,a],0)]}class Eo{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new To(`Invalid padding: ${t}`);if(n<0)throw new To(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new To(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new To(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=r.fromNumber(this.fe)}pe(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(_o)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=ko(e),[n,r]=Ao(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Eo(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.fe)return;const t=ko(e),[n,r]=Ao(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class To extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Io{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Po.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Io(_e.min(),r,new Sn(J),Si(),Ci())}}class Po{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Po(n,t,Ci(),Ci(),Ci())}}class No{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class Co{constructor(e,t){this.targetId=e,this.De=t}}class Oo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cn.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Lo{constructor(){this.ve=0,this.Ce=Mo(),this.Fe=Cn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ci(),t=Ci(),n=Ci();return this.Ce.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:O(38017,{changeType:i})}}),new Po(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=Mo()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,D(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Do{constructor(e){this.We=e,this.Ge=new Map,this.ze=Si(),this.je=jo(),this.Je=jo(),this.He=new Sn(J)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:O(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const i=r.target;if(Jr(i))if(0===n){const e=new ce(i.path);this.Xe(t,e,_r.newNoDocument(e,_e.min()))}else D(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),i=n?this.ut(n,e,r):1;if(0!==i){this.rt(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==So||So.ct(function(e,t,n,r,i){var o,a,s,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.De,this.We.lt(),n,i))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=jn(n).toUint8Array()}catch(e){if(e instanceof Pn)return N("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Eo(o,r,i)}catch(e){return N(e instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.fe?null:a}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.We.lt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const i=this.st(r);if(i){if(n.current&&Jr(i.target)){const t=new ce(i.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,_r.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=Ci();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new Io(e,t,this.He,this.ze,n);return this.ze=Si(),this.je=jo(),this.Je=jo(),this.He=new Sn(J),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Lo,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new An(J),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new An(J),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||I("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Lo),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function jo(){return new Sn(ce.comparator)}function Mo(){return new Sn(ce.comparator)}const Ro={asc:"ASCENDING",desc:"DESCENDING"},Fo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bo={and:"AND",or:"OR"};class zo{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Uo(e,t){return e.useProto3Json||nt(t)?t:{value:t}}function qo(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vo(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Wo(e,t){return qo(e,t.toTimestamp())}function Ho(e){return D(!!e,49232),_e.fromTimestamp(function(e){const t=Ln(e);return new Se(t.seconds,t.nanos)}(e))}function $o(e,t){return Ko(e,t).canonicalString()}function Ko(e,t){const n=function(e){return new ae(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Go(e){const t=ae.fromString(e);return D(ya(t),10190,{key:t.toString()}),t}function Qo(e,t){return $o(e.databaseId,t.path)}function Yo(e,t){const n=Go(t);if(n.get(1)!==e.databaseId.projectId)throw new F(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ce(ea(n))}function Xo(e,t){return $o(e.databaseId,t)}function Jo(e){const t=Go(e);return 4===t.length?ae.emptyPath():ea(t)}function Zo(e){return new ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ea(e){return D(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function ta(e,t,n){return{name:Qo(e,t),fields:n.value.mapValue.fields}}function na(e,t,n){const r=Yo(e,t.name),i=Ho(t.updateTime),o=t.createTime?Ho(t.createTime):_e.min(),a=new xr({mapValue:{fields:t.fields}}),s=_r.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function ra(e,t){let n;if(t instanceof oo)n={update:ta(e,t.key,t.value)};else if(t instanceof uo)n={delete:Qo(e,t.key)};else if(t instanceof ao)n={update:ta(e,t.key,t.data),updateMask:ma(t.fieldMask)};else{if(!(t instanceof ho))return O(16599,{Rt:t.type});n={verify:Qo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Ui)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qi)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Wi)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $i)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw O(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Wo(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:O(27497)}(e,t.precondition)),n}function ia(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Xi.updateTime(Ho(e.updateTime)):void 0!==e.exists?Xi.exists(e.exists):Xi.none()}(t.currentDocument):Xi.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)D("REQUEST_TIME"===t.setToServerValue,16630,{proto:t}),n=new Ui;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new qi(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Wi(e)}else"increment"in t?n=new $i(e,t.increment):O(16584,{proto:t});const r=le.fromServerFormat(t.fieldPath);return new Qi(r,n)}(e,t)):[];if(t.update){t.update.name;const i=Yo(e,t.update.name),o=new xr({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new In(t.map(e=>le.fromServerFormat(e)))}(t.updateMask);return new ao(i,o,e,n,r)}return new oo(i,o,n,r)}if(t.delete){const r=Yo(e,t.delete);return new uo(r,n)}if(t.verify){const r=Yo(e,t.verify);return new ho(r,n)}return O(1463,{proto:t})}function oa(e,t){return{documents:[Xo(e,t.path)]}}function aa(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Xo(e,i);const o=function(e){if(0!==e.length)return ga(Cr.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:fa(e.field),direction:ua(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Uo(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:i}}function sa(e,t,n,r){const{Vt:i,parent:o}=aa(e,t),a={},s=[];let l=0;return n.forEach(e=>{const t=r?e.alias:"aggregate_"+l++;a[t]=e.alias,"count"===e.aggregateType?s.push({alias:t,count:{}}):"avg"===e.aggregateType?s.push({alias:t,avg:{field:fa(e.fieldPath)}}):"sum"===e.aggregateType&&s.push({alias:t,sum:{field:fa(e.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:s,structuredQuery:i.structuredQuery},parent:i.parent},ft:a,parent:o}}function la(e){let t=Jo(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){D(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=ca(e);return t instanceof Cr&&Dr(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Tr(pa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,nt(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new kr(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new kr(n,t)}(n.endAt)),ri(t,i,a,o,s,"F",l,c)}function ca(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=pa(e.unaryFilter.field);return Nr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=pa(e.unaryFilter.field);return Nr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=pa(e.unaryFilter.field);return Nr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=pa(e.unaryFilter.field);return Nr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return O(61313);default:return O(60726)}}(e):void 0!==e.fieldFilter?function(e){return Nr.create(pa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return O(58110);default:return O(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Cr.create(e.compositeFilter.filters.map(e=>ca(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return O(1026)}}(e.compositeFilter.op))}(e):O(30097,{filter:e})}function ua(e){return Ro[e]}function ha(e){return Fo[e]}function da(e){return Bo[e]}function fa(e){return{fieldPath:e.canonicalString()}}function pa(e){return le.fromServerFormat(e.fieldPath)}function ga(e){return e instanceof Nr?function(e){if("=="===e.op){if(hr(e.value))return{unaryFilter:{field:fa(e.field),op:"IS_NAN"}};if(ur(e.value))return{unaryFilter:{field:fa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hr(e.value))return{unaryFilter:{field:fa(e.field),op:"IS_NOT_NAN"}};if(ur(e.value))return{unaryFilter:{field:fa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fa(e.field),op:ha(e.op),value:e.value}}}(e):e instanceof Cr?function(e){const t=e.getFilters().map(e=>ga(e));return 1===t.length?t[0]:{compositeFilter:{op:da(e.op),filters:t}}}(e):O(54877,{filter:e})}function ma(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ya(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class va{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_e.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_e.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Cn.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ba{constructor(e){this.gt=e}}function wa(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:xa(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Qo(e,t.key),fields:t.data.value.mapValue.fields,updateTime:qo(e,t.version.toTimestamp()),createTime:qo(e,t.createTime.toTimestamp())}}(e.gt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Sa(t.version)};else{if(!t.isUnknownDocument())return O(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:Sa(t.version)}}return r}function xa(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Sa(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function _a(e){const t=new Se(e.seconds,e.nanoseconds);return _e.fromTimestamp(t)}function ka(e,t){const n=(t.baseMutations||[]).map(t=>ia(e.gt,t));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map(t=>ia(e.gt,t)),i=Se.fromMillis(t.localWriteTimeMs);return new fo(t.batchId,i,n,r)}function Aa(e){const t=_a(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?_a(e.lastLimboFreeSnapshotVersion):_e.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){const t=e.documents.length;return D(1===t,1966,{count:t}),li(ii(Jo(e.documents[0])))}(e.query):function(e){return li(la(e))}(e.query),new va(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Cn.fromBase64String(e.resumeToken))}function Ea(e,t){const n=Sa(t.snapshotVersion),r=Sa(t.lastLimboFreeSnapshotVersion);let i;i=Jr(t.target)?oa(e.gt,t.target):aa(e.gt,t.target).Vt;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Yr(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ta(e){const t=la({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?di(t,t.limit,"L"):t}function Ia(e,t){return new go(t.largestBatchId,ia(e.gt,t.overlayMutation))}function Pa(e,t){const n=t.path.lastSegment();return[e,at(t.path.popLast()),n]}function Na(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Sa(r.readTime),documentKey:at(r.documentKey.path),largestBatchId:r.largestBatchId}}class Ca{getBundleMetadata(e,t){return Oa(e).get(t).next(e=>{if(e)return function(e){return{id:e.bundleId,createTime:_a(e.createTime),version:e.version}}(e)})}saveBundleMetadata(e,t){return Oa(e).put(function(e){return{bundleId:e.id,createTime:Sa(Ho(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return La(e).get(t).next(e=>{if(e)return function(e){return{name:e.name,query:Ta(e.bundledQuery),readTime:_a(e.readTime)}}(e)})}saveNamedQuery(e,t){return La(e).put(function(e){return{name:e.name,readTime:Sa(Ho(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Oa(e){return yn(e,qt)}function La(e){return yn(e,Vt)}class Da{constructor(e,t){this.serializer=e,this.userId=t}static yt(e,t){const n=t.uid||"";return new Da(e,n)}getOverlay(e,t){return ja(e).get(Pa(this.userId,t)).next(e=>e?Ia(this.serializer,e):null)}getOverlays(e,t){const n=Ei();return Be.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((n,i)=>{const o=new go(t,i);r.push(this.wt(e,o))}),Be.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(at(e.getCollectionPath())));const i=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(ja(e).Y(nn,r))}),Be.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Ei(),i=at(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ja(e).j(nn,o).next(e=>{for(const t of e){const e=Ia(this.serializer,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=Ei();let o;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ja(e).X({index:on,range:a},(e,t,n)=>{const a=Ia(this.serializer,t);i.size()<r||a.largestBatchId===o?(i.set(a.getKey(),a),o=a.largestBatchId):n.done()}).next(()=>i)}wt(e,t){return ja(e).put(function(e,t,n){const[r,i,o]=Pa(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ra(e.gt,n.mutation)}}(this.serializer,this.userId,t))}}function ja(e){return yn(e,en)}class Ma{St(e){return yn(e,sn)}getSessionToken(e){return this.St(e).get("sessionToken").next(e=>{const t=null==e?void 0:e.value;return t?Cn.fromUint8Array(t):Cn.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Ra{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Dn(e.integerValue));else if("doubleValue"in e){const n=Dn(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),rt(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=Ln(n)),t.Mt(`${n.seconds||""}`),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(jn(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?gr(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):fr(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):O(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const r of Object.keys(n))this.xt(r,t),this.Dt(n[r],t)}Lt(e,t){var n,r;const i=e.fields||{};this.Ct(t,53);const o=Yn,a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(Dn(a)),this.xt(o,t),this.Dt(i[o],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const r of n)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),ce.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}Ra.Ut=new Ra;const Fa=255;function Ba(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function za(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Ba(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class Ua{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Kt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Wt(n.value),n=t.next();this.Gt()}zt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.jt(n.value),n=t.next();this.Jt()}Ht(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Wt(e);else if(e<2048)this.Wt(960|e>>>6),this.Wt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Wt(480|e>>>12),this.Wt(128|63&e>>>6),this.Wt(128|63&e);else{const e=t.codePointAt(0);this.Wt(240|e>>>18),this.Wt(128|63&e>>>12),this.Wt(128|63&e>>>6),this.Wt(128|63&e)}}this.Gt()}Yt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.jt(e);else if(e<2048)this.jt(960|e>>>6),this.jt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.jt(480|e>>>12),this.jt(128|63&e>>>6),this.jt(128|63&e);else{const e=t.codePointAt(0);this.jt(240|e>>>18),this.jt(128|63&e>>>12),this.jt(128|63&e>>>6),this.jt(128|63&e)}}this.Jt()}Zt(e){const t=this.Xt(e),n=za(t);this.en(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}tn(e){const t=this.Xt(e),n=za(t);this.en(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}nn(){this.rn(Fa),this.rn(255)}sn(){this._n(Fa),this._n(255)}reset(){this.position=0}seed(e){this.en(e.length),this.buffer.set(e,this.position),this.position+=e.length}an(){return this.buffer.slice(0,this.position)}Xt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Wt(e){const t=255&e;0===t?(this.rn(0),this.rn(255)):t===Fa?(this.rn(Fa),this.rn(0)):this.rn(t)}jt(e){const t=255&e;0===t?(this._n(0),this._n(255)):t===Fa?(this._n(Fa),this._n(0)):this._n(e)}Gt(){this.rn(0),this.rn(1)}Jt(){this._n(0),this._n(1)}rn(e){this.en(1),this.buffer[this.position++]=e}_n(e){this.en(1),this.buffer[this.position++]=~e}en(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class qa{constructor(e){this.un=e}Nt(e){this.un.Kt(e)}Mt(e){this.un.Ht(e)}Ft(e){this.un.Zt(e)}vt(){this.un.nn()}}class Va{constructor(e){this.un=e}Nt(e){this.un.zt(e)}Mt(e){this.un.Yt(e)}Ft(e){this.un.tn(e)}vt(){this.un.sn()}}class Wa{constructor(){this.un=new Ua,this.cn=new qa(this.un),this.ln=new Va(this.un)}seed(e){this.un.seed(e)}hn(e){return 0===e?this.cn:this.ln}an(){return this.un.an()}reset(){this.un.reset()}}class Ha{constructor(e,t,n,r){this.Pn=e,this.Tn=t,this.In=n,this.dn=r}En(){const e=this.dn.length,t=0===e||255===this.dn[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.dn,0),t!==e?n.set([0],this.dn.length):++n[n.length-1],new Ha(this.Pn,this.Tn,this.In,n)}An(e,t,n){return{indexId:this.Pn,uid:e,arrayValue:Ga(this.In),directionalValue:Ga(this.dn),orderedDocumentKey:Ga(t),documentKey:n.path.toArray()}}Rn(e,t,n){const r=this.An(e,t,n);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}}function $a(e,t){let n=e.Pn-t.Pn;return 0!==n?n:(n=Ka(e.In,t.In),0!==n?n:(n=Ka(e.dn,t.dn),0!==n?n:ce.comparator(e.Tn,t.Tn)))}function Ka(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}function Ga(e){return(0,l.Ov)()?function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(e):e}function Qa(e){return"string"!=typeof e?e:function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)}class Ya{constructor(e){this.Vn=new An((e,t)=>le.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.mn=e.orderBy,this.fn=[];for(const t of e.filters){const e=t;e.isInequality()?this.Vn=this.Vn.add(e):this.fn.push(e)}}get gn(){return this.Vn.size>1}pn(e){if(D(e.collectionGroup===this.collectionId,49279),this.gn)return!1;const t=Ee(e);if(void 0!==t&&!this.yn(t))return!1;const n=Te(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.yn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Vn.size>0){const e=this.Vn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.wn(e,t)||!this.Sn(this.mn[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.mn.length||!this.Sn(this.mn[o++],e))return!1}return!0}bn(){if(this.gn)return null;let e=new An(le.comparator);const t=[];for(const n of this.fn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Pe(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Pe(n.field,0))}for(const n of this.mn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Pe(n.field,"asc"===n.dir?0:1)));return new Ae(Ae.UNKNOWN_ID,this.collectionId,t,Ce.empty())}yn(e){for(const t of this.fn)if(this.wn(t,e))return!0;return!1}wn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}Sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Xa(e){var t,n;if(D(e instanceof Nr||e instanceof Cr,20012),e instanceof Nr){if(e instanceof Hr){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map(t=>Nr.create(e.field,"==",t)))||[];return Cr.create(r,"or")}return e}const r=e.filters.map(e=>Xa(e));return Cr.create(r,e.op)}function Ja(e){if(0===e.getFilters().length)return[];const t=ns(Xa(e));return D(ts(t),7391),Za(t)||es(t)?[t]:t.getFilters()}function Za(e){return e instanceof Nr}function es(e){return e instanceof Cr&&Dr(e)}function ts(e){return Za(e)||es(e)||function(e){if(e instanceof Cr&&Lr(e)){for(const t of e.getFilters())if(!Za(t)&&!es(t))return!1;return!0}return!1}(e)}function ns(e){if(D(e instanceof Nr||e instanceof Cr,34018),e instanceof Nr)return e;if(1===e.filters.length)return ns(e.filters[0]);const t=e.filters.map(e=>ns(e));let n=Cr.create(t,e.op);return n=os(n),ts(n)?n:(D(n instanceof Cr,64498),D(Or(n),40251),D(n.filters.length>1,57927),n.filters.reduce((e,t)=>rs(e,t)))}function rs(e,t){let n;return D(e instanceof Nr||e instanceof Cr,38388),D(t instanceof Nr||t instanceof Cr,25473),n=e instanceof Nr?t instanceof Nr?function(e,t){return Cr.create([e,t],"and")}(e,t):is(e,t):t instanceof Nr?is(t,e):function(e,t){if(D(e.filters.length>0&&t.filters.length>0,48005),Or(e)&&Or(t))return Fr(e,t.getFilters());const n=Lr(e)?e:t,r=Lr(e)?t:e,i=n.filters.map(e=>rs(e,r));return Cr.create(i,"or")}(e,t),os(n)}function is(e,t){if(Or(t))return Fr(t,e.getFilters());{const n=t.filters.map(t=>rs(e,t));return Cr.create(n,"or")}}function os(e){if(D(e instanceof Nr||e instanceof Cr,11850),e instanceof Nr)return e;const t=e.getFilters();if(1===t.length)return os(t[0]);if(jr(e))return e;const n=t.map(e=>os(e)),r=[];return n.forEach(t=>{t instanceof Nr?r.push(t):t instanceof Cr&&(t.op===e.op?r.push(...t.filters):r.push(t))}),1===r.length?r[0]:Cr.create(r,e.op)}class as{constructor(){this.Dn=new ss}addToCollectionParentIndex(e,t){return this.Dn.add(t),Be.resolve()}getCollectionParents(e,t){return Be.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Be.resolve()}deleteFieldIndex(e,t){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,t){return Be.resolve()}getDocumentsMatchingTarget(e,t){return Be.resolve(null)}getIndexType(e,t){return Be.resolve(0)}getFieldIndexes(e,t){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,t){return Be.resolve(De.min())}getMinOffsetFromCollectionGroup(e,t){return Be.resolve(De.min())}updateCollectionGroup(e,t,n){return Be.resolve()}updateIndexEntries(e,t){return Be.resolve()}}class ss{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new An(ae.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new An(ae.comparator)).toArray()}}const ls="IndexedDbIndexManager",cs=new Uint8Array(0);class us{constructor(e,t){this.databaseId=t,this.vn=new ss,this.Cn=new wi(e=>Yr(e),(e,t)=>Xr(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.vn.add(t)});const i={collectionId:n,parent:at(r)};return hs(e).put(i)}return Be.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[re(t),""],!1,!0);return hs(e).j(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ct(r.parent))}return n})}addFieldIndex(e,t){const n=fs(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=ps(e);return i.next(e=>{n.put(Na(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){const n=fs(e),r=ps(e),i=ds(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=fs(e),n=ds(e),r=ps(e);return t.Y().next(()=>n.Y()).next(()=>r.Y())}createTargetIndexes(e,t){return Be.forEach(this.Fn(t),t=>this.getIndexType(e,t).next(n=>{if(0===n||1===n){const n=new Ya(t).bn();if(null!=n)return this.addFieldIndex(e,n)}}))}getDocumentsMatchingTarget(e,t){const n=ds(e);let r=!0;const i=new Map;return Be.forEach(this.Fn(t),t=>this.Mn(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=Ci();const r=[];return Be.forEach(i,(i,o)=>{I(ls,`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`}(i)} to execute ${Yr(t)}`);const a=function(e,t){const n=Ee(t);if(void 0===n)return null;for(const r of Zr(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),s=function(e,t){const n=new Map;for(const r of Te(t))for(const t of Zr(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Te(t)){const t=0===i.kind?ei(e,i.fieldPath,e.startAt):ti(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new kr(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Te(t)){const t=0===i.kind?ti(e,i.fieldPath,e.endAt):ei(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new kr(n,r)}(o,i),u=this.xn(i,o,l),h=this.xn(i,o,c),d=this.On(i,o,s),f=this.Nn(i.indexId,a,u,l.inclusive,h,c.inclusive,d);return Be.forEach(f,i=>n.H(i,t.limit).next(t=>{t.forEach(t=>{const n=ce.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return Be.resolve(null)})}Fn(e){let t=this.Cn.get(e);return t||(t=0===e.filters.length?[e]:Ja(Cr.create(e.filters,"and")).map(t=>Qr(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Cn.set(e,t),t)}Nn(e,t,n,r,i,o,a){const s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),c=[];for(let u=0;u<s;++u){const s=t?this.Bn(t[u/l]):cs,h=this.Ln(e,s,n[u%l],r),d=this.kn(e,s,i[u%l],o),f=a.map(t=>this.Ln(e,s,t,!0));c.push(...this.createRange(h,d,f))}return c}Ln(e,t,n,r){const i=new Ha(e,ce.empty(),t,n);return r?i:i.En()}kn(e,t,n,r){const i=new Ha(e,ce.empty(),t,n);return r?i.En():i}Mn(e,t){const n=new Ya(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e)n.pn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2;const r=this.Fn(t);return Be.forEach(r,t=>this.Mn(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new An(le.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n)}qn(e,t){const n=new Wa;for(const r of Te(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.hn(r.kind);Ra.Ut.bt(e,i)}return n.an()}Bn(e){const t=new Wa;return Ra.Ut.bt(e,t.hn(0)),t.an()}Qn(e,t){const n=new Wa;return Ra.Ut.bt(sr(this.databaseId,t),n.hn(function(e){const t=Te(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.an()}On(e,t,n){if(null===n)return[];let r=[];r.push(new Wa);let i=0;for(const o of Te(e)){const e=n[i++];for(const n of r)if(this.$n(t,o.fieldPath)&&cr(e))r=this.Un(r,o,e);else{const t=n.hn(o.kind);Ra.Ut.bt(e,t)}}return this.Kn(r)}xn(e,t,n){return this.On(e,t,n.position)}Kn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].an();return t}Un(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Wa;n.seed(e.an()),Ra.Ut.bt(o,n.hn(t.kind)),i.push(n)}return i}$n(e,t){return!!e.filters.find(e=>e instanceof Nr&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=fs(e),r=ps(e);return(t?n.j(Ht,IDBKeyRange.bound(t,t)):n.j()).next(e=>{const t=[];return Be.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new Ce(t.sequenceNumber,new De(_a(t.readTime),new ce(ct(t.documentKey)),t.largestBatchId)):Ce.empty(),r=e.fields.map(e=>{let[t,n]=e;return new Pe(le.fromServerFormat(t),n)});return new Ae(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:J(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=fs(e),i=ps(e);return this.Wn(e).next(e=>r.j(Ht,IDBKeyRange.bound(t,t)).next(t=>Be.forEach(t,t=>i.put(Na(t.indexId,this.uid,e,n)))))}updateIndexEntries(e,t){const n=new Map;return Be.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);return(i?Be.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),Be.forEach(i,n=>this.Gn(e,t,n).next(t=>{const i=this.zn(r,n);return t.isEqual(i)?Be.resolve():this.jn(e,r,n,t,i)}))))})}Jn(e,t,n,r){return ds(e).put(r.An(this.uid,this.Qn(n,t.key),t.key))}Hn(e,t,n,r){return ds(e).delete(r.Rn(this.uid,this.Qn(n,t.key),t.key))}Gn(e,t,n){const r=ds(e);let i=new An($a);return r.X({index:Jt,range:IDBKeyRange.only([n.indexId,this.uid,Ga(this.Qn(n,t))])},(e,r)=>{i=i.add(new Ha(n.indexId,t,Qa(r.arrayValue),Qa(r.directionalValue)))}).next(()=>i)}zn(e,t){let n=new An($a);const r=this.qn(t,e);if(null==r)return n;const i=Ee(t);if(null!=i){const o=e.data.field(i.fieldPath);if(cr(o))for(const i of o.arrayValue.values||[])n=n.add(new Ha(t.indexId,e.key,this.Bn(i),r))}else n=n.add(new Ha(t.indexId,e.key,cs,r));return n}jn(e,t,n,r,i){I(ls,"Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),a=t.getIterator();let s=Tn(o),l=Tn(a);for(;s||l;){let e=!1,t=!1;if(s&&l){const r=n(s,l);r<0?t=!0:r>0&&(e=!0)}else null!=s?t=!0:e=!0;e?(r(l),l=Tn(a)):t?(i(s),s=Tn(o)):(s=Tn(o),l=Tn(a))}}(r,i,$a,r=>{o.push(this.Jn(e,t,n,r))},r=>{o.push(this.Hn(e,t,n,r))}),Be.waitFor(o)}Wn(e){let t=1;return ps(e).X({index:Gt,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>$a(e,t)).filter((e,t,n)=>!t||0!==$a(e,n[t-1]));const r=[];r.push(e);for(const o of n){const n=$a(o,e),i=$a(o,t);if(0===n)r[0]=e.En();else if(n>0&&i<0)r.push(o),r.push(o.En());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Yn(r[o],r[o+1]))return[];const e=r[o].Rn(this.uid,cs,ce.empty()),t=r[o+1].Rn(this.uid,cs,ce.empty());i.push(IDBKeyRange.bound(e,t))}return i}Yn(e,t){return $a(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(gs)}getMinOffset(e,t){return Be.mapArray(this.Fn(t),t=>this.Mn(e,t).next(e=>e||O(44426))).next(gs)}}function hs(e){return yn(e,Bt)}function ds(e){return yn(e,Yt)}function fs(e){return yn(e,Wt)}function ps(e){return yn(e,$t)}function gs(e){D(0!==e.length,28825);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;je(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new De(t.readTime,t.documentKey,n)}const ms={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ys=41943040;class vs{static withCacheSize(e){return new vs(e,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function bs(e,t,n){const r=e.store(pt),i=e.store(xt),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const l=r.X({range:a},(e,t,n)=>(s++,n.delete()));o.push(l.next(()=>{D(1===s,47070,{batchId:n.batchId})}));const c=[];for(const u of n.mutations){const e=bt(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return Be.waitFor(o).next(()=>c)}function ws(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw O(14731);t=e.noDocument}return JSON.stringify(t).length}vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(ys,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);class xs{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Zn={}}static yt(e,t,n,r){D(""!==e.uid,64387);const i=e.isAuthenticated()?e.uid:"";return new xs(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _s(e).X({index:mt,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=ks(e),o=_s(e);return o.add({}).next(a=>{D("number"==typeof a,49019);const s=new fo(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>ra(e.gt,t)),i=n.mutations.map(t=>ra(e.gt,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,s),c=[];let u=new An((e,t)=>J(e.canonicalString(),t.canonicalString()));for(const e of r){const t=bt(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,wt))}return u.forEach(t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Zn[a]=s.keys()}),Be.waitFor(c).next(()=>s)})}lookupMutationBatch(e,t){return _s(e).get(t).next(e=>e?(D(e.userId===this.userId,48,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),ka(this.serializer,e)):null)}Xn(e,t){return this.Zn[t]?Be.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Zn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return _s(e).X({index:mt,range:r},(e,t,r)=>{t.userId===this.userId&&(D(t.batchId>=n,47524,{er:n}),i=ka(this.serializer,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=tt;return _s(e).X({index:mt,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,tt],[this.userId,Number.POSITIVE_INFINITY]);return _s(e).j(mt,t).next(e=>e.map(e=>ka(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=vt(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return ks(e).X({range:r},(n,r,o)=>{const[a,s,l]=n,c=ct(s);if(a===this.userId&&t.path.isEqual(c))return _s(e).get(l).next(e=>{if(!e)throw O(61480,{tr:n,batchId:l});D(e.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:e.userId,batchId:l}),i.push(ka(this.serializer,e))});o.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new An(J);const r=[];return t.forEach(t=>{const i=vt(this.userId,t.path),o=IDBKeyRange.lowerBound(i),a=ks(e).X({range:o},(e,r,i)=>{const[o,a,s]=e,l=ct(a);o===this.userId&&t.path.isEqual(l)?n=n.add(s):i.done()});r.push(a)}),Be.waitFor(r).next(()=>this.nr(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=vt(this.userId,n),o=IDBKeyRange.lowerBound(i);let a=new An(J);return ks(e).X({range:o},(e,t,i)=>{const[o,s,l]=e,c=ct(s);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):i.done()}).next(()=>this.nr(e,a))}nr(e,t){const n=[],r=[];return t.forEach(t=>{r.push(_s(e).get(t).next(e=>{if(null===e)throw O(35274,{batchId:t});D(e.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),n.push(ka(this.serializer,e))}))}),Be.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return bs(e.ce,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.rr(t.batchId)}),Be.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}rr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Be.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return ks(e).X({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=ct(e[1]);r.push(t)}else n.done()}).next(()=>{D(0===r.length,56720,{ir:r.map(e=>e.canonicalString())})})})}containsKey(e,t){return Ss(e,this.userId,t)}sr(e){return As(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:tt,lastStreamToken:""})}}function Ss(e,t,n){const r=vt(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return ks(e).X({range:o,Z:!0},(e,n,r)=>{const[o,s,l]=e;o===t&&s===i&&(a=!0),r.done()}).next(()=>a)}function _s(e){return yn(e,pt)}function ks(e){return yn(e,xt)}function As(e){return yn(e,ft)}class Es{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Es(0)}static ur(){return new Es(-1)}}class Ts{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.cr(e).next(t=>{const n=new Es(t.highestTargetId);return t.highestTargetId=n.next(),this.lr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.cr(e).next(e=>_e.fromTimestamp(new Se(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.cr(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.cr(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.lr(e,r)))}addTargetData(e,t){return this.hr(e,t).next(()=>this.cr(e).next(n=>(n.targetCount+=1,this.Pr(t,n),this.lr(e,n))))}updateTargetData(e,t){return this.hr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Is(e).delete(t.targetId)).next(()=>this.cr(e)).next(t=>(D(t.targetCount>0,8065),t.targetCount-=1,this.lr(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return Is(e).X((o,a)=>{const s=Aa(a);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r++,i.push(this.removeTargetData(e,s)))}).next(()=>Be.waitFor(i)).next(()=>r)}forEachTarget(e,t){return Is(e).X((e,n)=>{const r=Aa(n);t(r)})}cr(e){return Ps(e).get(Rt).next(e=>(D(null!==e,2888),e))}lr(e,t){return Ps(e).put(Rt,t)}hr(e,t){return Is(e).put(Ea(this.serializer,t))}Pr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.cr(e).next(e=>e.targetCount)}getTargetData(e,t){const n=Yr(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Is(e).X({range:r,index:Ct},(e,n,r)=>{const o=Aa(n);Xr(t,o.target)&&(i=o,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=Ns(e);return t.forEach(t=>{const o=at(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))}),Be.waitFor(r)}removeMatchingKeys(e,t,n){const r=Ns(e);return Be.forEach(t,t=>{const i=at(t.path);return Be.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=Ns(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ns(e);let i=Ci();return r.X({range:n,Z:!0},(e,t,n)=>{const r=ct(e[1]),o=new ce(r);i=i.add(o)}).next(()=>i)}containsKey(e,t){const n=at(t.path),r=IDBKeyRange.bound([n],[re(n)],!1,!0);let i=0;return Ns(e).X({index:jt,Z:!0,range:r},(e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())}).next(()=>i>0)}Et(e,t){return Is(e).get(t).next(e=>e?Aa(e):null)}}function Is(e){return yn(e,Nt)}function Ps(e){return yn(e,Ft)}function Ns(e){return yn(e,Lt)}const Cs="LruGarbageCollector",Os=1048576;function Ls(e,t){let[n,r]=e,[i,o]=t;const a=J(n,i);return 0===a?J(r,o):a}class Ds{constructor(e){this.Tr=e,this.buffer=new An(Ls),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Ls(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class js{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){I(Cs,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){$e(e)?I(Cs,"Ignoring IndexedDB error during garbage collection: ",e):await Fe(e)}await this.Rr(3e5)})}}class Ms{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Be.resolve(et.ue);const n=new Ds(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(ms)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ms):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,i,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(I("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),E()<=s.$b.DEBUG&&I("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(l-a)+"ms\n"+`\tRemoved ${e} documents in `+(c-l)+"ms\n"+`Total Duration: ${c-u}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Rs(e,t){return new Ms(e,t)}class Fs{constructor(e,t){this.db=e,this.garbageCollector=Rs(this,t)}mr(e){const t=this.yr(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}gr(e,t){return this.wr(e,(e,n)=>t(n))}addReference(e,t,n){return Bs(e,n)}removeReference(e,t,n){return Bs(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Bs(e,t)}Sr(e,t){return function(e,t){let n=!1;return As(e).ee(r=>Ss(e,r,t).next(e=>(e&&(n=!0),Be.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.wr(e,(o,a)=>{if(a<=t){const t=this.Sr(e,o).next(t=>{if(!t)return i++,n.getEntry(e,o).next(()=>(n.removeEntry(o,_e.min()),Ns(e).delete(function(e){return[0,at(e.path)]}(o))))});r.push(t)}}).next(()=>Be.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Bs(e,t)}wr(e,t){const n=Ns(e);let r,i=et.ue;return n.X({index:jt},(e,n)=>{let[o,a]=e,{path:s,sequenceNumber:l}=n;0===o?(i!==et.ue&&t(new ce(ct(r)),i),i=l,r=s):i=et.ue}).next(()=>{i!==et.ue&&t(new ce(ct(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Bs(e,t){return Ns(e).put(function(e,t){return{targetId:0,path:at(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class zs{constructor(){this.changes=new wi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Be.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Us{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Hs(e).put(n)}removeEntry(e,t,n){return Hs(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],xa(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.br(e,n)))}getEntry(e,t){let n=_r.newInvalidDocument(t);return Hs(e).X({index:kt,range:IDBKeyRange.only($s(t))},(e,r)=>{n=this.Dr(t,r)}).next(()=>n)}vr(e,t){let n={size:0,document:_r.newInvalidDocument(t)};return Hs(e).X({index:kt,range:IDBKeyRange.only($s(t))},(e,r)=>{n={document:this.Dr(t,r),size:ws(r)}}).next(()=>n)}getEntries(e,t){let n=Si();return this.Cr(e,t,(e,t)=>{const r=this.Dr(e,t);n=n.insert(e,r)}).next(()=>n)}Fr(e,t){let n=Si(),r=new Sn(ce.comparator);return this.Cr(e,t,(e,t)=>{const i=this.Dr(e,t);n=n.insert(e,i),r=r.insert(e,ws(t))}).next(()=>({documents:n,Mr:r}))}Cr(e,t,n){if(t.isEmpty())return Be.resolve();let r=new An(Gs);t.forEach(e=>r=r.add(e));const i=IDBKeyRange.bound($s(r.first()),$s(r.last())),o=r.getIterator();let a=o.getNext();return Hs(e).X({index:kt,range:i},(e,t,r)=>{const i=ce.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&Gs(a,i)<0;)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.G($s(a)):r.done()}).next(()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),xa(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hs(e).j(IDBKeyRange.bound(a,s,!0)).next(e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Si();for(const i of e){const e=this.Dr(ce.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(mi(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,r){let i=Si();const o=Ks(t,n),a=Ks(t,De.max());return Hs(e).X({index:Et,range:IDBKeyRange.bound(o,a,!0)},(e,t,n)=>{const o=this.Dr(ce.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new Vs(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Ws(e).get(Pt).next(e=>(D(!!e,20021),e))}br(e,t){return Ws(e).put(Pt,t)}Dr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=na(e.gt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=ce.fromSegments(t.noDocument.path),r=_a(t.noDocument.readTime);n=_r.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return O(56709);{const e=ce.fromSegments(t.unknownDocument.path),r=_a(t.unknownDocument.version);n=_r.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Se(e[0],e[1]);return _e.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(_e.min()))return e}return _r.newInvalidDocument(e)}}function qs(e){return new Us(e)}class Vs extends zs{constructor(e,t){super(),this.Or=e,this.trackRemovals=t,this.Nr=new wi(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new An((e,t)=>J(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.Nr.get(i);if(t.push(this.Or.removeEntry(e,i,a.readTime)),o.isValidDocument()){const s=wa(this.Or.serializer,o);r=r.add(i.path.popLast());const l=ws(s);n+=l-a.size,t.push(this.Or.addEntry(e,i,s))}else if(n-=a.size,this.trackRemovals){const n=wa(this.Or.serializer,o.convertToNoDocument(_e.min()));t.push(this.Or.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.Or.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Or.updateMetadata(e,n)),Be.waitFor(t)}getFromCache(e,t){return this.Or.vr(e,t).next(e=>(this.Nr.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Or.Fr(e,t).next(e=>{let{documents:t,Mr:n}=e;return n.forEach((e,n)=>{this.Nr.set(e,{size:n,readTime:t.get(e).readTime})}),t})}}function Ws(e){return yn(e,It)}function Hs(e){return yn(e,St)}function $s(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ks(e,t){const n=t.documentKey.path.toArray();return[e,xa(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Gs(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=J(n[o],r[o]),i)return i;return i=J(n.length,r.length),i||(i=J(n[n.length-2],r[r.length-2]),i||J(n[n.length-1],r[r.length-1]))}class Qs{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ys{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&no(n.mutation,e,In.empty(),Se.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Ci()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ci();const r=Ei();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ki();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Ei();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Ci()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Si();const o=Ii(),a=Ii();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof ao)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),no(a.mutation,t,a.mutation.getFieldMask(),Se.now())):o.set(t.key,In.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Qs(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Ii();let r=new Sn((e,t)=>e-t),i=Ci();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||In.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||Ci()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=Ti();l.forEach(e=>{if(!i.has(e)){const r=eo(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Be.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ce.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ai(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Be.resolve(Ei());let a=ke,s=i;return o.next(t=>Be.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Be.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,Ci())).next(e=>({batchId:a,changes:Ai(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(e=>{let t=ki();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=ki();return this.indexManager.getCollectionParents(e,i).next(a=>Be.forEach(a,a=>{const s=function(e,t){return new ni(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,_r.newInvalidDocument(r)))});let n=ki();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&no(o.mutation,r,In.empty(),Se.now()),mi(t,r)&&(n=n.insert(e,r))}),n})}}class Xs{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Be.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ho(e.createTime)}}(t)),Be.resolve()}getNamedQuery(e,t){return Be.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:Ta(e.bundledQuery),readTime:Ho(e.readTime)}}(t)),Be.resolve()}}class Js{constructor(){this.overlays=new Sn(ce.comparator),this.kr=new Map}getOverlay(e,t){return Be.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ei();return Be.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),Be.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),Be.resolve()}getOverlaysForCollection(e,t,n){const r=Ei(),i=t.length+1,o=new ce(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Be.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Sn((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ei(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Ei(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Be.resolve(a)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new go(t,n));let i=this.kr.get(t);void 0===i&&(i=Ci(),this.kr.set(t,i)),this.kr.set(t,i.add(n.key))}}class Zs{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return Be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Be.resolve()}}class el{constructor(){this.qr=new An(tl.Qr),this.$r=new An(tl.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new tl(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new tl(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new ce(new ae([])),n=new tl(t,e),r=new tl(t,e+1),i=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ce(new ae([])),n=new tl(t,e),r=new tl(t,e+1);let i=Ci();return this.$r.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new tl(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class tl{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ce.comparator(e.key,t.key)||J(e.Hr,t.Hr)}static Ur(e,t){return J(e.Hr,t.Hr)||ce.comparator(e.key,t.key)}}class nl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new An(tl.Qr)}checkEmpty(e){return Be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fo(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Yr=this.Yr.add(new tl(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Be.resolve(o)}lookupMutationBatch(e,t){return Be.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return Be.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(0===this.mutationQueue.length?tt:this.er-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new tl(t,0),r=new tl(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),Be.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new An(J);return t.forEach(e=>{const t=new tl(e,0),r=new tl(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),Be.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ce.isDocumentKey(i)||(i=i.child(""));const o=new tl(new ce(i),0);let a=new An(J);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Hr)),!0)},o),Be.resolve(this.ei(a))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){D(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return Be.forEach(t.mutations,r=>{const i=new tl(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new tl(t,0),r=this.Yr.firstAfterOrEqual(n);return Be.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Be.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rl{constructor(e){this.ni=e,this.docs=new Sn(ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Be.resolve(n?n.document.mutableCopy():_r.newInvalidDocument(t))}getEntries(e,t){let n=Si();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():_r.newInvalidDocument(e))}),Be.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Si();const o=t.path,a=new ce(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||je(Le(a),n)<=0||(r.has(a.key)||mi(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Be.resolve(i)}getAllFromCollectionGroup(e,t,n,r){O(9500)}ri(e,t){return Be.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new il(this)}getSize(e){return Be.resolve(this.size)}}class il extends zs{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),Be.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class ol{constructor(e){this.persistence=e,this.ii=new wi(e=>Yr(e),Xr),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.si=0,this.oi=new el,this.targetCount=0,this._i=Es.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),Be.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Es(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Be.resolve()}updateTargetData(e,t){return this.hr(t),Be.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Be.waitFor(i).next(()=>r)}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return Be.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),Be.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Be.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Be.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return Be.resolve(n)}containsKey(e,t){return Be.resolve(this.oi.containsKey(t))}}class al{constructor(e,t){this.ai={},this.overlays={},this.ui=new et(0),this.ci=!1,this.ci=!0,this.li=new Zs,this.referenceDelegate=e(this),this.hi=new ol(this),this.indexManager=new as,this.remoteDocumentCache=function(e){return new rl(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new ba(t),this.Ti=new Xs(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Js,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new nl(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){I("MemoryPersistence","Starting transaction:",e);const r=new sl(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return Be.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class sl extends Re{constructor(e){super(),this.currentSequenceNumber=e}}class ll{constructor(e){this.persistence=e,this.Ai=new el,this.Ri=null}static Vi(e){return new ll(e)}get mi(){if(this.Ri)return this.Ri;throw O(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),Be.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),Be.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Be.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.mi,n=>{const r=ce.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,_e.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Be.or([()=>Be.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class cl{constructor(e,t){this.persistence=e,this.gi=new wi(e=>at(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Rs(this,t)}static Vi(e,t){return new cl(e,t)}Ii(){}di(e){return Be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return Be.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?Be.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,_e.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Be.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Be.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Be.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Be.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ar(e.data.value)),t}Sr(e,t,n){return Be.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return Be.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ul{constructor(e){this.serializer=e}q(e,t,n,r){const i=new Ue("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ht)}(e),function(e){e.createObjectStore(ft,{keyPath:"userId"});e.createObjectStore(pt,{keyPath:gt,autoIncrement:!0}).createIndex(mt,yt,{unique:!0}),e.createObjectStore(xt)}(e),hl(e),function(e){e.createObjectStore(ut)}(e));let o=Be.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Lt),e.deleteObjectStore(Nt),e.deleteObjectStore(Ft)}(e),hl(e)),o=o.next(()=>function(e){const t=e.store(Ft),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_e.min().toTimestamp(),targetCount:0};return t.put(Rt,n)}(i))),n<4&&r>=4&&(0!==n&&(o=o.next(()=>function(e,t){return t.store(pt).j().next(n=>{e.deleteObjectStore(pt),e.createObjectStore(pt,{keyPath:gt,autoIncrement:!0}).createIndex(mt,yt,{unique:!0});const r=t.store(pt),i=n.map(e=>r.put(e));return Be.waitFor(i)})}(e,i))),o=o.next(()=>{!function(e){e.createObjectStore(Ut,{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(o=o.next(()=>this.pi(i))),n<6&&r>=6&&(o=o.next(()=>(function(e){e.createObjectStore(It)}(e),this.yi(i)))),n<7&&r>=7&&(o=o.next(()=>this.wi(i))),n<8&&r>=8&&(o=o.next(()=>this.Si(e,i))),n<9&&r>=9&&(o=o.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(o=o.next(()=>this.bi(i))),n<11&&r>=11&&(o=o.next(()=>{!function(e){e.createObjectStore(qt,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(Vt,{keyPath:"name"})}(e)})),n<12&&r>=12&&(o=o.next(()=>{!function(e){const t=e.createObjectStore(en,{keyPath:tn});t.createIndex(nn,rn,{unique:!1}),t.createIndex(on,an,{unique:!1})}(e)})),n<13&&r>=13&&(o=o.next(()=>function(e){const t=e.createObjectStore(St,{keyPath:_t});t.createIndex(kt,At),t.createIndex(Et,Tt)}(e)).next(()=>this.Di(e,i)).next(()=>e.deleteObjectStore(ut))),n<14&&r>=14&&(o=o.next(()=>this.Ci(e,i))),n<15&&r>=15&&(o=o.next(()=>function(e){e.createObjectStore(Wt,{keyPath:"indexId",autoIncrement:!0}).createIndex(Ht,"collectionGroup",{unique:!1});e.createObjectStore($t,{keyPath:Kt}).createIndex(Gt,Qt,{unique:!1});e.createObjectStore(Yt,{keyPath:Xt}).createIndex(Jt,Zt,{unique:!1})}(e))),n<16&&r>=16&&(o=o.next(()=>{t.objectStore($t).clear()}).next(()=>{t.objectStore(Yt).clear()})),n<17&&r>=17&&(o=o.next(()=>{!function(e){e.createObjectStore(sn,{keyPath:"name"})}(e)})),n<18&&r>=18&&(0,l.Ov)()&&(o=o.next(()=>{t.objectStore($t).clear()}).next(()=>{t.objectStore(Yt).clear()})),o}yi(e){let t=0;return e.store(ut).X((e,n)=>{t+=ws(n)}).next(()=>{const n={byteSize:t};return e.store(It).put(Pt,n)})}pi(e){const t=e.store(ft),n=e.store(pt);return t.j().next(t=>Be.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,tt],[t.userId,t.lastAcknowledgedBatchId]);return n.j(mt,r).next(n=>Be.forEach(n,n=>{D(n.userId===t.userId,18650,"Cannot process batch from unexpected user",{batchId:n.batchId});const r=ka(this.serializer,n);return bs(e,t.userId,r).next(()=>{})}))}))}wi(e){const t=e.store(Lt),n=e.store(ut);return e.store(Ft).get(Rt).next(e=>{const r=[];return n.X((n,i)=>{const o=new ae(n),a=function(e){return[0,at(e)]}(o);r.push(t.get(a).next(n=>n?Be.resolve():(n=>t.put({targetId:0,path:at(n),sequenceNumber:e.highestListenSequenceNumber}))(o)))}).next(()=>Be.waitFor(r))})}Si(e,t){e.createObjectStore(Bt,{keyPath:zt});const n=t.store(Bt),r=new ss,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:at(r)})}};return t.store(ut).X({Z:!0},(e,t)=>{const n=new ae(e);return i(n.popLast())}).next(()=>t.store(xt).X({Z:!0},(e,t)=>{let[n,r,o]=e;const a=ct(r);return i(a.popLast())}))}bi(e){const t=e.store(Nt);return t.X((e,n)=>{const r=Aa(n),i=Ea(this.serializer,r);return t.put(i)})}Di(e,t){const n=t.store(ut),r=[];return n.X((e,n)=>{const i=t.store(St),o=function(e){return e.document?new ce(ae.fromString(e.document.name).popFirst(5)):e.noDocument?ce.fromSegments(e.noDocument.path):e.unknownDocument?ce.fromSegments(e.unknownDocument.path):O(36783)}(n).path.toArray(),a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))}).next(()=>Be.waitFor(r))}Ci(e,t){const n=t.store(pt),r=qs(this.serializer),i=new al(ll.Vi,this.serializer.gt);return n.j().next(e=>{const n=new Map;return e.forEach(e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Ci();ka(this.serializer,e).keys().forEach(e=>r=r.add(e)),n.set(e.userId,r)}),Be.forEach(n,(e,n)=>{const o=new _(n),a=Da.yt(this.serializer,o),s=i.getIndexManager(o),l=xs.yt(o,this.serializer,s,i.referenceDelegate);return new Ys(r,l,a,s).recalculateAndSaveOverlaysForDocumentKeys(new mn(t,et.ue),e).next()})})}}function hl(e){e.createObjectStore(Lt,{keyPath:Dt}).createIndex(jt,Mt,{unique:!0}),e.createObjectStore(Nt,{keyPath:"targetId"}).createIndex(Ct,Ot,{unique:!0}),e.createObjectStore(Ft)}const dl="IndexedDbPersistence",fl=18e5,pl=5e3,gl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ml="main";class yl{constructor(e,t,n,r,i,o,a,s,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:18;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Fi=i,this.window=o,this.document=a,this.Mi=l,this.xi=c,this.Oi=u,this.ui=null,this.ci=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ni=null,this.inForeground=!1,this.Bi=null,this.Li=null,this.ki=Number.NEGATIVE_INFINITY,this.qi=e=>Promise.resolve(),!yl.C())throw new F(R.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fs(this,r),this.Qi=t+ml,this.serializer=new ba(s),this.$i=new qe(this.Qi,this.Oi,new ul(this.serializer)),this.li=new Ma,this.hi=new Ts(this.referenceDelegate,this.serializer),this.remoteDocumentCache=qs(this.serializer),this.Ti=new Ca,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,!1===c&&P(dl,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ki().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new F(R.FAILED_PRECONDITION,gl);return this.Wi(),this.Gi(),this.zi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.hi.getHighestSequenceNumber(e))}).then(e=>{this.ui=new et(e,this.Mi)}).then(()=>{this.ci=!0}).catch(e=>(this.$i&&this.$i.close(),Promise.reject(e)))}ji(e){return this.qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.$i.setDatabaseDeletedListener(e)}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Fi.enqueueAndForget(async()=>{this.started&&await this.Ki()}))}Ki(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>bl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ji(e).next(e=>{e||(this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)))})}).next(()=>this.Hi(e)).next(t=>this.isPrimary&&!t?this.Yi(e).next(()=>!1):!!t&&this.Zi(e).next(()=>!0))).catch(e=>{if($e(e))return I(dl,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return I(dl,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Fi.enqueueRetryable(()=>this.qi(e)),this.isPrimary=e})}Ji(e){return vl(e).get(dt).next(e=>Be.resolve(this.Xi(e)))}es(e){return bl(e).delete(this.clientId)}async ts(){if(this.isPrimary&&!this.ns(this.ki,fl)){this.ki=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=yn(e,Ut);return t.j().next(e=>{const n=this.rs(e,fl),r=e.filter(e=>-1===n.indexOf(e));return Be.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Ui)for(const t of e)this.Ui.removeItem(this.ss(t.clientId))}}zi(){this.Li=this.Fi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ki().then(()=>this.ts()).then(()=>this.zi()))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.xi?Be.resolve(!0):vl(e).get(dt).next(t=>{if(null!==t&&this.ns(t.leaseTimestampMs,pl)&&!this._s(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new F(R.FAILED_PRECONDITION,gl);return!1}}return!(!this.networkEnabled||!this.inForeground)||bl(e).j().next(e=>void 0===this.rs(e,pl).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&I(dl,`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.ci=!1,this.us(),this.Li&&(this.Li.cancel(),this.Li=null),this.cs(),this.ls(),await this.$i.runTransaction("shutdown","readwrite",[ht,Ut],e=>{const t=new mn(e,et.ue);return this.Yi(t).next(()=>this.es(t))}),this.$i.close(),this.hs()}rs(e,t){return e.filter(e=>this.ns(e.updateTimeMs,t)&&!this._s(e.clientId))}Ps(){return this.runTransaction("getActiveClients","readonly",e=>bl(e).j().next(e=>this.rs(e,fl).map(e=>e.clientId)))}get started(){return this.ci}getGlobalsCache(){return this.li}getMutationQueue(e,t){return xs.yt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new us(e,this.serializer.gt.databaseId)}getDocumentOverlayCache(e){return Da.yt(this.serializer,e)}getBundleCache(){return this.Ti}runTransaction(e,t,n){I(dl,"Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 18===e?gn:17===e?pn:16===e?fn:15===e?dn:14===e?hn:13===e?un:12===e?cn:11===e?ln:void O(60245)}(this.Oi);let o;return this.$i.runTransaction(e,r,i,r=>(o=new mn(r,this.ui?this.ui.next():et.ue),"readwrite-primary"===t?this.Ji(o).next(e=>!!e||this.Hi(o)).next(t=>{if(!t)throw P(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)),new F(R.FAILED_PRECONDITION,Me);return n(o)}).next(e=>this.Zi(o).next(()=>e)):this.Ts(o).next(()=>n(o)))).then(e=>(o.raiseOnCommittedEvent(),e))}Ts(e){return vl(e).get(dt).next(e=>{if(null!==e&&this.ns(e.leaseTimestampMs,pl)&&!this._s(e.ownerId)&&!this.Xi(e)&&!(this.xi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new F(R.FAILED_PRECONDITION,gl)})}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vl(e).put(dt,t)}static C(){return qe.C()}Yi(e){const t=vl(e);return t.get(dt).next(e=>this.Xi(e)?(I(dl,"Releasing primary lease."),t.delete(dt)):Be.resolve())}ns(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(P(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Wi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Bi=()=>{this.Fi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ki()))},this.document.addEventListener("visibilitychange",this.Bi),this.inForeground="visible"===this.document.visibilityState)}cs(){this.Bi&&(this.document.removeEventListener("visibilitychange",this.Bi),this.Bi=null)}Gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ni=()=>{this.us();const e=/(?:Version|Mobile)\/1[456]/;(0,l.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Fi.enterRestrictedMode(!0),this.Fi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ni))}ls(){this.Ni&&(this.window.removeEventListener("pagehide",this.Ni),this.Ni=null)}_s(e){var t;try{const n=null!==(null===(t=this.Ui)||void 0===t?void 0:t.getItem(this.ss(e)));return I(dl,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return P(dl,"Failed to get zombied client id.",e),!1}}us(){if(this.Ui)try{this.Ui.setItem(this.ss(this.clientId),String(Date.now()))}catch(e){P("Failed to set zombie client id.",e)}}hs(){if(this.Ui)try{this.Ui.removeItem(this.ss(this.clientId))}catch(e){}}ss(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vl(e){return yn(e,ht)}function bl(e){return yn(e,Ut)}function wl(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class xl{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=Ci(),r=Ci();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new xl(e,t.fromCache,n,r)}}class Sl{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _l{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(0,l.nr)()?8:Ve((0,l.ZQ)())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ps(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ys(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Sl;return this.ws(e,t,n).next(r=>{if(i.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>i.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(E()<=s.$b.DEBUG&&I("QueryEngine","SDK will not create cache indexes for query:",gi(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Be.resolve()):(E()<=s.$b.DEBUG&&I("QueryEngine","Query:",gi(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(E()<=s.$b.DEBUG&&I("QueryEngine","The SDK decides to create cache indexes for query:",gi(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(t))):Be.resolve())}ps(e,t){if(oi(t))return Be.resolve(null);let n=li(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=di(t,null,"F"),n=li(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Ci(...r);return this.gs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.bs(t,r);return this.Ds(t,o,i,n.readTime)?this.ps(e,di(t,null,"F")):this.vs(e,o,t,n)}))})))}ys(e,t,n,r){return oi(t)||r.isEqual(_e.min())?Be.resolve(null):this.gs.getDocuments(e,n).next(i=>{const o=this.bs(t,i);return this.Ds(t,o,n,r)?Be.resolve(null):(E()<=s.$b.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gi(t)),this.vs(e,o,t,Oe(r,ke)).next(e=>e))})}bs(e,t){let n=new An(vi(e));return t.forEach((t,r)=>{mi(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ws(e,t,n){return E()<=s.$b.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",gi(t)),this.gs.getDocumentsMatchingQuery(e,t,De.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const kl="LocalStore",Al=3e8;class El{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new Sn(J),this.Ms=new wi(e=>Yr(e),Xr),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ys(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function Tl(e,t,n,r){return new El(e,t,n,r)}async function Il(e,t){const n=M(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let a=Ci();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Bs:e,removedBatchIds:i,addedBatchIds:o}))})})}function Pl(e){const t=M(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function Nl(e,t,n){let r=Ci(),i=Ci();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Si();return n.forEach((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(_e.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):I(kl,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),{Ls:r,ks:i}})}function Cl(e,t){const n=M(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=tt),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Ol(e,t){const n=M(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(i=>i?(r=i,Be.resolve(r)):n.hi.allocateTargetId(e).next(i=>(r=new va(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function Ll(e,t,n){const r=M(e),i=r.Fs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!$e(e))throw e;I(kl,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(i.target)}function Dl(e,t,n){const r=M(e);let i=_e.min(),o=Ci();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=M(e),i=r.Ms.get(n);return void 0!==i?Be.resolve(r.Fs.get(i)):r.hi.getTargetData(t,n)}(r,e,li(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:_e.min(),n?o:Ci())).next(e=>(Rl(r,yi(t),e),{documents:e,qs:o})))}function jl(e,t){const n=M(e),r=M(n.hi),i=n.Fs.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Et(e,t).next(e=>e?e.target:null))}function Ml(e,t){const n=M(e),r=n.xs.get(t)||_e.min();return n.persistence.runTransaction("Get new document changes","readonly",e=>n.Os.getAllFromCollectionGroup(e,t,Oe(r,ke),Number.MAX_SAFE_INTEGER)).then(e=>(Rl(n,t,e),e))}function Rl(e,t,n){let r=e.xs.get(t)||_e.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}async function Fl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ci();const r=await Ol(e,li(Ta(t.bundledQuery))),i=M(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const o=Ho(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ti.saveNamedQuery(e,t);const a=r.withResumeToken(Cn.EMPTY_BYTE_STRING,o);return i.Fs=i.Fs.insert(a.targetId,a),i.hi.updateTargetData(e,a).next(()=>i.hi.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.hi.addMatchingKeys(e,n,r.targetId)).next(()=>i.Ti.saveNamedQuery(e,t))})}const Bl="firestore_clients";function zl(e,t){return`${Bl}_${e}_${t}`}const Ul="firestore_mutations";function ql(e,t,n){let r=`${Ul}_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}const Vl="firestore_targets";function Wl(e,t){return`${Vl}_${e}_${t}`}const Hl="SharedClientState";class $l{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ks(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new F(r.error.code,r.error.message))),o?new $l(e,t,r.state,i):(P(Hl,`Failed to parse mutation state for ID '${t}': ${n}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kl{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ks(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new F(n.error.code,n.error.message))),i?new Kl(e,n.state,r):(P(Hl,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gl{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ks(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Li();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=it(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Gl(e,i):(P(Hl,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ql{constructor(e,t){this.clientId=e,this.onlineState=t}static Ks(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ql(t.clientId,t.onlineState):(P(Hl,`Failed to parse online state: ${e}`),null)}}class Yl{constructor(){this.activeTargetIds=Li()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xl{constructor(e,t,n,r,i){this.window=e,this.Fi=t,this.persistenceKey=n,this.js=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Js=this.Hs.bind(this),this.Ys=new Sn(J),this.started=!1,this.Zs=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Xs=zl(this.persistenceKey,this.js),this.eo=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Ys=this.Ys.insert(this.js,new Yl),this.no=new RegExp(`^${Bl}_${o}_([^_]*)$`),this.ro=new RegExp(`^${Ul}_${o}_(\\d+)(?:_(.*))?$`),this.io=new RegExp(`^${Vl}_${o}_(\\d+)$`),this.so=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.oo=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Js)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ps();for(const n of e){if(n===this.js)continue;const e=this.getItem(zl(this.persistenceKey,n));if(e){const t=Gl.Ks(n,e);t&&(this.Ys=this.Ys.insert(t.clientId,t))}}this._o();const t=this.storage.getItem(this.so);if(t){const e=this.ao(t);e&&this.uo(e)}for(const n of this.Zs)this.Hs(n);this.Zs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.eo,JSON.stringify(e))}getAllActiveQueryTargets(){return this.co(this.Ys)}isActiveQueryTarget(e){let t=!1;return this.Ys.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.lo(e,"pending")}updateMutationState(e,t,n){this.lo(e,t,n),this.ho(e)}addLocalQueryTarget(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(Wl(this.persistenceKey,e));if(t){const r=Kl.Ks(e,t);r&&(n=r.state)}}return t&&this.Po.Gs(e),this._o(),n}removeLocalQueryTarget(e){this.Po.zs(e),this._o()}isLocalQueryTarget(e){return this.Po.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wl(this.persistenceKey,e))}updateQueryState(e,t,n){this.To(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.ho(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.Io(e)}notifyBundleLoaded(e){this.Eo(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return I(Hl,"READ",e,t),t}setItem(e,t){I(Hl,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){I(Hl,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(I(Hl,"EVENT",t.key,t.newValue),t.key===this.Xs)return void P("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fi.enqueueRetryable(async()=>{if(this.started){if(null!==t.key)if(this.no.test(t.key)){if(null==t.newValue){const e=this.Ao(t.key);return this.Ro(e,null)}{const e=this.Vo(t.key,t.newValue);if(e)return this.Ro(e.clientId,e)}}else if(this.ro.test(t.key)){if(null!==t.newValue){const e=this.mo(t.key,t.newValue);if(e)return this.fo(e)}}else if(this.io.test(t.key)){if(null!==t.newValue){const e=this.po(t.key,t.newValue);if(e)return this.yo(e)}}else if(t.key===this.so){if(null!==t.newValue){const e=this.ao(t.newValue);if(e)return this.uo(e)}}else if(t.key===this.eo){const e=function(e){let t=et.ue;if(null!=e)try{const n=JSON.parse(e);D("number"==typeof n,30636,{wo:e}),t=n}catch(e){P(Hl,"Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==et.ue&&this.sequenceNumberHandler(e)}else if(t.key===this.oo){const e=this.So(t.newValue);await Promise.all(e.map(e=>this.syncEngine.bo(e)))}}else this.Zs.push(t)})}}get Po(){return this.Ys.get(this.js)}_o(){this.setItem(this.Xs,this.Po.Ws())}lo(e,t,n){const r=new $l(this.currentUser,e,t,n),i=ql(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ws())}ho(e){const t=ql(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Io(e){const t={clientId:this.js,onlineState:e};this.storage.setItem(this.so,JSON.stringify(t))}To(e,t,n){const r=Wl(this.persistenceKey,e),i=new Kl(e,t,n);this.setItem(r,i.Ws())}Eo(e){const t=JSON.stringify(Array.from(e));this.setItem(this.oo,t)}Ao(e){const t=this.no.exec(e);return t?t[1]:null}Vo(e,t){const n=this.Ao(e);return Gl.Ks(n,t)}mo(e,t){const n=this.ro.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return $l.Ks(new _(i),r,t)}po(e,t){const n=this.io.exec(e),r=Number(n[1]);return Kl.Ks(r,t)}ao(e){return Ql.Ks(e)}So(e){return JSON.parse(e)}async fo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Do(e.batchId,e.state,e.error);I(Hl,`Ignoring mutation for non-active user ${e.user.uid}`)}yo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Ro(e,t){const n=t?this.Ys.insert(e,t):this.Ys.remove(e),r=this.co(this.Ys),i=this.co(n),o=[],a=[];return i.forEach(e=>{r.has(e)||o.push(e)}),r.forEach(e=>{i.has(e)||a.push(e)}),this.syncEngine.Co(o,a).then(()=>{this.Ys=n})}uo(e){this.Ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}co(e){let t=Li();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class Jl{constructor(){this.Fo=new Yl,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Yl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zl{xo(e){}shutdown(){}}const ec="ConnectivityMonitor";class tc{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){I(ec,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){I(ec,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let nc=null;function rc(){return null===nc?nc=268435456+Math.round(2147483648*Math.random()):nc++,"0x"+nc.toString(16)}const ic="RestConnection",oc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ac{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===Wn?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){const o=rc(),a=this.Go(e,t.toUriEncodedString());I(ic,`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(s,r,i);const{host:c}=new URL(a),u=(0,l.zJ)(c);return this.jo(e,a,s,n,u).then(t=>(I(ic,`Received RPC '${e}' ${o}: `,t),t),t=>{throw N(ic,`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t})}Jo(e,t,n,r,i,o){return this.Wo(e,t,n,r,i)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+k,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=oc[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}class sc{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const lc="WebChannelConnection";class cc extends ac{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,i){const o=rc();return new Promise((i,a)=>{const s=new h;s.setWithCredentials(!0),s.listenOnce(f.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case p.NO_ERROR:const t=s.getResponseJson();I(lc,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(t)),i(t);break;case p.TIMEOUT:I(lc,`RPC '${e}' ${o} timed out`),a(new F(R.DEADLINE_EXCEEDED,"Request time out"));break;case p.HTTP_ERROR:const n=s.getStatus();if(I(lc,`RPC '${e}' ${o} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(t)>=0?t:R.UNKNOWN}(t.status);a(new F(e,t.message))}else a(new F(R.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new F(R.UNAVAILABLE,"Connection failed."));break;default:O(9055,{c_:e,streamId:o,l_:s.getLastErrorCode(),h_:s.getLastError()})}}finally{I(lc,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(r);I(lc,`RPC '${e}' ${o} sending request:`,r),s.send(t,"POST",l,n,15)})}P_(e,t,n){const r=rc(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=v(),a=y(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.zo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");I(lc,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);this.T_(u);let h=!1,f=!1;const p=new sc({Ho:t=>{f?I(lc,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(I(lc,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),I(lc,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Yo:()=>u.close()}),b=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return b(u,d.EventType.OPEN,()=>{f||(I(lc,`RPC '${e}' stream ${r} transport opened.`),p.s_())}),b(u,d.EventType.CLOSE,()=>{f||(f=!0,I(lc,`RPC '${e}' stream ${r} transport closed`),p.__(),this.I_(u))}),b(u,d.EventType.ERROR,t=>{f||(f=!0,N(lc,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),p.__(new F(R.UNAVAILABLE,"The operation could not be completed")))}),b(u,d.EventType.MESSAGE,t=>{var n;if(!f){const i=t.data[0];D(!!i,16349);const o=i,a=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){I(lc,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=vo[e];if(void 0!==t)return xo(t)}(t),i=a.message;void 0===n&&(n=R.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),f=!0,p.__(new F(n,i)),u.close()}else I(lc,`RPC '${e}' stream ${r} received:`,i),p.a_(i)}}),b(a,m.STAT_EVENT,t=>{t.stat===g.PROXY?I(lc,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===g.NOPROXY&&I(lc,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.o_()},0),p}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function uc(){return"undefined"!=typeof window?window:null}function hc(){return"undefined"!=typeof document?document:null}function dc(e){return new zo(e,!0)}class fc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&I("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const pc="PersistentStream";class gc{constructor(e,t,n,r,i,o,a,s){this.Fi=e,this.w_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new fc(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===R.RESOURCE_EXHAUSTED?(P(t.toString()),P("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===R.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.b_===t&&this.W_(n,r)},t=>{e(()=>{const e=new F(R.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return I(pc,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(I(pc,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mc extends gc{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:O(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(D(void 0===t||"string"==typeof t,58123),Cn.fromBase64String(t||"")):(D(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Cn.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?R.UNKNOWN:xo(e.code);return new F(t,e.message||"")}(a);n=new Oo(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yo(e,r.document.name),o=Ho(r.document.updateTime),a=r.document.createTime?Ho(r.document.createTime):_e.min(),s=new xr({mapValue:{fields:r.document.fields}}),l=_r.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new No(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Yo(e,r.document),o=r.readTime?Ho(r.readTime):_e.min(),a=_r.newNoDocument(i,o),s=r.removedTargetIds||[];n=new No([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Yo(e,r.document),o=r.removedTargetIds||[];n=new No([],o,i,null)}else{if(!("filter"in t))return O(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new yo(r,i),a=e.targetId;n=new Co(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return _e.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?_e.min():t.readTime?Ho(t.readTime):_e.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=Zo(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Jr(r)?{documents:oa(e,r)}:{query:aa(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Vo(e,t.resumeToken);const r=Uo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(_e.min())>0){n.readTime=qo(e,t.snapshotVersion.toTimestamp());const r=Uo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=Zo(this.serializer),t.removeTarget=e,this.k_(t)}}class yc extends gc{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return D(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,D(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){D(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?(D(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Ho(e.updateTime):Ho(t);return n.isEqual(_e.min())&&(n=Ho(t)),new Yi(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Ho(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=Zo(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>ra(this.serializer,e))};this.k_(t)}}class vc{}class bc extends vc{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new F(R.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,a]=i;return this.connection.Wo(e,Ko(t,n),r,o,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new F(R.UNKNOWN,e.toString())})}Jo(e,t,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[a,s]=o;return this.connection.Jo(e,Ko(t,n),r,a,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new F(R.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class wc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(P(t),this._a=!1):I("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const xc="RemoteStore";class Sc{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{Cc(this)&&(I(xc,"Restarting streams for network reachability change."),await async function(e){const t=M(e);t.Ia.add(4),await kc(t),t.Aa.set("Unknown"),t.Ia.delete(4),await _c(t)}(this))})}),this.Aa=new wc(n,r)}}async function _c(e){if(Cc(e))for(const t of e.da)await t(!0)}async function kc(e){for(const t of e.da)await t(!1)}function Ac(e,t){const n=M(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Nc(n)?Pc(n):Yc(n).x_()&&Tc(n,t))}function Ec(e,t){const n=M(e),r=Yc(n);n.Ta.delete(t),r.x_()&&Ic(n,t),0===n.Ta.size&&(r.x_()?r.B_():Cc(n)&&n.Aa.set("Unknown"))}function Tc(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_e.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Yc(e).H_(t)}function Ic(e,t){e.Ra.$e(t),Yc(e).Y_(t)}function Pc(e){e.Ra=new Do({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),Yc(e).start(),e.Aa.aa()}function Nc(e){return Cc(e)&&!Yc(e).M_()&&e.Ta.size>0}function Cc(e){return 0===M(e).Ia.size}function Oc(e){e.Ra=void 0}async function Lc(e){e.Aa.set("Online")}async function Dc(e){e.Ta.forEach((t,n)=>{Tc(e,t)})}async function jc(e,t){Oc(e),Nc(e)?(e.Aa.la(t),Pc(e)):e.Aa.set("Unknown")}async function Mc(e,t,n){if(e.Aa.set("Online"),t instanceof Oo&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){I(xc,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Rc(e,n)}else if(t instanceof No?e.Ra.Ye(t):t instanceof Co?e.Ra.it(t):e.Ra.et(t),!n.isEqual(_e.min()))try{const t=await Pl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ta.get(r);i&&e.Ta.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(Cn.EMPTY_BYTE_STRING,r.snapshotVersion)),Ic(e,t);const i=new va(r.target,t,n,r.sequenceNumber);Tc(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){I(xc,"Failed to raise snapshot:",t),await Rc(e,t)}}async function Rc(e,t,n){if(!$e(t))throw t;e.Ia.add(1),await kc(e),e.Aa.set("Offline"),n||(n=()=>Pl(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{I(xc,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await _c(e)})}function Fc(e,t){return t().catch(n=>Rc(e,n,t))}async function Bc(e){const t=M(e),n=Xc(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:tt;for(;zc(t);)try{const e=await Cl(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,Uc(t,e)}catch(e){await Rc(t,e)}qc(t)&&Vc(t)}function zc(e){return Cc(e)&&e.Pa.length<10}function Uc(e,t){e.Pa.push(t);const n=Xc(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function qc(e){return Cc(e)&&!Xc(e).M_()&&e.Pa.length>0}function Vc(e){Xc(e).start()}async function Wc(e){Xc(e).na()}async function Hc(e){const t=Xc(e);for(const n of e.Pa)t.X_(n.mutations)}async function $c(e,t,n){const r=e.Pa.shift(),i=po.from(r,t,n);await Fc(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Bc(e)}async function Kc(e,t){t&&Xc(e).Z_&&await async function(e,t){if(function(e){return wo(e)&&e!==R.ABORTED}(t.code)){const n=e.Pa.shift();Xc(e).N_(),await Fc(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Bc(e)}}(e,t),qc(e)&&Vc(e)}async function Gc(e,t){const n=M(e);n.asyncQueue.verifyOperationInProgress(),I(xc,"RemoteStore received new credentials");const r=Cc(n);n.Ia.add(3),await kc(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await _c(n)}async function Qc(e,t){const n=M(e);t?(n.Ia.delete(2),await _c(n)):t||(n.Ia.add(2),await kc(n),n.Aa.set("Unknown"))}function Yc(e){return e.Va||(e.Va=function(e,t,n){const r=M(e);return r.ia(),new mc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:Lc.bind(null,e),e_:Dc.bind(null,e),n_:jc.bind(null,e),J_:Mc.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),Nc(e)?Pc(e):e.Aa.set("Unknown")):(await e.Va.stop(),Oc(e))})),e.Va}function Xc(e){return e.ma||(e.ma=function(e,t,n){const r=M(e);return r.ia(),new yc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:Wc.bind(null,e),n_:Kc.bind(null,e),ea:Hc.bind(null,e),ta:$c.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await Bc(e)):(await e.ma.stop(),e.Pa.length>0&&(I(xc,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma}class Jc{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new B,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new Jc(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new F(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zc(e,t){if(P("AsyncQueue",`${t}: ${e}`),$e(e))return new F(R.UNAVAILABLE,`${t}: ${e}`);throw e}class eu{static emptySet(e){return new eu(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ce.comparator(t.key,n.key):(e,t)=>ce.comparator(e.key,t.key),this.keyedMap=ki(),this.sortedSet=new Sn(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof eu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new eu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class tu{constructor(){this.fa=new Sn(ce.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):O(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class nu{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new nu(e,t,eu.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ru{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class iu{constructor(){this.queries=ou(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=M(e),r=n.queries;n.queries=ou(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new F(R.ABORTED,"Firestore shutting down"))}}function ou(){return new wi(e=>pi(e),fi)}async function au(e,t){const n=M(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Sa()&&t.ba()&&(r=2):(o=new ru,r=t.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Zc(e,`Initialization of query '${gi(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.wa.push(t),t.va(n.onlineState),o.ya&&t.Ca(o.ya)&&uu(n)}async function su(e,t){const n=M(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.wa.indexOf(t);e>=0&&(o.wa.splice(e,1),0===o.wa.length?i=t.ba()?0:1:!o.Sa()&&t.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lu(e,t){const n=M(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(i)&&(r=!0);t.ya=i}}r&&uu(n)}function cu(e,t,n){const r=M(e),i=r.queries.get(t);if(i)for(const o of i.wa)o.onError(n);r.queries.delete(t)}function uu(e){e.Da.forEach(e=>{e.next()})}var hu,du;(du=hu||(hu={})).Fa="default",du.Cache="cache";class fu{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new nu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==hu.Cache}}class pu{constructor(e,t){this.qa=e,this.byteLength=t}Qa(){return"metadata"in this.qa}}class gu{constructor(e){this.serializer=e}Qs(e){return Yo(this.serializer,e)}$s(e){return e.metadata.exists?na(this.serializer,e.document,!1):_r.newNoDocument(this.Qs(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return Ho(e)}}class mu{constructor(e,t){this.$a=e,this.serializer=t,this.Ua=[],this.Ka=[],this.collectionGroups=new Set,this.progress=yu(e)}get queries(){return this.Ua}get documents(){return this.Ka}Wa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Ua.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Ka.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++t;const n=ae.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.qa.document&&(this.Ka[this.Ka.length-1].document=e.qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ga(e){const t=new Map,n=new gu(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Qs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Ci()).add(e);t.set(n,r)}}return t}async za(e){const t=await async function(e,t,n,r){const i=M(e);let o=Ci(),a=Si();for(const c of n){const e=t.Qs(c.metadata.name);c.document&&(o=o.add(e));const n=t.$s(c);n.setReadTime(t.Us(c.metadata.readTime)),a=a.insert(e,n)}const s=i.Os.newChangeBuffer({trackRemovals:!0}),l=await Ol(i,function(e){return li(ii(ae.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>Nl(e,s,a).next(t=>(s.apply(e),t)).next(t=>i.hi.removeMatchingKeysForTargetId(e,l.targetId).next(()=>i.hi.addMatchingKeys(e,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(e,t.Ls,t.ks)).next(()=>t.Ls)))}(e,new gu(this.serializer),this.Ka,this.$a.id),n=this.Ga(this.documents);for(const r of this.Ua)await Fl(e,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ja:this.collectionGroups,Ja:t}}}function yu(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class vu{constructor(e){this.key=e}}class bu{constructor(e){this.key=e}}class wu{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ci(),this.mutatedKeys=Ci(),this.Xa=vi(e),this.eu=new eu(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new tu,r=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=mi(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.iu(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Xa(u,s)>0||l&&this.Xa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{eu:o,ru:n,Ds:a,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const a=t&&!r?this.ou():[],s=0===this.Za.size&&this.current&&!r?1:0,l=s!==this.Ya;return this.Ya=s,0!==o.length||l?{snapshot:new nu(this.query,e.eu,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new tu,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ci(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new bu(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new vu(n))}),t}uu(e){this.Ha=e.qs,this.Za=Ci();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return nu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const xu="SyncEngine";class Su{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class _u{constructor(e){this.key=e,this.lu=!1}}class ku{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new wi(e=>pi(e),fi),this.Tu=new Map,this.Iu=new Set,this.du=new Sn(ce.comparator),this.Eu=new Map,this.Au=new el,this.Ru={},this.Vu=new Map,this.mu=Es.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function Au(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=eh(e);let i;const o=r.Pu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await Tu(r,t,n,!0),i}async function Eu(e,t){const n=eh(e);await Tu(n,t,!0,!1)}async function Tu(e,t,n,r){const i=await Ol(e.localStore,li(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await Iu(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Ac(e.remoteStore,i),s}async function Iu(e,t,n,r,i){e.gu=(t,n,r)=>async function(e,t,n,r){let i=t.view.nu(n);i.Ds&&(i=await Dl(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.nu(n,i)}));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return zu(e,t.targetId,s._u),s.snapshot}(e,t,n,r);const o=await Dl(e.localStore,t,!0),a=new wu(t,o.qs),s=a.nu(o.documents),l=Po.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);zu(e,n,c._u);const u=new Su(t,n,a);return e.Pu.set(t,u),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}async function Pu(e,t,n){const r=M(e),i=r.Pu.get(t),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(e=>!fi(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ll(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ec(r.remoteStore,i.targetId),Fu(r,i.targetId)}).catch(Fe)):(Fu(r,i.targetId),await Ll(r.localStore,i.targetId,!0))}async function Nu(e,t){const n=M(e),r=n.Pu.get(t),i=n.Tu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ec(n.remoteStore,r.targetId))}async function Cu(e,t){const n=M(e);try{const e=await function(e,t){const n=M(e),r=t.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];t.targetChanges.forEach((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.hi.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.hi.addMatchingKeys(e,o.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Cn.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=Al||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&a.push(n.hi.updateTargetData(e,c))});let s=Si(),l=Ci();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Nl(e,o,t.documentUpdates).next(e=>{s=e.Ls,l=e.ks})),!r.isEqual(_e.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Be.waitFor(a).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Fs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(D(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?D(r.lu,14607):e.removedDocuments.size>0&&(D(r.lu,42227),r.lu=!1))}),await Vu(n,e,t)}catch(e){await Fe(e)}}function Ou(e,t,n){const r=M(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=M(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.wa)i.va(t)&&(r=!0)}),r&&uu(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Lu(e,t,n){const r=M(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),o=i&&i.key;if(o){let e=new Sn(ce.comparator);e=e.insert(o,_r.newNoDocument(o,_e.min()));const n=Ci().add(o),i=new Io(_e.min(),new Map,new Sn(J),e,n);await Cu(r,i),r.du=r.du.remove(o),r.Eu.delete(t),qu(r)}else await Ll(r.localStore,t,!1).then(()=>Fu(r,t,n)).catch(Fe)}async function Du(e,t){const n=M(e),r=t.batch.batchId;try{const e=await function(e,t){const n=M(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Be.resolve();return o.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);D(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ci();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Ru(n,r,null),Mu(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vu(n,e)}catch(e){await Fe(e)}}async function ju(e,t,n){const r=M(e);try{const e=await function(e,t){const n=M(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(D(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Ru(r,t,n),Mu(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Vu(r,e)}catch(n){await Fe(n)}}function Mu(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function Ru(e,t,n){const r=M(e);let i=r.Ru[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ru[r.currentUser.toKey()]=i}}function Fu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||Bu(e,t)})}function Bu(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Ec(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),qu(e))}function zu(e,t,n){for(const r of n)r instanceof vu?(e.Au.addReference(r.key,t),Uu(e,r)):r instanceof bu?(I(xu,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||Bu(e,r.key)):O(19791,{yu:r})}function Uu(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(I(xu,"New document in limbo: "+n),e.Iu.add(r),qu(e))}function qu(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new ce(ae.fromString(t)),r=e.mu.next();e.Eu.set(r,new _u(n)),e.du=e.du.insert(n,r),Ac(e.remoteStore,new va(li(ii(n.path)),r,"TargetPurposeLimboResolution",et.ue))}}async function Vu(e,t,n){const r=M(e),i=[],o=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((e,s)=>{a.push(r.gu(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=xl.Es(s.targetId,e);o.push(t)}}))}),await Promise.all(a),r.hu.J_(i),await async function(e,t){const n=M(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Be.forEach(t,t=>Be.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Be.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!$e(e))throw e;I(kl,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,i)}}}(r.localStore,o))}async function Wu(e,t){const n=M(e);if(!n.currentUser.isEqual(t)){I(xu,"User change. New user:",t.toKey());const e=await Il(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new F(R.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Vu(n,e.Bs)}}function Hu(e,t){const n=M(e),r=n.Eu.get(t);if(r&&r.lu)return Ci().add(r.key);{let e=Ci();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}async function $u(e,t){const n=M(e),r=await Dl(n.localStore,t.query,!0),i=t.view.uu(r);return n.isPrimaryClient&&zu(n,t.targetId,i._u),i}async function Ku(e,t){const n=M(e);return Ml(n.localStore,t).then(e=>Vu(n,e))}async function Gu(e,t,n,r){const i=M(e),o=await function(e,t){const n=M(e),r=M(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Xn(e,t).next(t=>t?n.localDocuments.getDocuments(e,t):Be.resolve(null)))}(i.localStore,t);null!==o?("pending"===n?await Bc(i.remoteStore):"acknowledged"===n||"rejected"===n?(Ru(i,t,r||null),Mu(i,t),function(e,t){M(M(e).mutationQueue).rr(t)}(i.localStore,t)):O(6720,"Unknown batchState",{wu:n}),await Vu(i,o)):I(xu,"Cannot apply mutation batch with id: "+t)}async function Qu(e,t,n){const r=M(e),i=[],o=[];for(const a of t){let e;const t=r.Tu.get(a);if(t&&0!==t.length){e=await Ol(r.localStore,li(t[0]));for(const e of t){const t=r.Pu.get(e),n=await $u(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await jl(r.localStore,a);e=await Ol(r.localStore,t),await Iu(r,Yu(t),a,!1,e.resumeToken)}i.push(e)}return r.hu.J_(o),i}function Yu(e){return ri(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Xu(e){return function(e){return M(M(e).persistence).Ps()}(M(e).localStore)}async function Ju(e,t,n,r){const i=M(e);if(i.fu)return void I(xu,"Ignoring unexpected query state notification.");const o=i.Tu.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Ml(i.localStore,yi(o[0])),r=Io.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Cn.EMPTY_BYTE_STRING);await Vu(i,e,r);break}case"rejected":await Ll(i.localStore,t,!0),Fu(i,t,r);break;default:O(64155,n)}}async function Zu(e,t,n){const r=eh(e);if(r.fu){for(const e of t){if(r.Tu.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){I(xu,"Adding an already active target "+e);continue}const t=await jl(r.localStore,e),n=await Ol(r.localStore,t);await Iu(r,Yu(t),n.targetId,!1,n.resumeToken),Ac(r.remoteStore,n)}for(const e of n)r.Tu.has(e)&&await Ll(r.localStore,e,!1).then(()=>{Ec(r.remoteStore,e),Fu(r,e)}).catch(Fe)}}function eh(e){const t=M(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Cu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Lu.bind(null,t),t.hu.J_=lu.bind(null,t.eventManager),t.hu.pu=cu.bind(null,t.eventManager),t}function th(e){const t=M(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Du.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ju.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Tl(this.persistence,new _l,e.initialUser,this.serializer)}Du(e){return new al(ll.Vi,this.serializer)}bu(e){return new Jl}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class rh extends nh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){D(this.persistence.referenceDelegate instanceof cl,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new js(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?vs.withCacheSize(this.cacheSizeBytes):vs.DEFAULT;return new al(e=>cl.Vi(e,t),this.serializer)}}class ih extends nh{constructor(e,t,n){super(),this.Mu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Mu.initialize(this,e),await th(this.Mu.syncEngine),await Bc(this.Mu.remoteStore),await this.persistence.ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return Tl(this.persistence,new _l,e.initialUser,this.serializer)}Cu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new js(n,e.asyncQueue,t)}Fu(e,t){const n=new Ze(t,this.persistence);return new Je(e.asyncQueue,n)}Du(e){const t=wl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?vs.withCacheSize(this.cacheSizeBytes):vs.DEFAULT;return new yl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,uc(),hc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}bu(e){return new Jl}}class oh extends ih{constructor(e,t){super(e,t,!1),this.Mu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Mu.syncEngine;this.sharedClientState instanceof Xl&&(this.sharedClientState.syncEngine={Do:Gu.bind(null,t),vo:Ju.bind(null,t),Co:Zu.bind(null,t),Ps:Xu.bind(null,t),bo:Ku.bind(null,t)},await this.sharedClientState.start()),await this.persistence.ji(async e=>{await async function(e,t){const n=M(e);if(eh(n),th(n),!0===t&&!0!==n.fu){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Qu(n,e.toArray());n.fu=!0,await Qc(n.remoteStore,!0);for(const r of t)Ac(n.remoteStore,r)}else if(!1===t&&!1!==n.fu){const e=[];let t=Promise.resolve();n.Tu.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(Fu(n,i),Ll(n.localStore,i,!0))),Ec(n.remoteStore,i)}),await t,await Qu(n,e),function(e){const t=M(e);t.Eu.forEach((e,n)=>{Ec(t.remoteStore,n)}),t.Au.jr(),t.Eu=new Map,t.du=new Sn(ce.comparator)}(n),n.fu=!1,await Qc(n.remoteStore,!1)}}(this.Mu.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())})}bu(e){const t=uc();if(!Xl.C(t))throw new F(R.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=wl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xl(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class ah{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ou(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wu.bind(null,this.syncEngine),await Qc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new iu}createDatastore(e){const t=dc(e.databaseInfo.databaseId),n=function(e){return new cc(e)}(e.databaseInfo);return function(e,t,n,r){return new bc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Sc(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Ou(this.syncEngine,e,0),tc.C()?new tc:new Zl)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new ku(e,t,n,r,i,o);return a&&(s.fu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=M(e);I(xc,"RemoteStore shutting down."),t.Ia.add(5),await kc(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function sh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}ah.provider={build:()=>new ah};class lh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):P("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class ch{constructor(e,t){this.Nu=e,this.serializer=t,this.metadata=new B,this.buffer=new Uint8Array,this.Bu=new TextDecoder("utf-8"),this.Lu().then(e=>{e&&e.Qa()?this.metadata.resolve(e.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.qa)}`))},e=>this.metadata.reject(e))}close(){return this.Nu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.Lu()}async Lu(){const e=await this.ku();if(null===e)return null;const t=this.Bu.decode(e),n=Number(t);isNaN(n)&&this.qu(`length string (${t}) is not valid number`);const r=await this.Qu(n);return new pu(JSON.parse(r),e.length+n)}$u(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async ku(){for(;this.$u()<0&&!await this.Uu(););if(0===this.buffer.length)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Qu(e){for(;this.buffer.length<e;)await this.Uu()&&this.qu("Reached the end of bundle when more is expected.");const t=this.Bu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}qu(e){throw this.Nu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Uu(){const e=await this.Nu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class uh{constructor(e,t){this.bundleData=e,this.serializer=t,this.cursor=0,this.elements=[];let n=this.Su();if(!n||!n.Qa())throw new Error(`The first element of the bundle is not a metadata object, it is\n         ${JSON.stringify(null==n?void 0:n.qa)}`);this.metadata=n;do{n=this.Su(),null!==n&&this.elements.push(n)}while(null!==n)}getMetadata(){return this.metadata}Ku(){return this.elements}Su(){if(this.cursor===this.bundleData.length)return null;const e=this.ku(),t=this.Qu(e);return new pu(JSON.parse(t),e)}Qu(e){if(this.cursor+e>this.bundleData.length)throw new F(R.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}ku(){const e=this.cursor;let t=this.cursor;for(;t<this.bundleData.length;){if("{"===this.bundleData[t]){if(t===e)throw new Error("First character is a bracket and not a number");return this.cursor=t,Number(this.bundleData.slice(e,t))}t++}throw new Error("Reached the end of bundle when more is expected.")}}class hh{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new F(R.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=M(e),r={documents:t.map(e=>Qo(n.serializer,e))},i=await n.Jo("BatchGetDocuments",n.serializer.databaseId,ae.emptyPath(),r,t.length),o=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){D(!!t.found,43571),t.found.name,t.found.updateTime;const n=Yo(e,t.found.name),r=Ho(t.found.updateTime),i=t.found.createTime?Ho(t.found.createTime):_e.min(),o=new xr({mapValue:{fields:t.found.fields}});return _r.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){D(!!t.missing,3894),D(!!t.readTime,22933);const n=Yo(e,t.missing),r=Ho(t.readTime);return _r.newNoDocument(n,r)}(e,t):O(7234,{result:t})}(n.serializer,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());D(!!t,55234,{key:e}),a.push(t)}),a}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new uo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=ce.fromPath(t);this.mutations.push(new ho(n,this.precondition(n)))}),await async function(e,t){const n=M(e),r={writes:t.map(e=>ra(n.serializer,e))};await n.Wo("Commit",n.serializer.databaseId,ae.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw O(50498,{Wu:e.constructor.name});t=_e.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new F(R.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_e.min())?Xi.exists(!1):Xi.updateTime(t):Xi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_e.min()))throw new F(R.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xi.updateTime(t)}return Xi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class dh{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Gu=n.maxAttempts,this.F_=new fc(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(async()=>{const e=new hh(this.datastore),t=this.Ju(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Hu(e)}))}).catch(e=>{this.Hu(e)})})}Ju(e){try{const t=this.updateFunction(e);return!nt(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(e)}Yu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!wo(t)}return!1}}const fh="FirestoreClient";class ph{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=_.UNAUTHENTICATED,this.clientId=X.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{I(fh,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(I(fh,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new B;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Zc(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function gh(e,t){e.asyncQueue.verifyOperationInProgress(),I(fh,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Il(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{N("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{I("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{N("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function mh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await yh(e);I(fh,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Gc(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Gc(t.remoteStore,n)),e._onlineComponents=t}async function yh(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){I(fh,"Using user provided OfflineComponentProvider");try{await gh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===R.FAILED_PRECONDITION||e.code===R.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;N("Error using user provided cache. Falling back to memory cache: "+n),await gh(e,new nh)}}else I(fh,"Using default OfflineComponentProvider"),await gh(e,new rh(void 0));return e._offlineComponents}async function vh(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(I(fh,"Using user provided OnlineComponentProvider"),await mh(e,e._uninitializedComponentsProvider._online)):(I(fh,"Using default OnlineComponentProvider"),await mh(e,new ah))),e._onlineComponents}function bh(e){return yh(e).then(e=>e.persistence)}function wh(e){return yh(e).then(e=>e.localStore)}function xh(e){return vh(e).then(e=>e.remoteStore)}function Sh(e){return vh(e).then(e=>e.syncEngine)}function _h(e){return vh(e).then(e=>e.datastore)}async function kh(e){const t=await vh(e),n=t.eventManager;return n.onListen=Au.bind(null,t.syncEngine),n.onUnlisten=Pu.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Eu.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Nu.bind(null,t.syncEngine),n}function Ah(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new B;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new lh({next:s=>{o.Ou(),t.enqueueAndForget(()=>su(e,a));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new F(R.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new F(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new fu(ii(n.path),o,{includeMetadataChanges:!0,ka:!0});return au(e,a)}(await kh(e),e.asyncQueue,t,n,r)),r.promise}function Eh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new B;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new lh({next:n=>{o.Ou(),t.enqueueAndForget(()=>su(e,a)),n.fromCache&&"server"===r.source?i.reject(new F(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new fu(n,o,{includeMetadataChanges:!0,ka:!0});return au(e,a)}(await kh(e),e.asyncQueue,t,n,r)),r.promise}function Th(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Y().encode(e):e,function(e,t){return new ch(e,t)}(function(e,t){if(e instanceof Uint8Array)return sh(e,t);if(e instanceof ArrayBuffer)return sh(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,dc(t));e.asyncQueue.enqueueAndForget(async()=>{!function(e,t,n){const r=M(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=M(e),r=Ho(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Ti.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(yu(r));const i=new mu(r,t.serializer);let o=await t.Su();for(;o;){const e=await i.Wa(o);e&&n._updateProgress(e),o=await t.Su()}const a=await i.za(e.localStore);return await Vu(e,a.Ja,void 0),await function(e,t){const n=M(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Ti.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.ja)}catch(e){return N(xu,`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then(e=>{r.sharedClientState.notifyBundleLoaded(e)})}(await Sh(e),i,r)})}function Ih(e,t){return function(e,t){return new uh(e,t)}(e,t)}function Ph(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Nh=new Map,Ch="firestore.googleapis.com",Oh=!0;class Lh{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new F(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ch,this.ssl=Oh}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Oh;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=ys;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Os)throw new F(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}he("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ph(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new F(R.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new F(R.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new F(R.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new F(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lh(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new U;switch(e.type){case"firstParty":return new H(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new F(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Nh.get(e);t&&(I("ComponentProvider","Removing Datastore"),Nh.delete(e),t.terminate())}(this),Promise.resolve()}}function jh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=me(e,Dh);const o=(0,l.zJ)(t),a=e._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),c=`${t}:${n}`;o&&((0,l.gE)(`https://${c}`),(0,l.P1)("Firestore",!0)),a.host!==Ch&&a.host!==c&&N("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:o,emulatorOptions:r});if(!(0,l.bD)(u,s)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=_.MOCK_USER;else{t=(0,l.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new F(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new _(o)}e._authCredentials=new q(new z(t,n))}}class Mh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Mh(this.firestore,e,this._query)}}class Rh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rh(this.firestore,e,this._key)}toJSON(){return{type:Rh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(be(t,Rh._jsonSchema))return new Rh(e,n||null,new ce(ae.fromString(t.referencePath)))}}Rh._jsonSchemaVersion="firestore/documentReference/1.0",Rh._jsonSchema={type:ve("string",Rh._jsonSchemaVersion),referencePath:ve("string")};class Fh extends Mh{constructor(e,t,n){super(e,t,ii(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rh(this.firestore,null,new ce(e))}withConverter(e){return new Fh(this.firestore,e,this._path)}}function Bh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),ue("collection","path",t),e instanceof Dh){const n=ae.fromString(t,...r);return fe(n),new Fh(e,null,n)}{if(!(e instanceof Rh||e instanceof Fh))throw new F(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ae.fromString(t,...r));return fe(n),new Fh(e.firestore,null,n)}}function zh(e,t){if(e=me(e,Dh),ue("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new F(R.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Mh(e,null,function(e){return new ni(ae.emptyPath(),e)}(t))}function Uh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),1===arguments.length&&(t=X.newId()),ue("doc","path",t),e instanceof Dh){const n=ae.fromString(t,...r);return de(n),new Rh(e,null,new ce(n))}{if(!(e instanceof Rh||e instanceof Fh))throw new F(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ae.fromString(t,...r));return de(n),new Rh(e.firestore,e instanceof Fh?e.converter:null,new ce(n))}}function qh(e,t){return e=(0,l.Ku)(e),t=(0,l.Ku)(t),(e instanceof Rh||e instanceof Fh)&&(t instanceof Rh||t instanceof Fh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Vh(e,t){return e=(0,l.Ku)(e),t=(0,l.Ku)(t),e instanceof Mh&&t instanceof Mh&&e.firestore===t.firestore&&fi(e._query,t._query)&&e.converter===t.converter}const Wh="AsyncQueue";class Hh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new fc(this,"async_queue_retry"),this.oc=()=>{const e=hc();e&&I(Wh,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=hc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=hc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new B;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!$e(e))throw e;I(Wh,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,P("INTERNAL UNHANDLED ERROR: ",$h(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=Jc.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&O(47125,{hc:$h(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function $h(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Kh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Gh{constructor(){this._progressObserver={},this._taskCompletionResolver=new B,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Qh=-1;class Yh extends Dh{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Hh,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hh(e),this._firestoreClient=void 0,await e}}}function Xh(e,t,n){n||(n=Wn);const r=(0,o.j6)(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n}),i=r.getOptions(n);if((0,l.bD)(i,t))return e;throw new F(R.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new F(R.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<Os)throw new F(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&(0,l.zJ)(t.host)&&(0,l.gE)(t.host),r.initialize({options:t,instanceIdentifier:n})}function Jh(e,t){const n="object"==typeof e?e:(0,o.Sx)(),r="string"==typeof e?e:t||Wn,i=(0,o.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,l.yU)("firestore");e&&jh(i,...e)}return i}function Zh(e){if(e._terminated)throw new F(R.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ed(e),e._firestoreClient}function ed(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Vn(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ph(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new ph(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function td(e,t){N("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return rd(e,ah.provider,{build:e=>new ih(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}async function nd(e){N("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();rd(e,ah.provider,{build:e=>new oh(e,t.cacheSizeBytes)})}function rd(e,t,n){if((e=me(e,Yh))._firestoreClient||e._terminated)throw new F(R.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new F(R.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},ed(e)}function id(e){if(e._initialized&&!e._terminated)throw new F(R.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new B;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(e){if(!qe.C())return Promise.resolve();const t=e+ml;await qe.delete(t)}(wl(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),t.promise}function od(e){return function(e){const t=new B;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t){const n=M(e);Cc(n.remoteStore)||I(xu,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=M(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(e===tt)return void t.resolve();const r=n.Vu.get(e)||[];r.push(t),n.Vu.set(e,r)}catch(e){const n=Zc(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Sh(e),t)),t.promise}(Zh(e=me(e,Yh)))}function ad(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await bh(e),n=await xh(e);return t.setNetworkEnabled(!0),function(e){const t=M(e);return t.Ia.delete(0),_c(t)}(n)})}(Zh(e=me(e,Yh)))}function sd(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await bh(e),n=await xh(e);return t.setNetworkEnabled(!1),async function(e){const t=M(e);t.Ia.add(0),await kc(t),t.Aa.set("Offline")}(n)})}(Zh(e=me(e,Yh)))}function ld(e){return(0,o.Us)(e.app,"firestore",e._databaseId.database),e._delete()}function cd(e,t){const n=Zh(e=me(e,Yh)),r=new Gh;return Th(n,e._databaseId,t,r),r}function ud(e,t){return function(e,t){return e.asyncQueue.enqueue(async()=>function(e,t){const n=M(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Ti.getNamedQuery(e,t))}(await wh(e),t))}(Zh(e=me(e,Yh)),t).then(t=>t?new Mh(e,null,t.query):null)}class hd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"count",t=arguments.length>1?arguments[1]:void 0;this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class dd{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class fd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fd(Cn.fromBase64String(e))}catch(e){throw new F(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new fd(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fd._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(be(e,fd._jsonSchema))return fd.fromBase64String(e.bytes)}}fd._jsonSchemaVersion="firestore/bytes/1.0",fd._jsonSchema={type:ve("string",fd._jsonSchemaVersion),bytes:ve("string")};class pd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new F(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new le(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function gd(){return new pd(ie)}class md{constructor(e){this._methodName=e}}class yd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new F(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new F(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yd._jsonSchemaVersion}}static fromJSON(e){if(be(e,yd._jsonSchema))return new yd(e.latitude,e.longitude)}}yd._jsonSchemaVersion="firestore/geoPoint/1.0",yd._jsonSchema={type:ve("string",yd._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};class vd{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:vd._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(be(e,vd._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new vd(e.vectorValues);throw new F(R.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vd._jsonSchemaVersion="firestore/vectorValue/1.0",vd._jsonSchema={type:ve("string",vd._jsonSchemaVersion),vectorValues:ve("object")};const bd=/^__.*__$/;class wd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ao(e,this.data,this.fieldMask,t,this.fieldTransforms):new oo(e,this.data,t,this.fieldTransforms)}}class xd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ao(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Sd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O(40011,{Ec:e})}}class _d{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new _d(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Vd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(Sd(this.Ec)&&bd.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class kd{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||dc(e)}Dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _d({Ec:e,methodName:t,bc:n,path:le.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ad(e){const t=e._freezeSettings(),n=dc(e._databaseId);return new kd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ed(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Dc(o.merge||o.mergeFields?2:0,t,n,i);Bd("Data must be an object, but it was:",a,r);const s=Rd(r,a);let l,c;if(o.merge)l=new In(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=zd(t,r,n);if(!a.contains(i))throw new F(R.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Wd(e,i)||e.push(i)}l=new In(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new wd(new xr(s),l,c)}class Td extends md{_toFieldTransform(e){if(2!==e.Ec)throw 1===e.Ec?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Td}}function Id(e,t,n){return new _d({Ec:3,bc:t.settings.bc,methodName:e._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Pd extends md{_toFieldTransform(e){return new Qi(e.path,new Ui)}isEqual(e){return e instanceof Pd}}class Nd extends md{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Id(this,e,!0),n=this.vc.map(e=>Md(e,t)),r=new qi(n);return new Qi(e.path,r)}isEqual(e){return e instanceof Nd&&(0,l.bD)(this.vc,e.vc)}}class Cd extends md{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Id(this,e,!0),n=this.vc.map(e=>Md(e,t)),r=new Wi(n);return new Qi(e.path,r)}isEqual(e){return e instanceof Cd&&(0,l.bD)(this.vc,e.vc)}}class Od extends md{constructor(e,t){super(e),this.Cc=t}_toFieldTransform(e){const t=new $i(e.serializer,Mi(e.serializer,this.Cc));return new Qi(e.path,t)}isEqual(e){return e instanceof Od&&this.Cc===e.Cc}}function Ld(e,t,n,r){const i=e.Dc(1,t,n);Bd("Data must be an object, but it was:",i,r);const o=[],a=xr.empty();bn(r,(e,r)=>{const s=qd(t,e,n);r=(0,l.Ku)(r);const c=i.gc(s);if(r instanceof Td)o.push(s);else{const e=Md(r,c);null!=e&&(o.push(s),a.set(s,e))}});const s=new In(o);return new xd(a,s,i.fieldTransforms)}function Dd(e,t,n,r,i,o){const a=e.Dc(1,t,n),s=[zd(t,r,n)],c=[i];if(o.length%2!=0)throw new F(R.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let l=0;l<o.length;l+=2)s.push(zd(t,o[l])),c.push(o[l+1]);const u=[],h=xr.empty();for(let f=s.length-1;f>=0;--f)if(!Wd(u,s[f])){const e=s[f];let t=c[f];t=(0,l.Ku)(t);const n=a.gc(e);if(t instanceof Td)u.push(e);else{const r=Md(t,n);null!=r&&(u.push(e),h.set(e,r))}}const d=new In(u);return new xd(h,d,a.fieldTransforms)}function jd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Md(n,e.Dc(r?4:3,t))}function Md(e,t){if(Fd(e=(0,l.Ku)(e)))return Bd("Unsupported field value:",t,e),Rd(e,t);if(e instanceof md)return function(e,t){if(!Sd(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Md(i,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Mi(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Se.fromDate(e);return{timestampValue:qo(t.serializer,n)}}if(e instanceof Se){const n=new Se(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:qo(t.serializer,n)}}if(e instanceof yd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fd)return{bytesValue:Vo(t.serializer,e._byteString)};if(e instanceof Rh){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:$o(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof vd)return function(e,t){return{mapValue:{fields:{[$n]:{stringValue:Qn},[Yn]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return Di(t.serializer,e)})}}}}}}(e,t);throw t.wc(`Unsupported field value: ${ge(e)}`)}(e,t)}function Rd(e,t){const n={};return xn(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bn(e,(e,r)=>{const i=Md(r,t.Vc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Fd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Se||e instanceof yd||e instanceof fd||e instanceof Rh||e instanceof md||e instanceof vd)}function Bd(e,t,n){if(!Fd(n)||!pe(n)){const r=ge(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function zd(e,t,n){if((t=(0,l.Ku)(t))instanceof pd)return t._internalPath;if("string"==typeof t)return qd(e,t);throw Vd("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ud=new RegExp("[~\\*/\\[\\]]");function qd(e,t,n){if(t.search(Ud)>=0)throw Vd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new pd(...t.split("."))._internalPath}catch(r){throw Vd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Vd(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new F(R.INVALID_ARGUMENT,s+e+l)}function Wd(e,t){return e.some(e=>e.isEqual(t))}class Hd{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $d(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $d extends Hd{data(){return super.data()}}function Kd(e,t){return"string"==typeof t?qd(e,t):t instanceof pd?t._internalPath:t._delegate._internalPath}function Gd(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new F(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qd{}class Yd extends Qd{}function Xd(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Qd&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof ef).length,n=e.filter(e=>e instanceof Jd).length;if(t>1||t>0&&n>0)throw new F(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Jd extends Yd{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Jd(e,t,n)}_apply(e){const t=this._parse(e);return vf(e._query,t),new Mh(e.firestore,e.converter,hi(e._query,t))}_parse(e){const t=Ad(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new F(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){yf(a,o);const t=[];for(const n of a)t.push(mf(r,e,n));s={arrayValue:{values:t}}}else s=mf(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||yf(a,o),s=jd(n,t,a,"in"===o||"not-in"===o);return Nr.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Zd(e,t,n){const r=t,i=Kd("where",e);return Jd._create(i,r,n)}class ef extends Qd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ef(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)vf(n,i),n=hi(n,i)}(e._query,t),new Mh(e.firestore,e.converter,hi(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function tf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(e=>bf("or",e)),ef._create("or",t)}function nf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(e=>bf("and",e)),ef._create("and",t)}class rf extends Yd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rf(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new F(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new F(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tr(t,n)}(e._query,this._field,this._direction);return new Mh(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new ni(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function of(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Kd("orderBy",e);return rf._create(n,t)}class af extends Yd{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new af(e,t,n)}_apply(e){return new Mh(e.firestore,e.converter,di(e._query,this._limit,this._limitType))}}function sf(e){return ye("limit",e),af._create("limit",e,"F")}function lf(e){return ye("limitToLast",e),af._create("limitToLast",e,"L")}class cf extends Yd{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new cf(e,t,n)}_apply(e){const t=gf(e,this.type,this._docOrFields,this._inclusive);return new Mh(e.firestore,e.converter,function(e,t){return new ni(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function uf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cf._create("startAt",t,!0)}function hf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cf._create("startAfter",t,!1)}class df extends Yd{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new df(e,t,n)}_apply(e){const t=gf(e,this.type,this._docOrFields,this._inclusive);return new Mh(e.firestore,e.converter,function(e,t){return new ni(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function ff(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return df._create("endBefore",t,!1)}function pf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return df._create("endAt",t,!0)}function gf(e,t,n,r){if(n[0]=(0,l.Ku)(n[0]),n[0]instanceof Hd)return function(e,t,n,r,i){if(!r)throw new F(R.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const a of si(e))if(a.field.isKeyField())o.push(sr(t,r.key));else{const e=r.data.field(a.field);if(zn(e))throw new F(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new F(R.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new kr(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Ad(e.firestore);return function(e,t,n,r,i,o){const a=e.explicitOrderBy;if(i.length>a.length)throw new F(R.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const s=[];for(let l=0;l<i.length;l++){const o=i[l];if(a[l].field.isKeyField()){if("string"!=typeof o)throw new F(R.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof o}`);if(!ai(e)&&-1!==o.indexOf("/"))throw new F(R.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${o}' contains a slash.`);const n=e.path.child(ae.fromString(o));if(!ce.isDocumentKey(n))throw new F(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new ce(n);s.push(sr(t,i))}else{const e=jd(n,r,o);s.push(e)}}return new kr(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function mf(e,t,n){if("string"==typeof(n=(0,l.Ku)(n))){if(""===n)throw new F(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ai(t)&&-1!==n.indexOf("/"))throw new F(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ae.fromString(n));if(!ce.isDocumentKey(r))throw new F(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sr(e,new ce(r))}if(n instanceof Rh)return sr(e,n._key);throw new F(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ge(n)}.`)}function yf(e,t){if(!Array.isArray(e)||0===e.length)throw new F(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vf(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new F(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new F(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function bf(e,t){if(!(t instanceof Jd||t instanceof ef))throw new F(R.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class wf{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Jn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw O(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return bn(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Yn].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Dn(e.doubleValue));return new vd(i)}convertGeoPoint(e){return new yd(Dn(e.latitude),Dn(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Un(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(qn(e));default:return null}}convertTimestamp(e){const t=Ln(e);return new Se(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ae.fromString(e);D(ya(n),9688,{name:e});const r=new Hn(n.get(1),n.get(3)),i=new ce(n.popFirst(5));return r.isEqual(t)||P(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function xf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Sf extends wf{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rh(this.firestore,null,t)}}function _f(e){return new hd("sum",zd("sum",e))}function kf(e){return new hd("avg",zd("average",e))}function Af(){return new hd("count")}function Ef(e,t){var n,r;return e instanceof hd&&t instanceof hd&&e.aggregateType===t.aggregateType&&(null===(n=e._internalFieldPath)||void 0===n?void 0:n.canonicalString())===(null===(r=t._internalFieldPath)||void 0===r?void 0:r.canonicalString())}function Tf(e,t){return Vh(e.query,t.query)&&(0,l.bD)(e.data(),t.data())}const If="NOT SUPPORTED";class Pf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nf extends Hd{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Kd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new F(R.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Nf._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}function Cf(e,t,n){if(be(t,Nf._jsonSchema)){if(t.bundle===If)throw new F(R.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=dc(e._databaseId),i=Ih(t.bundle,r),o=i.Ku(),a=new mu(i.getMetadata(),r);for(const e of o)a.Wa(e);const s=a.documents;if(1!==s.length)throw new F(R.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${s.length} documents.`);const l=na(r,s[0].document),c=new ce(ae.fromString(t.bundleName));return new Nf(e,new Sf(e),c,l,new Pf(!1,!1),n||null)}}Nf._jsonSchemaVersion="firestore/documentSnapshot/1.0",Nf._jsonSchema={type:ve("string",Nf._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class Of extends Nf{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Lf{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Pf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Of(this._firestore,this._userDataWriter,n.key,n,new Pf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new F(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Of(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Pf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Of(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Pf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:jf(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new F(R.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=X.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Df(e,t,n){if(be(t,Lf._jsonSchema)){if(t.bundle===If)throw new F(R.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=dc(e._databaseId),i=Ih(t.bundle,r),o=i.Ku(),a=new mu(i.getMetadata(),r);for(const e of o)a.Wa(e);if(1!==a.queries.length)throw new F(R.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${a.queries.length} queries.`);const s=Ta(a.queries[0].bundledQuery),l=a.documents;let c=new eu;l.map(e=>{const t=na(r,e.document);c=c.add(t)});const u=nu.fromInitialDocuments(s,c,Ci(),!1,!1),h=new Mh(e,n||null,s);return new Lf(e,new Sf(e),h,u)}}function jf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O(61501,{type:e})}}function Mf(e,t){return e instanceof Nf&&t instanceof Nf?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Lf&&t instanceof Lf&&e._firestore===t._firestore&&Vh(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Rf(e){e=me(e,Rh);const t=me(e.firestore,Yh);return Ah(Zh(t),e._key).then(n=>Jf(t,e,n))}Lf._jsonSchemaVersion="firestore/querySnapshot/1.0",Lf._jsonSchema={type:ve("string",Lf._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class Ff extends wf{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rh(this.firestore,null,t)}}function Bf(e){e=me(e,Rh);const t=me(e.firestore,Yh),n=Zh(t),r=new Ff(t);return function(e,t){const n=new B;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await function(e,t){const n=M(e);return n.persistence.runTransaction("read document","readonly",e=>n.localDocuments.getDocument(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new F(R.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Zc(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await wh(e),t,n)),n.promise}(n,e._key).then(n=>new Nf(t,r,e._key,n,new Pf(null!==n&&n.hasLocalMutations,!0),e.converter))}function zf(e){e=me(e,Rh);const t=me(e.firestore,Yh);return Ah(Zh(t),e._key,{source:"server"}).then(n=>Jf(t,e,n))}function Uf(e){e=me(e,Mh);const t=me(e.firestore,Yh),n=Zh(t),r=new Ff(t);return Gd(e._query),Eh(n,e._query).then(n=>new Lf(t,r,e,n))}function qf(e){e=me(e,Mh);const t=me(e.firestore,Yh),n=Zh(t),r=new Ff(t);return function(e,t){const n=new B;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await Dl(e,t,!0),i=new wu(t,r.qs),o=i.nu(r.documents),a=i.applyChanges(o,!1);n.resolve(a.snapshot)}catch(e){const r=Zc(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await wh(e),t,n)),n.promise}(n,e._query).then(n=>new Lf(t,r,e,n))}function Vf(e){e=me(e,Mh);const t=me(e.firestore,Yh),n=Zh(t),r=new Ff(t);return Eh(n,e._query,{source:"server"}).then(n=>new Lf(t,r,e,n))}function Wf(e,t,n){e=me(e,Rh);const r=me(e.firestore,Yh),i=xf(e.converter,t,n);return Xf(r,[Ed(Ad(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Xi.none())])}function Hf(e,t,n){e=me(e,Rh);const r=me(e.firestore,Yh),i=Ad(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),c=3;c<a;c++)s[c-3]=arguments[c];return o="string"==typeof(t=(0,l.Ku)(t))||t instanceof pd?Dd(i,"updateDoc",e._key,t,n,s):Ld(i,"updateDoc",e._key,t),Xf(r,[o.toMutation(e._key,Xi.exists(!0))])}function $f(e){return Xf(me(e.firestore,Yh),[new uo(e._key,Xi.none())])}function Kf(e,t){const n=me(e.firestore,Yh),r=Uh(e),i=xf(e.converter,t);return Xf(n,[Ed(Ad(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Xi.exists(!1))]).then(()=>r)}function Gf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=(0,l.Ku)(e);let s={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||Kh(n[c])||(s=n[c++]);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Kh(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[c+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let h,d,f;if(e instanceof Rh)d=me(e.firestore,Yh),f=ii(e._key.path),h={next:t=>{n[c]&&n[c](Jf(d,e,t))},error:n[c+1],complete:n[c+2]};else{const t=me(e,Mh);d=me(t.firestore,Yh),f=t._query;const r=new Ff(d);h={next:e=>{n[c]&&n[c](new Lf(d,r,t,e))},error:n[c+1],complete:n[c+2]},Gd(e._query)}return function(e,t,n,r){const i=new lh(r),o=new fu(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>au(await kh(e),o)),()=>{i.Ou(),e.asyncQueue.enqueueAndForget(async()=>su(await kh(e),o))}}(Zh(d),f,u,h)}function Qf(e,t){const n=(0,l.Ku)(e),r=function(e){const t={bundle:"",bundleName:"",bundleSource:""},n=["bundle","bundleName","bundleSource"];for(const r of n){if(!(r in e)){t.error=`snapshotJson missing required field: ${r}`;break}const n=e[r];if("string"!=typeof n){t.error=`snapshotJson field '${r}' must be a string.`;break}if(0===n.length){t.error=`snapshotJson field '${r}' cannot be an empty string.`;break}"bundle"===r?t.bundle=n:"bundleName"===r?t.bundleName=n:"bundleSource"===r&&(t.bundleSource=n)}return t}(t);if(r.error)throw new F(R.INVALID_ARGUMENT,r.error);let i,o=0;for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];if("object"!=typeof s[o]||Kh(s[o])||(i=s[o++]),"QuerySnapshot"===r.bundleSource){let e=null;if("object"==typeof s[o]&&Kh(s[o])){const t=s[o++];e={next:t.next,error:t.error,complete:t.complete}}else e={next:s[o++],error:s[o++],complete:s[o++]};return function(e,t,n,r,i){let o,a=!1;return cd(e,t.bundle).then(()=>ud(e,t.bundleName)).then(e=>{e&&!a&&(i&&e.withConverter(i),o=Gf(e,n||{},r))}).catch(e=>(r.error&&r.error(e),()=>{})),()=>{a||(a=!0,o&&o())}}(n,r,i,e,s[o])}if("DocumentSnapshot"===r.bundleSource){let e=null;if("object"==typeof s[o]&&Kh(s[o])){const t=s[o++];e={next:t.next,error:t.error,complete:t.complete}}else e={next:s[o++],error:s[o++],complete:s[o++]};return function(e,t,n,r,i){let o,a=!1;return cd(e,t.bundle).then(()=>{if(!a){const a=new Rh(e,i||null,ce.fromPath(t.bundleName));o=Gf(a,n||{},r)}}).catch(e=>(r.error&&r.error(e),()=>{})),()=>{a||(a=!0,o&&o())}}(n,r,i,e,s[o])}throw new F(R.INVALID_ARGUMENT,`unsupported bundle source: ${r.bundleSource}`)}function Yf(e,t){return function(e,t){const n=new lh(t);return e.asyncQueue.enqueueAndForget(async()=>function(e,t){M(e).Da.add(t),t.next()}(await kh(e),n)),()=>{n.Ou(),e.asyncQueue.enqueueAndForget(async()=>function(e,t){M(e).Da.delete(t)}(await kh(e),n))}}(Zh(e=me(e,Yh)),Kh(t)?t:{next:t})}function Xf(e,t){return function(e,t){const n=new B;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=th(e);try{const e=await function(e,t){const n=M(e),r=Se.now(),i=t.reduce((e,t)=>e.add(t.key),Ci());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Si(),l=Ci();return n.Os.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{o=i;const a=[];for(const e of t){const t=ro(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new ao(e.key,t,Sr(t.value.mapValue),Xi.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Ai(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new Sn(J)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await Vu(r,e.changes),await Bc(r.remoteStore)}catch(e){const t=Zc(e,"Failed to persist write");n.reject(t)}}(await Sh(e),t,n)),n.promise}(Zh(e),t)}function Jf(e,t,n){const r=n.docs.get(t._key),i=new Ff(e);return new Nf(e,i,t._key,r,new Pf(n.hasPendingWrites,n.fromCache),t.converter)}function Zf(e){return ep(e,{count:Af()})}function ep(e,t){const n=me(e.firestore,Yh),r=Zh(n),i=wn(t,(e,t)=>new mo(t,e.aggregateType,e._internalFieldPath));return function(e,t,n){const r=new B;return e.asyncQueue.enqueueAndForget(async()=>{try{const i=await _h(e);r.resolve(async function(e,t,n){var r;const i=M(e),{request:o,ft:a,parent:s}=sa(i.serializer,ci(t),n);i.connection.Qo||delete o.parent;const l=(await i.Jo("RunAggregationQuery",i.serializer.databaseId,s,o,1)).filter(e=>!!e.result);D(1===l.length,64727);const c=null===(r=l[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(c).reduce((e,t)=>(e[a[t]]=c[t],e),{})}(i,t,n))}catch(e){r.reject(e)}}),r.promise}(r,e._query,i).then(t=>function(e,t,n){const r=new Ff(e);return new dd(t,r,n)}(n,e,t))}class tp{constructor(e){this.kind="memory",this._onlineComponentProvider=ah.provider,(null==e?void 0:e.garbageCollector)?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider={build:()=>new rh(void 0)}}toJSON(){return{kind:this.kind}}}class np{constructor(e){let t;this.kind="persistent",(null==e?void 0:e.tabManager)?(e.tabManager._initialize(e),t=e.tabManager):(t=hp(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class rp{constructor(){this.kind="memoryEager",this._offlineComponentProvider=nh.provider}toJSON(){return{kind:this.kind}}}class ip{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new rh(e)}}toJSON(){return{kind:this.kind}}}function op(){return new rp}function ap(e){return new ip(null==e?void 0:e.cacheSizeBytes)}function sp(e){return new tp(e)}function lp(e){return new np(e)}class cp{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=ah.provider,this._offlineComponentProvider={build:t=>new ih(t,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class up{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=ah.provider,this._offlineComponentProvider={build:t=>new oh(t,null==e?void 0:e.cacheSizeBytes)}}}function hp(e){return new cp(null==e?void 0:e.forceOwnership)}function dp(){return new up}const fp={maxAttempts:5};class pp{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ad(e)}set(e,t,n){this._verifyNotCommitted();const r=gp(e,this._firestore),i=xf(r.converter,t,n),o=Ed(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Xi.none())),this}update(e,t,n){this._verifyNotCommitted();const r=gp(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=(0,l.Ku)(t))||t instanceof pd?Dd(this._dataReader,"WriteBatch.update",r._key,t,n,a):Ld(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Xi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=gp(e,this._firestore);return this._mutations=this._mutations.concat(new uo(t._key,Xi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new F(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gp(e,t){if((e=(0,l.Ku)(e)).firestore!==t)throw new F(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class mp{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ad(e)}get(e){const t=gp(e,this._firestore),n=new Sf(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return O(24041);const r=e[0];if(r.isFoundDocument())return new Hd(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Hd(this._firestore,n,t._key,null,t.converter);throw O(18433,{doc:r})})}set(e,t,n){const r=gp(e,this._firestore),i=xf(r.converter,t,n),o=Ed(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=gp(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=(0,l.Ku)(t))||t instanceof pd?Dd(this._dataReader,"Transaction.update",r._key,t,n,a):Ld(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=gp(e,this._firestore);return this._transaction.delete(t._key),this}}class yp extends mp{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=gp(e,this._firestore),n=new Ff(this._firestore);return super.get(e).then(e=>new Nf(this._firestore,n,t._key,e._document,new Pf(!1,!1),t.converter))}}function vp(e,t,n){e=me(e,Yh);const r=Object.assign(Object.assign({},fp),n);return function(e){if(e.maxAttempts<1)throw new F(R.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new B;return e.asyncQueue.enqueueAndForget(async()=>{const i=await _h(e);new dh(e.asyncQueue,i,n,t,r).zu()}),r.promise}(Zh(e),n=>t(new yp(e,n)),r)}function bp(){return new Td("deleteField")}function wp(){return new Pd("serverTimestamp")}function xp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Nd("arrayUnion",t)}function Sp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cd("arrayRemove",t)}function _p(e){return new Od("increment",e)}function kp(e){return new vd(e)}function Ap(e){return Zh(e=me(e,Yh)),new pp(e,t=>Xf(e,t))}function Ep(e,t){const n=Zh(e=me(e,Yh));if(!n._uninitializedComponentsProvider||"memory"===n._uninitializedComponentsProvider._offline.kind)return N("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=function(e){const t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new F(R.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==e?void 0:e.message))}}(e):e,n=[];if(Array.isArray(t.indexes))for(const r of t.indexes){const e=Tp(r,"collectionGroup"),t=[];if(Array.isArray(r.fields))for(const n of r.fields){const e=qd("setIndexConfiguration",Tp(n,"fieldPath"));"CONTAINS"===n.arrayConfig?t.push(new Pe(e,2)):"ASCENDING"===n.order?t.push(new Pe(e,0)):"DESCENDING"===n.order&&t.push(new Pe(e,1))}n.push(new Ae(Ae.UNKNOWN_ID,e,t,Ce.empty()))}return n}(t);return function(e,t){return e.asyncQueue.enqueue(async()=>async function(e,t){const n=M(e),r=n.indexManager,i=[];return n.persistence.runTransaction("Configure indexes","readwrite",e=>r.getFieldIndexes(e).next(n=>function(e,t,n,r,i){e=[...e],t=[...t],e.sort(n),t.sort(n);const o=e.length,a=t.length;let s=0,l=0;for(;s<a&&l<o;){const o=n(e[l],t[s]);o<0?i(e[l++]):o>0?r(t[s++]):(s++,l++)}for(;s<a;)r(t[s++]);for(;l<o;)i(e[l++])}(n,t,Ie,t=>{i.push(r.addFieldIndex(e,t))},t=>{i.push(r.deleteFieldIndex(e,t))})).next(()=>Be.waitFor(i)))}(await wh(e),t))}(n,r)}function Tp(e,t){if("string"!=typeof e[t])throw new F(R.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}class Ip{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function Pp(e){var t;e=me(e,Yh);const n=Dp.get(e);if(n)return n;if("persistent"!==(null===(t=Zh(e)._uninitializedComponentsProvider)||void 0===t?void 0:t._offline.kind))return null;const r=new Ip(e);return Dp.set(e,r),r}function Np(e){Lp(e,!0)}function Cp(e){Lp(e,!1)}function Op(e){(function(e){return e.asyncQueue.enqueue(async()=>function(e){const t=M(e),n=t.indexManager;return t.persistence.runTransaction("Delete All Indexes","readwrite",e=>n.deleteAllFieldIndexes(e))}(await wh(e)))})(Zh(e._firestore)).then(e=>I("deleting all persistent cache indexes succeeded")).catch(e=>N("deleting all persistent cache indexes failed",e))}function Lp(e,t){(function(e,t){return e.asyncQueue.enqueue(async()=>function(e,t){M(e).Cs.Rs=t}(await wh(e),t))})(Zh(e._firestore),t).then(e=>I(`setting persistent cache index auto creation isEnabled=${t} succeeded`)).catch(e=>N(`setting persistent cache index auto creation isEnabled=${t} failed`,e))}const Dp=new WeakMap;function jp(e){var t;const n=null===(t=Zh(me(e.firestore,Yh))._onlineComponents)||void 0===t?void 0:t.datastore.serializer;return void 0===n?null:aa(n,li(e._query)).Vt}function Mp(e,t){var n;const r=wn(t,(e,t)=>new mo(t,e.aggregateType,e._internalFieldPath)),i=null===(n=Zh(me(e.firestore,Yh))._onlineComponents)||void 0===n?void 0:n.datastore.serializer;return void 0===i?null:sa(i,ci(e._query),r,!0).request}class Rp{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return Fp.instance.onExistenceFilterMismatch(e)}}class Fp{constructor(){this.Fc=new Map}static get instance(){return Bp||(Bp=new Fp,function(e){if(So)throw new Error("a TestingHooksSpi instance is already set");So=e}(Bp)),Bp}ct(e){this.Fc.forEach(t=>t(e))}onExistenceFilterMismatch(e){const t=Symbol(),n=this.Fc;return n.set(t,e),()=>n.delete(t)}}let Bp=null;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){k=e}(o.MF),(0,o.om)(new a.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new Yh(new V(e.getProvider("auth-internal")),new K(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new F(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hn(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),(0,o.KO)(x,S,e),(0,o.KO)(x,S,"esm2017")}()},5508:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433),i=n(7599);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,o,a,s)=>{const l=t?.(n,o,a,s);if(null!=l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{const t=new e.constructor(e?.valueOf());return r.copyProperties(t,e),t}case i.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(m=!1,x(e),!g)if(null!==r(c))g=!0,k||(k=!0,_());else{var t=r(u);null!==t&&O(S,t.startTime-e)}}var _,k=!1,A=-1,E=5,T=-1;function I(){return!!y||!(t.unstable_now()-T<E)}function P(){if(y=!1,k){var e=t.unstable_now();T=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(A),A=-1),p=!0;var o=f;try{t:{for(x(e),d=r(c);null!==d&&!(d.expirationTime>e&&I());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){d.callback=s,x(e),n=!0;break t}d===r(c)&&i(c),x(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&O(S,l.startTime-e),n=!1}}break e}finally{d=null,f=o,p=!1}n=void 0}}finally{n?_():k=!1}}}if("function"===typeof w)_=function(){w(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,C=N.port2;N.port1.onmessage=P,_=function(){C.postMessage(null)}}else _=function(){v(P,0)};function O(e,n){A=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(b(A),A=-1):m=!0,O(S,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,k||(k=!0,_()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6443),i=n(5990),o=n(7599),a=n(4803),s=n(3757);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const h=u?.(e,t,n,r);if(null!=h)return h;if(a.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[i,o]of e)t.set(i,l(o,i,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const i of e)t.add(l(i,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(i.getTag(e)){case o.argumentsTag:case o.arrayTag:case o.arrayBufferTag:case o.dataViewTag:case o.booleanTag:case o.dateTag:case o.float32ArrayTag:case o.float64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.mapTag:case o.numberTag:case o.objectTag:case o.regexpTag:case o.setTag:case o.stringTag:case o.symbolTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const a=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<a.length;r++){const s=a[r],c=Object.getOwnPropertyDescriptor(e,s);(null==c||c.writable)&&(e[s]=l(t[s],s,n,i,o))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6672:(e,t,n)=>{"use strict";var r=n(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},6770:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},7004:(e,t,n)=>{"use strict";var r=n(8853),i=n(5043),o=n(7950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var C=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===C?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case m:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case _:return"Suspense";case k:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var L=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},R=[],F=-1;function B(e){return{current:e}}function z(e){0>F||(e.current=R[F],R[F]=null,F--)}function U(e,t){F++,R[F]=e.current,e.current=t}var q=B(null),V=B(null),W=B(null),H=B(null);function $(e,t){switch(U(W,t),U(V,e),U(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ih(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=oh(t=ih(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(q),U(q,e)}function K(){z(q),z(V),z(W)}function G(e){null!==e.memoizedState&&U(H,e);var t=q.current,n=oh(t,e.type);t!==n&&(U(V,e),U(q,n))}function Q(e){V.current===e&&(z(q),z(V)),H.current===e&&(z(H),Gh._currentValue=M)}var Y=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,ae=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"===typeof le&&ce(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/ge|0)|0},pe=Math.log,ge=Math.LN2;var me=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?i=ve(r):0!==(a&=s)?i=ve(a):n||0!==(n=s&~e)&&(i=ve(n)):0!==(s=r&~o)?i=ve(s):0!==a?i=ve(a):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=me;return 0===(4194048&(me<<=1))&&(me=256),e}function _e(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ne(){var e=j.p;return 0!==e?e:void 0===(e=window.event)?32:cd(e.type)}var Ce=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Ce,Le="__reactProps$"+Ce,De="__reactContainer$"+Ce,je="__reactEvents$"+Ce,Me="__reactListeners$"+Ce,Re="__reactHandles$"+Ce,Fe="__reactResources$"+Ce,Be="__reactMarker$"+Ce;function ze(e){delete e[Oe],delete e[Le],delete e[je],delete e[Me],delete e[Re]}function Ue(e){var t=e[Oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Oe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bh(e);null!==e;){if(n=e[Oe])return n;e=bh(e)}return t}n=(e=n).parentNode}return null}function qe(e){if(e=e[Oe]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function We(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Be]=!0}var $e=new Set,Ke={};function Ge(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)$e.add(t[e])}var Ye,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Xe}var ot=!1;function at(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function mt(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function yt(e,t,n,r,i,o,a,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(L(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function At(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&kt(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&kt(e,o,t[o])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nt=null;function Ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Lt=null;function Dt(e){var t=qe(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Le]||null;if(!i)throw Error(a(90));mt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var jt=!1;function Mt(e,t,n){if(jt)return e(t,n);jt=!0;try{return e(t)}finally{if(jt=!1,(null!==Ot||null!==Lt)&&(Uc(),Ot&&(t=Ot,e=Lt,Lt=Ot=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Rt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Le]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Ft)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Ld){Bt=!1}var Ut=null,qt=null,Vt=null;function Wt(){if(Vt)return Vt;var e,t,n=qt,r=n.length,i="value"in Ut?Ut.value:Ut.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Vt=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Kt(){return!1}function Gt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?$t:Kt,this.isPropagationStopped=Kt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Qt,Yt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),en=d({},Jt,{view:0,detail:0}),tn=Gt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Gt(nn),on=Gt(d({},nn,{dataTransfer:0})),an=Gt(d({},en,{relatedTarget:0})),sn=Gt(d({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(d({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(d({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return fn}var gn=Gt(d({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Gt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Gt(d({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Gt(d({},Jt,{newState:0,oldState:0})),xn=[9,13,27,32],Sn=Ft&&"CompositionEvent"in window,_n=null;Ft&&"documentMode"in document&&(_n=document.documentMode);var kn=Ft&&"TextEvent"in window&&!_n,An=Ft&&(!Sn||_n&&8<_n&&11>=_n),En=String.fromCharCode(32),Tn=!1;function In(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Nn=!1;var Cn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Cn[e.type]:"textarea"===t}function Ln(e,t,n,r){Ot?Lt?Lt.push(r):Lt=[r]:Ot=r,0<(t=Wu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,jn=null;function Mn(e){Mu(e,0)}function Rn(e){if(dt(Ve(e)))return e}function Fn(e,t){if("change"===e)return t}var Bn=!1;if(Ft){var zn;if(Ft){var Un="oninput"in document;if(!Un){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Un="function"===typeof qn.oninput}zn=Un}else zn=!1;Bn=zn&&(!document.documentMode||9<document.documentMode)}function Vn(){Dn&&(Dn.detachEvent("onpropertychange",Wn),jn=Dn=null)}function Wn(e){if("value"===e.propertyName&&Rn(jn)){var t=[];Ln(t,jn,e,Ct(e)),Mt(Mn,t)}}function Hn(e,t,n){"focusin"===e?(Vn(),jn=n,(Dn=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&Vn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rn(jn)}function Kn(e,t){if("click"===e)return Rn(t)}function Gn(e,t){if("input"===e||"change"===e)return Rn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Yn(or,r)||(or=r,0<(r=Wu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}Ft&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),gr=dr("animationstart"),mr=dr("transitionrun"),yr=dr("transitionstart"),vr=dr("transitioncancel"),br=dr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),Ge(t,[e])}xr.push("scrollEnd");var _r=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=_r.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},_r.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Ar=[],Er=0,Tr=0;function Ir(){for(var e=Er,t=Tr=Er=0;t<e;){var n=Ar[t];Ar[t++]=null;var r=Ar[t];Ar[t++]=null;var i=Ar[t];Ar[t++]=null;var o=Ar[t];if(Ar[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&Or(n,i,o)}}function Pr(e,t,n,r){Ar[Er++]=e,Ar[Er++]=t,Ar[Er++]=n,Ar[Er++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Nr(e,t,n,r){return Pr(e,t,n,r),Lr(e)}function Cr(e,t){return Pr(e,null,null,t),Lr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Lr(e){if(50<Oc)throw Oc=0,Lc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function jr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new jr(e,t,n,r)}function Rr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,r,i,o){var s=0;if(r=e,"function"===typeof e)Rr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Mr(31,n,t,i)).elementType=T,e.lanes=o,e;case m:return Ur(n.children,i,o,t);case y:s=8,i|=24;break;case v:return(e=Mr(12,n,t,2|i)).elementType=v,e.lanes=o,e;case _:return(e=Mr(13,n,t,i)).elementType=_,e.lanes=o,e;case k:return(e=Mr(19,n,t,i)).elementType=k,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case x:s=10;break e;case w:s=9;break e;case S:s=11;break e;case A:s=14;break e;case E:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ur(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function Vr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],Hr=0,$r=null,Kr=0,Gr=[],Qr=0,Yr=null,Xr=1,Jr="";function Zr(e,t){Wr[Hr++]=Kr,Wr[Hr++]=$r,$r=e,Kr=t}function ei(e,t,n){Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Yr=e;var r=Xr;e=Jr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var o=32-fe(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xr=1<<32-fe(t)+i|n<<i|r,Jr=o+e}else Xr=1<<o|n<<i|r,Jr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===$r;)$r=Wr[--Hr],Wr[Hr]=null,Kr=Wr[--Hr],Wr[Hr]=null;for(;e===Yr;)Yr=Gr[--Qr],Gr[Qr]=null,Jr=Gr[--Qr],Gr[Qr]=null,Xr=Gr[--Qr],Gr[Qr]=null}var ri=null,ii=null,oi=!1,ai=null,si=!1,li=Error(a(519));function ci(e){throw gi(kr(Error(a(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Oe]=e,t[Le]=r,n){case"dialog":Ru("cancel",t),Ru("close",t);break;case"iframe":case"object":case"embed":Ru("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Ru(Du[n],t);break;case"source":Ru("error",t);break;case"img":case"image":case"link":Ru("error",t),Ru("load",t);break;case"details":Ru("toggle",t);break;case"input":Ru("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":Ru("invalid",t);break;case"textarea":Ru("invalid",t),xt(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(Ru("beforetoggle",t),Ru("toggle",t)),null!=r.onScroll&&Ru("scroll",t),null!=r.onScrollEnd&&Ru("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||ci(e)}function hi(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(si=!1);case 27:case 3:return void(si=!0);default:ri=ri.return}}function di(e){if(e!==ri)return!1;if(!oi)return hi(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ah(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),hi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fh(e.type)?(e=vh,vh=null,ii=e):ii=n):ii=ri?yh(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,oi=!1}function pi(){var e=ai;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),ai=null),e}function gi(e){null===ai?ai=[e]:ai.push(e)}var mi=B(null),yi=null,vi=null;function bi(e,t,n){U(mi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=mi.current,z(mi)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var s=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xi(o.return,n,e),r||(s=null);break e}o=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),xi(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function _i(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===H.current){if(null===(s=i.alternate))throw Error(a(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Gh):e=[Gh])}i=i.return}null!==e&&Si(t,e,n,r),t.flags|=262144}function ki(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ei(e){return Ii(yi,e)}function Ti(e,t){return null===yi&&Ai(e),Ii(e,t)}function Ii(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(a(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Pi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ni=r.unstable_scheduleCallback,Ci=r.unstable_NormalPriority,Oi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Li(){return{controller:new Pi,data:new Map,refCount:0}}function Di(e){e.refCount--,0===e.refCount&&Ni(Ci,function(){e.controller.abort()})}var ji=null,Mi=0,Ri=0,Fi=null;function Bi(){if(0===--Mi&&null!==ji){null!==Fi&&(Fi.status="fulfilled");var e=ji;ji=null,Ri=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zi=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===ji){var n=ji=[];Mi=0,Ri=Pu(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mi++,t.then(Bi,Bi)}(0,t),null!==zi&&zi(e,t)};var Ui=B(null);function qi(){var e=Ui.current;return null!==e?e:rc.pooledCache}function Vi(e,t){U(Ui,null===t?Ui.current:t.pool)}function Wi(){var e=qi();return null===e?null:{parent:Oi._currentValue,pool:e}}var Hi=Error(a(460)),$i=Error(a(474)),Ki=Error(a(542)),Gi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Xi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Ji=t,Hi}}var Ji=null;function Zi(){if(null===Ji)throw Error(a(459));var e=Ji;return Ji=null,e}function eo(e){if(e===Hi||e===Ki)throw Error(a(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),Or(e,null,n),t}return Pr(e,r,t,n),Lr(e)}function ao(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function so(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==Fi)throw Fi}}function uo(e,t,n,r){lo=!1;var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(a=0,u=c=l=null,s=o;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(oc&f)===f:(r&f)===f){0!==f&&f===Ri&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,m=s;f=t;var y=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){h=g.call(y,h,f);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(f="function"===typeof(g=m.payload)?g.call(y,h,f):g)||void 0===f)break e;h=d({},h,f);break e;case 2:to=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),fc|=a,e.lanes=a,e.memoizedState=h}}function ho(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function fo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var po=B(null),go=B(0);function mo(e,t){U(go,e=hc),U(po,t),hc=e|t.baseLanes}function yo(){U(go,hc),U(po,po.current)}function vo(){hc=go.current,z(po),z(go)}var bo=0,wo=null,xo=null,So=null,_o=!1,ko=!1,Ao=!1,Eo=0,To=0,Io=null,Po=0;function No(){throw Error(a(321))}function Co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Oo(e,t,n,r,i,o){return bo=o,wo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?$a:Ka,Ao=!1,o=n(r,i),Ao=!1,ko&&(o=Do(t,n,r,i)),Lo(e),o}function Lo(e){D.H=Ha;var t=null!==xo&&null!==xo.next;if(bo=0,So=xo=wo=null,_o=!1,To=0,Io=null,t)throw Error(a(300));null===e||Ts||null!==(e=e.dependencies)&&ki(e)&&(Ts=!0)}function Do(e,t,n,r){wo=e;var i=0;do{if(ko&&(Io=null),To=0,ko=!1,25<=i)throw Error(a(301));if(i+=1,So=xo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}D.H=Ga,o=t(n,r)}while(ko);return o}function jo(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Uo(t):t,e=e.useState()[0],(null!==xo?xo.memoizedState:null)!==e&&(wo.flags|=1024),t}function Mo(){var e=0!==Eo;return Eo=0,e}function Ro(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fo(e){if(_o){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}_o=!1}bo=0,So=xo=wo=null,ko=!1,To=Eo=0,Io=null}function Bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===So?wo.memoizedState=So=e:So=So.next=e,So}function zo(){if(null===xo){var e=wo.alternate;e=null!==e?e.memoizedState:null}else e=xo.next;var t=null===So?wo.memoizedState:So.next;if(null!==t)So=t,xo=e;else{if(null===e){if(null===wo.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(xo=e).memoizedState,baseState:xo.baseState,baseQueue:xo.baseQueue,queue:xo.queue,next:null},null===So?wo.memoizedState=So=e:So=So.next=e}return So}function Uo(e){var t=To;return To+=1,null===Io&&(Io=[]),e=Xi(Io,e,t),t=wo,null===(null===So?t.memoizedState:So.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?$a:Ka),e}function qo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Uo(e);if(e.$$typeof===x)return Ei(e)}throw Error(a(438,String(e)))}function Vo(e){var t=null,n=wo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function Wo(e,t){return"function"===typeof t?t(e):t}function Ho(e){return $o(zo(),xo,e)}function $o(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=s=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(oc&d)===d:(bo&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Ri&&(h=!0);else{if((bo&f)===f){u=u.next,f===Ri&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,s=o):c=c.next=d,wo.lanes|=f,fc|=f}d=u.action,Ao&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=o):c=c.next=f,wo.lanes|=d,fc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!Qn(o,e.memoizedState)&&(Ts=!0,h&&null!==(n=Fi)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ko(e){var t=zo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Qn(o,t.memoizedState)||(Ts=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Go(e,t,n){var r=wo,i=zo(),o=oi;if(o){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Qn((xo||i).memoizedState,n);if(s&&(i.memoizedState=n,Ts=!0),i=i.queue,ya(2048,8,Xo.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==So&&1&So.memoizedState.tag){if(r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Yo.bind(null,r,i,n,t),null),null===rc)throw Error(a(349));o||0!==(124&bo)||Qo(r,t,n)}return n}function Qo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yo(e,t,n,r){t.value=n,t.getSnapshot=r,Jo(t)&&Zo(e)}function Xo(e,t,n){return n(function(){Jo(t)&&Zo(e)})}function Jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Zo(e){var t=Cr(e,2);null!==t&&Mc(t,e,2)}function ea(e){var t=Bo();if("function"===typeof e){var n=e;if(e=n(),Ao){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t}function ta(e,t,n,r){return e.baseState=n,$o(e,xo,"function"===typeof r?r:Wo)}function na(e,t,n,r,i){if(qa(e))throw Error(a(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==D.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,ra(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ra(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=D.T,a={};D.T=a;try{var s=n(i,r),l=D.S;null!==l&&l(a,s),ia(e,t,s)}catch(c){aa(e,t,c)}finally{D.T=o}}else try{ia(e,t,o=n(i,r))}catch(u){aa(e,t,u)}}function ia(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){oa(e,t,n)},function(n){return aa(e,t,n)}):oa(e,t,n)}function oa(e,t,n){t.status="fulfilled",t.value=n,sa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ra(e,n)))}function aa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,sa(t),t=t.next}while(t!==r)}e.action=null}function sa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function la(e,t){return t}function ca(e,t){if(oi){var n=rc.formState;if(null!==n){e:{var r=wo;if(oi){if(ii){t:{for(var i=ii,o=si;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=yh(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ii=yh(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Bo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},n.queue=r,n=Ba.bind(null,wo,r),r.dispatch=n,r=ea(!1),o=Ua.bind(null,wo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Bo()).queue=i,n=na.bind(null,wo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ua(e){return ha(zo(),xo,e)}function ha(e,t,n){if(t=$o(e,t,la)[0],e=Ho(Wo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Uo(t)}catch(a){if(a===Hi)throw Ki;throw a}else r=t;var i=(t=zo()).queue,o=i.dispatch;return n!==t.memoizedState&&(wo.flags|=2048,pa(9,{destroy:void 0,resource:void 0},da.bind(null,i,n),null)),[r,o,e]}function da(e,t){e.action=t}function fa(e){var t=zo(),n=xo;if(null!==n)return ha(t,n,e);zo(),t=t.memoizedState;var r=(n=zo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function pa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(){return zo().memoizedState}function ma(e,t,n,r){var i=Bo();r=void 0===r?null:r,wo.flags|=e,i.memoizedState=pa(1|t,{destroy:void 0,resource:void 0},n,r)}function ya(e,t,n,r){var i=zo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==xo&&null!==r&&Co(r,xo.memoizedState.deps)?i.memoizedState=pa(t,o,n,r):(wo.flags|=e,i.memoizedState=pa(1|t,o,n,r))}function va(e,t){ma(8390656,8,e,t)}function ba(e,t){ya(2048,8,e,t)}function wa(e,t){return ya(4,2,e,t)}function xa(e,t){return ya(4,4,e,t)}function Sa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function _a(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ya(4,4,Sa.bind(null,t,e),n)}function ka(){}function Aa(e,t){var n=zo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ea(e,t){var n=zo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Co(t,r[1]))return r[0];if(r=e(),Ao){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r}function Ta(e,t,n){return void 0===n||0!==(1073741824&bo)?e.memoizedState=t:(e.memoizedState=n,e=jc(),wo.lanes|=e,fc|=e,n)}function Ia(e,t,n,r){return Qn(n,t)?n:null!==po.current?(e=Ta(e,n,r),Qn(e,t)||(Ts=!0),e):0===(42&bo)?(Ts=!0,e.memoizedState=n):(e=jc(),wo.lanes|=e,fc|=e,t)}function Pa(e,t,n,r,i){var o=j.p;j.p=0!==o&&8>o?o:8;var a=D.T,s={};D.T=s,Ua(e,!1,t,n);try{var l=i(),c=D.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)za(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Dc());else za(e,t,r,Dc())}catch(u){za(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{j.p=o,D.T=a}}function Na(){}function Ca(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=Oa(e).queue;Pa(e,i,t,M,null===n?Na:function(){return La(e),n(r)})}function Oa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function La(e){za(e,Oa(e).next.queue,{},Dc())}function Da(){return Ei(Gh)}function ja(){return zo().memoizedState}function Ma(){return zo().memoizedState}function Ra(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=oo(t,e=io(n),n);return null!==r&&(Mc(r,t,n),ao(r,t,n)),t={cache:Li()},void(e.payload=t)}t=t.return}}function Fa(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},qa(e)?Va(t,n):null!==(n=Nr(e,t,n,r))&&(Mc(n,e,r),Wa(n,t,r))}function Ba(e,t,n){za(e,t,n,Dc())}function za(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(qa(e))Va(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Qn(s,a))return Pr(e,t,i,0),null===rc&&Ir(),!1}catch(l){}if(null!==(n=Nr(e,t,i,r)))return Mc(n,e,r),Wa(n,t,r),!0}return!1}function Ua(e,t,n,r){if(r={lane:2,revertLane:Pu(),action:r,hasEagerState:!1,eagerState:null,next:null},qa(e)){if(t)throw Error(a(479))}else null!==(t=Nr(e,n,r,2))&&Mc(t,e,2)}function qa(e){var t=e.alternate;return e===wo||null!==t&&t===wo}function Va(e,t){ko=_o=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Ha={readContext:Ei,use:qo,useCallback:No,useContext:No,useEffect:No,useImperativeHandle:No,useLayoutEffect:No,useInsertionEffect:No,useMemo:No,useReducer:No,useRef:No,useState:No,useDebugValue:No,useDeferredValue:No,useTransition:No,useSyncExternalStore:No,useId:No,useHostTransitionStatus:No,useFormState:No,useActionState:No,useOptimistic:No,useMemoCache:No,useCacheRefresh:No},$a={readContext:Ei,use:qo,useCallback:function(e,t){return Bo().memoizedState=[e,void 0===t?null:t],e},useContext:Ei,useEffect:va,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ma(4194308,4,Sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){ma(4,2,e,t)},useMemo:function(e,t){var n=Bo();t=void 0===t?null:t;var r=e();if(Ao){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Bo();if(void 0!==n){var i=n(t);if(Ao){de(!0);try{n(t)}finally{de(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Fa.bind(null,wo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Bo().memoizedState=e},useState:function(e){var t=(e=ea(e)).queue,n=Ba.bind(null,wo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ka,useDeferredValue:function(e,t){return Ta(Bo(),e,t)},useTransition:function(){var e=ea(!1);return e=Pa.bind(null,wo,e.queue,!0,!1),Bo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wo,i=Bo();if(oi){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));0!==(124&oc)||Qo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,va(Xo.bind(null,r,o,e),[e]),r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Yo.bind(null,r,o,n,t),null),n},useId:function(){var e=Bo(),t=rc.identifierPrefix;if(oi){var n=Jr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-fe(Xr)-1)).toString(32)+n),0<(n=Eo++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Po++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Da,useFormState:ca,useActionState:ca,useOptimistic:function(e){var t=Bo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ua.bind(null,wo,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vo,useCacheRefresh:function(){return Bo().memoizedState=Ra.bind(null,wo)}},Ka={readContext:Ei,use:qo,useCallback:Aa,useContext:Ei,useEffect:ba,useImperativeHandle:_a,useInsertionEffect:wa,useLayoutEffect:xa,useMemo:Ea,useReducer:Ho,useRef:ga,useState:function(){return Ho(Wo)},useDebugValue:ka,useDeferredValue:function(e,t){return Ia(zo(),xo.memoizedState,e,t)},useTransition:function(){var e=Ho(Wo)[0],t=zo().memoizedState;return["boolean"===typeof e?e:Uo(e),t]},useSyncExternalStore:Go,useId:ja,useHostTransitionStatus:Da,useFormState:ua,useActionState:ua,useOptimistic:function(e,t){return ta(zo(),0,e,t)},useMemoCache:Vo,useCacheRefresh:Ma},Ga={readContext:Ei,use:qo,useCallback:Aa,useContext:Ei,useEffect:ba,useImperativeHandle:_a,useInsertionEffect:wa,useLayoutEffect:xa,useMemo:Ea,useReducer:Ko,useRef:ga,useState:function(){return Ko(Wo)},useDebugValue:ka,useDeferredValue:function(e,t){var n=zo();return null===xo?Ta(n,e,t):Ia(n,xo.memoizedState,e,t)},useTransition:function(){var e=Ko(Wo)[0],t=zo().memoizedState;return["boolean"===typeof e?e:Uo(e),t]},useSyncExternalStore:Go,useId:ja,useHostTransitionStatus:Da,useFormState:fa,useActionState:fa,useOptimistic:function(e,t){var n=zo();return null!==xo?ta(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vo,useCacheRefresh:Ma},Qa=null,Ya=0;function Xa(e){var t=Ya;return Ya+=1,null===Qa&&(Qa=[]),Xi(Qa,e,t)}function Ja(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Za(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===m?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===E&&es(o)===t.type)?(Ja(t=i(t,n.props),n),t.return=e,t):(Ja(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Ja(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Vr(t,e.mode,n)).return=e,t;case E:return d(e,t=(0,t._init)(t._payload),n)}if(L(t)||N(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,Xa(t),n);if(t.$$typeof===x)return d(e,Ti(e,t),n);Za(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case E:return f(e,t,n=(i=n._init)(n._payload),r)}if(L(n)||N(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Xa(n),r);if(n.$$typeof===x)return f(e,t,Ti(e,n),r);Za(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(L(r)||N(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Xa(r),i);if(r.$$typeof===x)return y(e,t,n,Ti(t,r),i);Za(t,r)}return null}function v(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===m){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&es(b)===c.type){n(l,c.sibling),Ja(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===m?((h=Ur(u.props.children,l.mode,h,u.key)).return=l,l=h):(Ja(h=zr(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return s(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Vr(u,l.mode,h)).return=l,l=h}return s(l);case E:return v(l,c,u=(b=u._init)(u._payload),h)}if(L(u))return function(i,a,s,l){for(var c=null,u=null,h=a,p=a=0,g=null;null!==h&&p<s.length;p++){h.index>p?(g=h,h=null):g=h.sibling;var m=f(i,h,s[p],l);if(null===m){null===h&&(h=g);break}e&&h&&null===m.alternate&&t(i,h),a=o(m,a,p),null===u?c=m:u.sibling=m,u=m,h=g}if(p===s.length)return n(i,h),oi&&Zr(i,p),c;if(null===h){for(;p<s.length;p++)null!==(h=d(i,s[p],l))&&(a=o(h,a,p),null===u?c=h:u.sibling=h,u=h);return oi&&Zr(i,p),c}for(h=r(h);p<s.length;p++)null!==(g=y(h,i,p,s[p],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?p:g.key),a=o(g,a,p),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),oi&&Zr(i,p),c}(l,c,u,h);if(N(u)){if("function"!==typeof(b=N(u)))throw Error(a(150));return function(i,s,l,c){if(null==l)throw Error(a(151));for(var u=null,h=null,p=s,g=s=0,m=null,v=l.next();null!==p&&!v.done;g++,v=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=m);break}e&&p&&null===b.alternate&&t(i,p),s=o(b,s,g),null===h?u=b:h.sibling=b,h=b,p=m}if(v.done)return n(i,p),oi&&Zr(i,g),u;if(null===p){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(s=o(v,s,g),null===h?u=v:h.sibling=v,h=v);return oi&&Zr(i,g),u}for(p=r(p);!v.done;g++,v=l.next())null!==(v=y(p,i,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),s=o(v,s,g),null===h?u=v:h.sibling=v,h=v);return e&&p.forEach(function(e){return t(i,e)}),oi&&Zr(i,g),u}(l,c,u=b.call(u),h)}if("function"===typeof u.then)return v(l,c,Xa(u),h);if(u.$$typeof===x)return v(l,c,Ti(l,u),h);Za(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=qr(u,l.mode,h)).return=l,l=h),s(l)):n(l,c)}return function(e,t,n,r){try{Ya=0;var i=v(e,t,n,r);return Qa=null,i}catch(a){if(a===Hi||a===Ki)throw a;var o=Mr(29,a,null,e.mode);return o.lanes=r,o.return=e,o}}}var ns=ts(!0),rs=ts(!1),is=B(null),os=null;function as(e){var t=e.alternate;U(us,1&us.current),U(is,e),null===os&&(null===t||null!==po.current||null!==t.memoizedState)&&(os=e)}function ss(e){if(22===e.tag){if(U(us,us.current),U(is,e),null===os){var t=e.alternate;null!==t&&null!==t.memoizedState&&(os=e)}}else ls()}function ls(){U(us,us.current),U(is,is.current)}function cs(e){z(is),os===e&&(os=null),z(us)}var us=B(0);function hs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||mh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ds(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=io(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Mc(t,e,r),ao(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=io(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Mc(t,e,r),ao(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=io(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Mc(t,e,n),ao(t,e,n))}};function ps(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,o))}function gs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function ms(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ys="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vs(e){ys(e)}function bs(e){console.error(e)}function ws(e){ys(e)}function xs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ss(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function _s(e,t,n){return(n=io(n)).tag=3,n.payload={element:null},n.callback=function(){xs(e,t)},n}function ks(e){return(e=io(e)).tag=3,e}function As(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Ss(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Ss(t,n,r),"function"!==typeof i&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Es=Error(a(461)),Ts=!1;function Is(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Ps(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Ai(t),r=Oo(e,t,n,a,o,i),s=Mo(),null===e||Ts?(oi&&s&&ti(t),t.flags|=1,Is(e,t,r,i),t.child):(Ro(e,t,i),Qs(e,t,i))}function Ns(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rr(o)||void 0!==o.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Cs(e,t,o,r,i))}if(o=e.child,!Ys(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(a,r)&&e.ref===t.ref)return Qs(e,t,i)}return t.flags|=1,(e=Fr(o,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Yn(o,r)&&e.ref===t.ref){if(Ts=!1,t.pendingProps=r=o,!Ys(e,i))return t.lanes=e.lanes,Qs(e,t,i);0!==(131072&e.flags)&&(Ts=!0)}}return js(e,t,n,r,i)}function Os(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Ls(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ls(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Vi(0,null!==o?o.cachePool:null),null!==o?mo(t,o):yo(),ss(t)}else null!==o?(Vi(0,o.cachePool),mo(t,o),ls(),t.memoizedState=null):(null!==e&&Vi(0,null),yo(),ls());return Is(e,t,i,n),t.child}function Ls(e,t,n,r){var i=qi();return i=null===i?null:{parent:Oi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Vi(0,null),yo(),ss(t),null!==e&&_i(e,t,r,!0),null}function Ds(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function js(e,t,n,r,i){return Ai(t),n=Oo(e,t,n,r,void 0,i),r=Mo(),null===e||Ts?(oi&&r&&ti(t),t.flags|=1,Is(e,t,n,i),t.child):(Ro(e,t,i),Qs(e,t,i))}function Ms(e,t,n,r,i,o){return Ai(t),t.updateQueue=null,n=Do(t,r,n,i),Lo(e),r=Mo(),null===e||Ts?(oi&&r&&ti(t),t.flags|=1,Is(e,t,n,o),t.child):(Ro(e,t,o),Qs(e,t,o))}function Rs(e,t,n,r,i){if(Ai(t),null===t.stateNode){var o=Dr,a=n.contextType;"object"===typeof a&&null!==a&&(o=Ei(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=fs,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),a=n.contextType,o.context="object"===typeof a&&null!==a?Ei(a):Dr,o.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ds(t,n,a,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(a=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&fs.enqueueReplaceState(o,o.state,null),uo(t,r,o,i),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=ms(n,s);o.props=l;var c=o.context,u=n.contextType;a=Dr,"object"===typeof u&&null!==u&&(a=Ei(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||c!==a)&&gs(t,o,r,a),to=!1;var d=t.memoizedState;o.state=d,uo(t,r,o,i),co(),c=t.memoizedState,s||d!==c||to?("function"===typeof h&&(ds(t,n,h,r),c=t.memoizedState),(l=to||ps(t,n,l,r,d,c,a))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=a,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=ms(n,a=t.memoizedProps),o.props=u,h=t.pendingProps,d=o.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=Ei(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&gs(t,o,r,l),to=!1,d=t.memoizedState,o.state=d,uo(t,r,o,i),co();var f=t.memoizedState;a!==h||d!==f||to||null!==e&&null!==e.dependencies&&ki(e.dependencies)?("function"===typeof s&&(ds(t,n,s,r),f=t.memoizedState),(u=to||ps(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&ki(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Ds(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,i),t.child=ns(t,null,n,i)):Is(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Qs(e,t,i),e}function Fs(e,t,n,r){return fi(),t.flags|=256,Is(e,t,n,r),t.child}var Bs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zs(e){return{baseLanes:e,cachePool:Wi()}}function Us(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mc),e}function qs(e,t,n){var r,i=t.pendingProps,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oi){if(o?as(t):ls(),oi){var l,c=ii;if(l=c){e:{for(l=c,c=si;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Mr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return mh(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=i.children,i=i.fallback,o?(ls(),c=Ws({mode:"hidden",children:c},o=t.mode),i=Ur(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=zs(n),o.childLanes=Us(e,r,n),t.memoizedState=Bs,i):(as(t),Vs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(as(t),t.flags&=-257,t=Hs(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),o=i.fallback,c=t.mode,i=Ws({mode:"visible",children:i.children},c),(o=Ur(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,ns(t,e.child,null,n),(i=t.child).memoizedState=zs(n),i.childLanes=Us(e,r,n),t.memoizedState=Bs,t=o);else if(as(t),mh(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,gi({value:i,source:null,stack:null}),t=Hs(e,t,n)}else if(Ts||_i(e,t,n,!1),r=0!==(n&e.childLanes),Ts||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ie(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Cr(e,i),Mc(r,e,i),Es;"$?"===c.data||Kc(),t=Hs(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=yh(c.nextSibling),ri=t,oi=!0,ai=null,si=!1,null!==e&&(Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Xr=e.id,Jr=e.overflow,Yr=t),(t=Vs(t,i.children)).flags|=4096);return t}return o?(ls(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=Fr(u,o):(o=Ur(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=zs(n):(null!==(l=c.cachePool)?(u=Oi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Wi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Us(e,r,n),t.memoizedState=Bs,i):(as(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Vs(e,t){return(t=Ws({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ws(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hs(e,t,n){return ns(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $s(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function Ks(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Gs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Is(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$s(e,n,t);else if(19===e.tag)$s(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(us,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===hs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ks(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===hs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ks(t,!0,n,null,o);break;case"together":Ks(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(_i(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ki(e))}function Xs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ts=!0;else{if(!Ys(e,n)&&0===(128&t.flags))return Ts=!1,function(e,t,n){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),bi(0,Oi,e.memoizedState.cache),fi();break;case 27:case 5:G(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(as(t),t.flags|=128,null):0!==(n&t.child.childLanes)?qs(e,t,n):(as(t),null!==(e=Qs(e,t,n))?e.sibling:null);as(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(_i(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Os(e,t,n);case 24:bi(0,Oi,e.memoizedState.cache)}return Qs(e,t,n)}(e,t,n);Ts=0!==(131072&e.flags)}else Ts=!1,oi&&0!==(1048576&t.flags)&&ei(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===S){t.tag=11,t=Ps(null,t,r,e,n);break e}if(i===A){t.tag=14,t=Ns(null,t,r,e,n);break e}}throw t=O(r)||r,Error(a(306,t,""))}Rr(r)?(e=ms(r,e),t.tag=1,t=Rs(null,t,r,e,n)):(t.tag=0,t=js(null,t,r,e,n))}return t;case 0:return js(e,t,t.type,t.pendingProps,n);case 1:return Rs(e,t,r=t.type,i=ms(r,t.pendingProps),n);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,ro(e,t),uo(t,r,null,n);var s=t.memoizedState;if(r=s.cache,bi(0,Oi,r),r!==o.cache&&Si(t,[Oi],n,!0),co(),r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fs(e,t,r,n);break e}if(r!==i){gi(i=kr(Error(a(424)),t)),t=Fs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yh(e.firstChild),ri=t,oi=!0,ai=null,si=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Qs(e,t,n);break e}Is(e,t,r,n)}t=t.child}return t;case 26:return Ds(e,t),null===e?(n=Ih(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=rh(W.current).createElement(n))[Oe]=t,r[Le]=e,eh(r,n,e),He(r),t.stateNode=r):t.memoizedState=Ih(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&oi&&(r=t.stateNode=wh(t.type,t.pendingProps,W.current),ri=t,si=!0,i=ii,fh(t.type)?(vh=i,ii=yh(r.firstChild)):ii=i),Is(e,t,t.pendingProps.children,n),Ds(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=yh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,si))?(t.stateNode=r,ri=t,ii=yh(r.firstChild),si=!1,i=!0):i=!1),i||ci(t)),G(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,r=o.children,ah(i,o)?r=null:null!==s&&ah(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=Oo(e,t,jo,null,null,n),Gh._currentValue=i),Ds(e,t),Is(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yh(e.nextSibling)))return null}return e}(n,t.pendingProps,si))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return qs(e,t,n);case 4:return $(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):Is(e,t,r,n),t.child;case 11:return Ps(e,t,t.type,t.pendingProps,n);case 7:return Is(e,t,t.pendingProps,n),t.child;case 8:case 12:return Is(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Is(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ai(t),r=r(i=Ei(i)),t.flags|=1,Is(e,t,r,n),t.child;case 14:return Ns(e,t,t.type,t.pendingProps,n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 19:return Gs(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ws(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Os(e,t,n);case 24:return Ai(t),r=Ei(Oi),null===e?(null===(i=qi())&&(i=rc,o=Li(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},no(t),bi(0,Oi,i)):(0!==(e.lanes&n)&&(ro(e,t),uo(t,null,null,n),co()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Oi,r)):(r=o.cache,bi(0,Oi,r),r!==i.cache&&Si(t,[Oi],n,!0))),Is(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Js(e){e.flags|=4}function Zs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Uh(t)){if(null!==(t=is.current)&&((4194048&oc)===oc?null!==os:(62914560&oc)!==oc&&0===(536870912&oc)||t!==os))throw Ji=Gi,$i;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Oi),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?Js(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Js(t),null!==n?(nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Js(t),nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Js(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=W.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=q.current,di(t)?ui(t):(e=wh(i,r,n),t.stateNode=e,Js(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=q.current,di(t))ui(t);else{switch(i=rh(W.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Oe]=t,e[Le]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(eh(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Js(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=W.current,di(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||ci(t)}else(e=rh(e).createTextNode(r))[Oe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Oe]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&zu(t.stateNode.containerInfo),nl(t),null;case 10:return wi(t.type),nl(t),null;case 19:if(z(us),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)tl(i,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=hs(e))){for(t.flags|=128,tl(i,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return U(us,1&us.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Sc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=hs(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!oi)return nl(t),null}else 2*te()-i.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=us.current,U(us,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),vo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Ui),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Oi),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Oi),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(us),null;case 4:return K(),null;case 10:return wi(t.type),null;case 22:case 23:return cs(t),vo(),null!==e&&z(Ui),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Oi),null;default:return null}}function ol(e,t){switch(ni(t),t.tag){case 3:wi(Oi),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 13:cs(t);break;case 19:z(us);break;case 10:wi(t.type);break;case 22:case 23:cs(t),vo(),null!==e&&z(Ui);break;case 24:wi(Oi)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){uu(t,t.return,s)}}function sl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fo(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=ms(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){uu(e,t,o)}else n.current=null}function dl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||Ju(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==d&&Ju(e,t,f,p,r,d)}}return void mt(e,s,l,c,u,h,o,i);case"select":for(o in p=s=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||Ju(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==c&&Ju(e,t,i,o,r,c)}return t=l,n=s,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,i)}for(s in r)if(i=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=i||null!=o))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==o&&Ju(e,t,s,i,r,o)}return void wt(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Ju(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&Ju(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Ju(e,t,u,f,r,p)}return;default:if(Et(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||Zu(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Ju(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||Ju(e,t,d,f,r,p)}(r,e.type,n,t),r[Le]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fh(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);eh(t,r,n),t[Oe]=e,t[Le]=n}catch(o){uu(e,e.return,o)}}var bl=!1,wl=!1,xl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,_l=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Rl(e,n),4&r&&al(5,n);break;case 1:if(Rl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){uu(n,n.return,a)}else{var i=ms(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(n,n.return,s)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Rl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fo(e,t)}catch(a){uu(n,n.return,a)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Rl(e,n),null===t&&4&r&&dl(n),512&r&&ul(n,n.return);break;case 12:Rl(e,n);break;case 13:Rl(e,n),4&r&&Nl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,i=bl;var o=wl;bl=r,(wl=t)&&!o?Bl(e,n,0!==(8772&n.subtreeFlags)):Rl(e,n),bl=i,wl=o}break;case 30:break;default:Rl(e,n)}}function Al(e){var t=e.alternate;null!==t&&(e.alternate=null,Al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,Tl=!1;function Il(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:wl||hl(n,t),Il(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||hl(n,t);var r=El,i=Tl;fh(n.type)&&(El=n.stateNode,Tl=!1),Il(e,t,n),xh(n.stateNode),El=r,Tl=i;break;case 5:wl||hl(n,t);case 6:if(r=El,i=Tl,El=null,Il(e,t,n),Tl=i,null!==(El=r))if(Tl)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(a){uu(n,t,a)}else try{El.removeChild(n.stateNode)}catch(a){uu(n,t,a)}break;case 18:null!==El&&(Tl?(ph(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Td(e)):ph(El,n.stateNode));break;case 4:r=El,i=Tl,El=n.stateNode.containerInfo,Tl=!0,Il(e,t,n),El=r,Tl=i;break;case 0:case 11:case 14:case 15:wl||sl(2,n,t),wl||sl(4,n,t),Il(e,t,n);break;case 1:wl||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Il(e,t,n);break;case 21:Il(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Il(e,t,n),wl=r;break;default:Il(e,t,n)}}function Nl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Td(e)}catch(n){uu(t,t.return,n)}}function Cl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Ol(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(fh(l.type)){El=l.stateNode,Tl=!1;break e}break;case 5:El=l.stateNode,Tl=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,Tl=!0;break e}l=l.return}if(null===El)throw Error(a(160));Pl(o,s,i),El=null,Tl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Ll=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ol(t,e),jl(e),4&r&&(sl(3,e,e.return),al(3,e),sl(5,e,e.return));break;case 1:Ol(t,e),jl(e),512&r&&(wl||null===n||hl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ll;if(Ol(t,e),jl(e),512&r&&(wl||null===n||hl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Be]||o[Oe]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),eh(o,r,n),o[Oe]=e,He(o),r=o;break e;case"link":var s=Bh("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}eh(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(s=Bh("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}eh(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(a(468,r))}o[Oe]=e,He(o),r=o}e.stateNode=r}else zh(i,e.type,e.stateNode);else e.stateNode=Dh(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?zh(i,e.type,e.stateNode):Dh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ol(t,e),jl(e),512&r&&(wl||null===n||hl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ol(t,e),jl(e),512&r&&(wl||null===n||hl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(xl=!0);break;case 6:if(Ol(t,e),jl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Fh=null,i=Ll,Ll=kh(t.containerInfo),Ol(t,e),Ll=i,jl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Td(t.containerInfo)}catch(p){uu(e,e.return,p)}xl&&(xl=!1,Ml(e));break;case 4:r=Ll,Ll=kh(e.stateNode.containerInfo),Ol(t,e),jl(e),Ll=r;break;case 12:default:Ol(t,e),jl(e);break;case 13:Ol(t,e),jl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Cl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,h=wl;if(bl=u||i,wl=h||c,Ol(t,e),wl=h,bl=u,jl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||wl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Cl(e,n))));break;case 19:Ol(t,e),jl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Cl(e,r)));case 30:case 21:}}function jl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,gl(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(St(o,""),n.flags&=-33),yl(e,gl(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;ml(e,gl(e),s);break;default:throw Error(a(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Rl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Fl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:xh(t.stateNode);case 26:case 5:hl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Bl(i,o,n),al(4,o);break;case 1:if(Bl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ho(l[i],s)}catch(c){uu(r,r.return,c)}}n&&64&a&&ll(o),ul(o,o.return);break;case 27:vl(o);case 26:case 5:Bl(i,o,n),n&&null===r&&4&a&&dl(o),ul(o,o.return);break;case 12:Bl(i,o,n);break;case 13:Bl(i,o,n),n&&4&a&&Nl(i,o);break;case 22:null===o.memoizedState&&Bl(i,o,n),ul(o,o.return);break;case 30:break;default:Bl(i,o,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Di(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e))}function ql(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vl(e,t,n,r),t=t.sibling}function Vl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ql(e,t,n,r),2048&i&&al(9,t);break;case 1:case 13:default:ql(e,t,n,r);break;case 3:ql(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e)));break;case 12:if(2048&i){ql(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else ql(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?ql(e,t,n,r):Hl(e,t):2&o._visibility?ql(e,t,n,r):(o._visibility|=2,Wl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&zl(a,t);break;case 24:ql(e,t,n,r),2048&i&&Ul(t.alternate,t)}}function Wl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Wl(o,a,s,l,i),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?Wl(o,a,s,l,i):Hl(o,a):(u._visibility|=2,Wl(o,a,s,l,i)),i&&2048&c&&zl(a.alternate,a);break;case 24:Wl(o,a,s,l,i),i&&2048&c&&Ul(a.alternate,a);break;default:Wl(o,a,s,l,i)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Hl(n,r),2048&i&&zl(r.alternate,r);break;case 24:Hl(n,r),2048&i&&Ul(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var $l=8192;function Kl(e){if(e.subtreeFlags&$l)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Kl(e),e.flags&$l&&null!==e.memoizedState&&function(e,t,n){if(null===qh)throw Error(a(475));var r=qh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Ph(n.href),o=e.querySelector(Nh(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void He(o);o=e.ownerDocument||e,n=Ch(n),(i=Sh.get(i))&&Mh(n,i),He(o=o.createElement("link"));var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),eh(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ll,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Ll;Ll=kh(e.stateNode.containerInfo),Kl(e),Ll=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=$l,$l=16777216,Kl(e),$l=t):Kl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,Zl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Yl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,Zl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==_l;){var n=_l;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Di(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,_l=r;else e:for(n=e;null!==_l;){var i=(r=_l).sibling,o=r.return;if(Al(r),r===n){_l=null;break e}if(null!==i){i.return=o,_l=i;break e}_l=o}}}var ec={getCacheForType:function(e){var t=Ei(Oi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,oc=0,ac=0,sc=null,lc=!1,cc=!1,uc=!1,hc=0,dc=0,fc=0,pc=0,gc=0,mc=0,yc=0,vc=null,bc=null,wc=!1,xc=0,Sc=1/0,_c=null,kc=null,Ac=0,Ec=null,Tc=null,Ic=0,Pc=0,Nc=null,Cc=null,Oc=0,Lc=null;function Dc(){if(0!==(2&nc)&&0!==oc)return oc&-oc;if(null!==D.T){return 0!==Ri?Ri:Pu()}return Ne()}function jc(){0===mc&&(mc=0===(536870912&oc)||oi?Se():536870912);var e=is.current;return null!==e&&(e.flags|=32),mc}function Mc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(Vc(e,0),zc(e,oc,mc,!1)),Ae(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===dc&&zc(e,oc,mc,!1)),Su(e))}function Rc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Hc(),i=$c();rc!==e||oc!==t?(_c=null,Sc=te()+500,Vc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==ac&&null!==ic){t=ic;var o=sc;t:switch(ac){case 1:ac=0,sc=null,Zc(e,t,o,1);break;case 2:case 9:if(Qi(o)){ac=0,sc=null,Jc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),Su(e)},o.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Qi(o)?(ac=0,sc=null,Jc(t)):(ac=0,sc=null,Zc(e,t,o,7));break;case 5:var s=null;switch(ic.tag){case 26:s=ic.memoizedState;case 5:case 27:var l=ic;if(!s||Uh(s)){ac=0,sc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}ac=0,sc=null,Zc(e,t,o,5);break;case 6:ac=0,sc=null,Zc(e,t,o,6);break;case 8:qc(),dc=6;break e;default:throw Error(a(462))}}Yc();break}catch(h){Wc(e,h)}return vi=yi=null,D.H=r,D.A=i,nc=n,null!==ic?0:(rc=null,oc=0,Ir(),dc)}(e,t):Gc(e,t,!0),o=r;;){if(0===i){cc&&!r&&zc(e,t,0,!1);break}if(n=e.current.alternate,!o||Bc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Vc(l,s).flags|=256),2!==(s=Gc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=o,pc|=o,i=4;break e}o=bc,bc=i,null!==o&&(null===bc?bc=o:bc.push.apply(bc,o))}i=s}if(o=!1,2!==i)continue}}if(1===i){Vc(e,0),zc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:zc(r,t,mc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=xc+300-te())){if(zc(r,t,mc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=lh(Fc.bind(null,r,n,bc,_c,wc,t,mc,pc,yc,lc,o,2,-0,0),i)}else Fc(r,n,bc,_c,wc,t,mc,pc,yc,lc,o,0,-0,0)}break}i=Gc(e,t,!1),o=!1}Su(e)}function Fc(e,t,n,r,i,o,s,l,c,u,h,d,f,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(qh={stylesheets:null,count:0,unsuspend:Vh},Gl(t),null!==(d=function(){if(null===qh)throw Error(a(475));var e=qh;return e.stylesheets&&0===e.count&&$h(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&$h(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(nu.bind(null,e,t,o,n,r,i,s,l,c,h,1,f,p)),void zc(e,o,s,!u);nu(e,t,o,n,r,i,s,l,c)}function Bc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qn(o(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,r){t&=~gc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-fe(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&Ee(e,n,t)}function Uc(){return 0!==(6&nc)||(_u(0,!1),!1)}function qc(){if(null!==ic){if(0===ac)var e=ic.return;else vi=yi=null,Fo(e=ic),Qa=null,Ya=0,e=ic;for(;null!==e;)ol(e.alternate,e),e=e.return;ic=null}}function Vc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ch(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),qc(),rc=e,ic=n=Fr(e.current,null),oc=t,ac=0,sc=null,lc=!1,cc=we(e,t),uc=!1,yc=mc=gc=pc=fc=dc=0,bc=vc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),o=1<<i;t|=e[i],r&=~o}return hc=t,Ir(),n}function Wc(e,t){wo=null,D.H=Ha,t===Hi||t===Ki?(t=Zi(),ac=3):t===$i?(t=Zi(),ac=4):ac=t===Es?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===ic&&(dc=1,xs(e,kr(t,e.current)))}function Hc(){var e=D.H;return D.H=Ha,null===e?Ha:e}function $c(){var e=D.A;return D.A=ec,e}function Kc(){dc=4,lc||(4194048&oc)!==oc&&null!==is.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||zc(rc,oc,mc,!1)}function Gc(e,t,n){var r=nc;nc|=2;var i=Hc(),o=$c();rc===e&&oc===t||(_c=null,Vc(e,t)),t=!1;var a=dc;e:for(;;)try{if(0!==ac&&null!==ic){var s=ic,l=sc;switch(ac){case 8:qc(),a=6;break e;case 3:case 2:case 9:case 6:null===is.current&&(t=!0);var c=ac;if(ac=0,sc=null,Zc(e,s,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,sc=null,Zc(e,s,l,c)}}Qc(),a=dc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,nc=r,D.H=i,D.A=o,null===ic&&(rc=null,oc=0,Ir()),a}function Qc(){for(;null!==ic;)Xc(ic)}function Yc(){for(;null!==ic&&!Z();)Xc(ic)}function Xc(e){var t=Xs(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ms(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Ms(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Fo(t);default:ol(n,t),t=Xs(n,t=ic=Br(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Zc(e,t,n,r){vi=yi=null,Fo(t),Qa=null,Ya=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&_i(t,n,i,!0),null!==(n=is.current)){switch(n.tag){case 13:return null===os?Kc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(a(435,n.tag))}return hu(e,r,i),Kc(),!1}if(oi)return null!==(t=is.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&gi(kr(e=Error(a(422),{cause:r}),n))):(r!==li&&gi(kr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=kr(r,n),so(e,i=_s(e.stateNode,r,i)),4!==dc&&(dc=2)),!1;var o=Error(a(520),{cause:r});if(o=kr(o,n),null===vc?vc=[o]:vc.push(o),4!==dc&&(dc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,so(n,e=_s(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===kc||!kc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,As(i=ks(i),e,n,r),so(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return dc=1,xs(e,kr(n,e.current)),void(ic=null)}catch(o){if(null!==i)throw ic=i,o;return dc=1,xs(e,kr(n,e.current)),void(ic=null)}32768&t.flags?(oi||1===r?e=!0:cc||0!==(536870912&oc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=is.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,hc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===dc&&(dc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);dc=6,ic=null}function nu(e,t,n,r,i,o,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==Ac);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-fe(n),h=1<<u;s[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Ee(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,o|=Tr,s,l,c),e===rc&&(ic=rc=null,oc=0),Tc=t,Ec=e,Ic=n,Pc=o,Nc=i,Cc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(oe,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,i=j.p,j.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,th=nd,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(m){n=null;break e}var s=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++h===r&&(c=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:e,selectionRange:n},nd=!1,_l=t;null!==_l;)if(e=(t=_l).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,_l=e;else for(;null!==_l;){switch(o=(t=_l).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var g=ms(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,_l=e;break}_l=t.return}}(e,t)}finally{nc=s,j.p=i,D.T=r}}Ac=1,ru(),iu(),ou()}}function ru(){if(1===Ac){Ac=0;var e=Ec,t=Tc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=j.p;j.p=2;var i=nc;nc|=4;try{Dl(t,e);var o=nh,a=er(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&Zn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var h=s.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=s.textContent.length,g=Math.min(l.start,p),m=void 0===l.end?g:Math.min(l.end,p);!f.extend&&g>m&&(a=m,m=g,g=a);var y=Jn(s,g),v=Jn(s,m);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=s;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<h.length;s++){var w=h[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nd=!!th,nh=th=null}finally{nc=i,j.p=r,D.T=n}}e.current=t,Ac=2}}function iu(){if(2===Ac){Ac=0;var e=Ec,t=Tc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=j.p;j.p=2;var i=nc;nc|=4;try{kl(e,t.alternate,t)}finally{nc=i,j.p=r,D.T=n}}Ac=3}}function ou(){if(4===Ac||3===Ac){Ac=0,ee();var e=Ec,t=Tc,n=Ic,r=Cc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ac=5:(Ac=0,Tc=Ec=null,au(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(kc=null),Pe(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,i=j.p,j.p=2,D.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{D.T=t,j.p=i}}0!==(3&Ic)&&su(),Su(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Lc?Oc++:(Oc=0,Lc=e):Oc=0,_u(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Di(t)))}function su(e){return ru(),iu(),ou(),lu()}function lu(){if(5!==Ac)return!1;var e=Ec,t=Pc;Pc=0;var n=Pe(Ic),r=D.T,i=j.p;try{j.p=32>n?32:n,D.T=null,n=Nc,Nc=null;var o=Ec,s=Ic;if(Ac=0,Tc=Ec=null,Ic=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Xl(o.current),Vl(o,o.current,s,n),nc=l,_u(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{j.p=i,D.T=r,au(e,t)}}function cu(e,t,n){t=kr(n,t),null!==(e=oo(e,t=_s(e.stateNode,t,2),2))&&(Ae(e,2),Su(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=oo(t,n=ks(2),2))&&(As(n,r,t,e),Ae(r,2),Su(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=du.bind(null,e,t,n),t.then(e,e))}function du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(oc&n)===n&&(4===dc||3===dc&&(62914560&oc)===oc&&300>te()-xc?0===(2&nc)&&Vc(e,0):gc|=n,yc===oc&&(yc=0)),Su(e)}function fu(e,t){0===t&&(t=_e()),null!==(e=Cr(e,t))&&(Ae(e,t),Su(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),fu(e,n)}var mu=null,yu=null,vu=!1,bu=!1,wu=!1,xu=0;function Su(e){e!==yu&&null===e.next&&(null===yu?mu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,hh(function(){0!==(6&nc)?X(re,ku):Au()}))}function _u(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=mu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-fe(42|e)+1)-1,o=201326741&(o&=i&~(a&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Iu(r,o))}else o=oc,0===(3&(o=be(r,r===rc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,o)||(n=!0,Iu(r,o));r=r.next}}while(n);wu=!1}}function ku(){Au()}function Au(){bu=vu=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sh&&(sh=e,!0);return sh=null,!1}()&&(e=xu),xu=0);for(var t=te(),n=null,r=mu;null!==r;){var i=r.next,o=Eu(r,t);0===o?(r.next=null,null===n?mu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&o))&&(bu=!0)),r=i}_u(e,!1)}function Eu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-fe(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=xe(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=oc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Pe(n)){case 2:case 8:n=ie;break;case 32:default:n=oe;break;case 268435456:n=se}return r=Tu.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Tu(e,t){if(0!==Ac&&5!==Ac)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Rc(e,r,t),Eu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Tu.bind(null,e):null)}function Iu(e,t){if(su())return null;Rc(e,t,!0)}function Pu(){return 0===xu&&(xu=Se()),xu}function Nu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Cu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ou=0;Ou<xr.length;Ou++){var Lu=xr[Ou];Sr(Lu.toLowerCase(),"on"+(Lu[0].toUpperCase()+Lu.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(pr,"onAnimationIteration"),Sr(gr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(mr,"onTransitionRun"),Sr(yr,"onTransitionStart"),Sr(vr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ju=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Mu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){ys(u)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){ys(u)}i.currentTarget=null,o=l}}}}function Ru(e,t){var n=t[je];void 0===n&&(n=t[je]=new Set);var r=e+"__bubble";n.has(r)||(Uu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Uu(n,e,r,t)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Bu]){e[Bu]=!0,$e.forEach(function(t){"selectionchange"!==t&&(ju.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bu]||(t[Bu]=!0,Fu("selectionchange",!1,t))}}function Uu(e,t,n,r){switch(cd(t)){case 2:var i=rd;break;case 8:i=id;break;default:i=od}n=i.bind(null,t,n,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==s;){if(null===(a=Ue(s)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=o=a;continue e}s=s.parentNode}}r=r.return}Mt(function(){var r=o,i=Ct(n),a=[];e:{var s=wr.get(e);if(void 0!==s){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=gn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case gr:c=sn;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=mn;break;case"toggle":case"beforetoggle":c=wn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==s?s+"Capture":null:s;h=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=Rt(g,f))&&h.push(Vu(g,m,p)),d)break;g=g.return}0<h.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Nt||!(u=n.relatedTarget||n.fromElement)||!Ue(u)&&!u[De])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ue(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=rn,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(h=mn,m="onPointerLeave",f="onPointerEnter",g="pointer"),d=null==c?s:Ve(c),p=null==u?s:Ve(u),(s=new h(m,g+"leave",c,n,i)).target=d,s.relatedTarget=p,m=null,Ue(i)===r&&((h=new h(f,g+"enter",u,n,i)).target=p,h.relatedTarget=d,m=h),d=m,c&&u)e:{for(f=u,g=0,p=h=c;p;p=Hu(p))g++;for(p=0,m=f;m;m=Hu(m))p++;for(;0<g-p;)h=Hu(h),g--;for(;0<p-g;)f=Hu(f),p--;for(;g--;){if(h===f||null!==f&&h===f.alternate)break e;h=Hu(h),f=Hu(f)}h=null}else h=null;null!==c&&$u(a,s,c,h,!1),null!==u&&null!==d&&$u(a,d,u,h,!0)}if("select"===(c=(s=r?Ve(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Fn;else if(On(s))if(Bn)y=Gn;else{y=$n;var v=Hn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Et(r.elementType)&&(y=Fn):y=Kn;switch(y&&(y=y(e,r))?Ln(a,y,n,i):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),v=r?Ve(r):window,e){case"focusin":(On(v)||"true"===v.contentEditable)&&(rr=v,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,i)}var b;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Nn?In(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(An&&"ko"!==n.locale&&(Nn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Nn&&(b=Wt()):(qt="value"in(Ut=i)?Ut.value:Ut.textContent,Nn=!0)),0<(v=Wu(r,w)).length&&(w=new cn(w,e,null,n,i),a.push({event:w,listeners:v}),b?w.data=b:null!==(b=Pn(n))&&(w.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(Tn=!0,En);case"textInput":return(e=t.data)===En&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Nn)return"compositionend"===e||!Sn&&In(e,t)?(e=Wt(),Vt=qt=Ut=null,Nn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Wu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Nu((i[Le]||null).action),a=r.submitter;a&&null!==(t=(t=a[Le]||null)?Nu(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new Zt("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==xu){var e=a?Cu(i,a):new FormData(i);Ca(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=a?Cu(i,a):new FormData(i),Ca(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(a,e,r,n,i)}Mu(a,t)})}function Vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Rt(e,n))&&r.unshift(Vu(e,i,o)),null!=(i=Rt(e,t))&&r.push(Vu(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function $u(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Rt(n,o))&&a.unshift(Vu(n,c,l)):i||null!=(c=Rt(n,o))&&a.push(Vu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ku=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Ku,"\n").replace(Gu,"")}function Yu(e,t){return t=Qu(t),Qu(e)===t}function Xu(){}function Ju(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":At(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Ju(e,t,"name",i.name,i,null),Ju(e,t,"formEncType",i.formEncType,i,null),Ju(e,t,"formMethod",i.formMethod,i,null),Ju(e,t,"formTarget",i.formTarget,i,null)):(Ju(e,t,"encType",i.encType,i,null),Ju(e,t,"method",i.method,i,null),Ju(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ru("beforetoggle",e),Ru("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Tt.get(n)||n,r)}}function Zu(e,t,n,r,i,o){switch(n){case"style":At(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Le]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function eh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ru("error",e),Ru("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ju(e,t,r,s,n,null)}}return o&&Ju(e,t,"srcSet",n.srcSet,n,null),void(i&&Ju(e,t,"src",n.src,n,null));case"input":Ru("invalid",e);var l=r=s=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":o=h;break;case"type":s=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Ju(e,t,i,h,n,null)}}return yt(e,r,l,c,u,s,o,!1),void ht(e);case"select":for(o in Ru("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Ju(e,t,o,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(s in Ru("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Ju(e,t,s,l,n,null)}return xt(e,i,o,r),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Ju(e,t,c,i,n,null);return;case"dialog":Ru("beforetoggle",e),Ru("toggle",e),Ru("cancel",e),Ru("close",e);break;case"iframe":case"object":Ru("load",e);break;case"video":case"audio":for(i=0;i<Du.length;i++)Ru(Du[i],e);break;case"image":Ru("error",e),Ru("load",e);break;case"details":Ru("toggle",e);break;case"embed":case"source":case"link":Ru("error",e),Ru("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ju(e,t,u,i,n,null)}return;default:if(Et(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&Zu(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Ju(e,t,l,i,n,null))}var th=null,nh=null;function rh(e){return 9===e.nodeType?e:e.ownerDocument}function ih(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ah(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sh=null;var lh="function"===typeof setTimeout?setTimeout:void 0,ch="function"===typeof clearTimeout?clearTimeout:void 0,uh="function"===typeof Promise?Promise:void 0,hh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uh?function(e){return uh.resolve(null).then(e).catch(dh)}:lh;function dh(e){setTimeout(function(){throw e})}function fh(e){return"head"===e}function ph(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&xh(a.documentElement),2&n&&xh(a.body),4&n)for(xh(n=a.head),a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[Be]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}if(0===i)return e.removeChild(o),void Td(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Td(t)}function gh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gh(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function mh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vh=null;function bh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wh(e,t,n){switch(t=rh(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function xh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var Sh=new Map,_h=new Set;function kh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ah=j.d;j.d={f:function(){var e=Ah.f(),t=Uc();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?La(t):Ah.r(e)},D:function(e){Ah.D(e),Th("dns-prefetch",e,null)},C:function(e,t){Ah.C(e,t),Th("preconnect",e,t)},L:function(e,t,n){Ah.L(e,t,n);var r=Eh;if(r&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+gt(n.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var o=i;switch(t){case"style":o=Ph(e);break;case"script":o=Oh(e)}Sh.has(o)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sh.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Nh(o))||"script"===t&&r.querySelector(Lh(o))||(eh(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Ah.m(e,t);var n=Eh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Oh(e)}if(!Sh.has(o)&&(e=d({rel:"modulepreload",href:e},t),Sh.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Lh(o)))return}eh(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Ah.X(e,t);var n=Eh;if(n&&e){var r=We(n).hoistableScripts,i=Oh(e),o=r.get(i);o||((o=n.querySelector(Lh(i)))||(e=d({src:e,async:!0},t),(t=Sh.get(i))&&Rh(e,t),He(o=n.createElement("script")),eh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Ah.S(e,t,n);var r=Eh;if(r&&e){var i=We(r).hoistableStyles,o=Ph(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Nh(o)))s.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sh.get(o))&&Mh(e,n);var l=a=r.createElement("link");He(l),eh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,jh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){Ah.M(e,t);var n=Eh;if(n&&e){var r=We(n).hoistableScripts,i=Oh(e),o=r.get(i);o||((o=n.querySelector(Lh(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=Sh.get(i))&&Rh(e,t),He(o=n.createElement("script")),eh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Eh="undefined"===typeof document?null:document;function Th(e,t,n){var r=Eh;if(r&&"string"===typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),_h.has(i)||(_h.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(eh(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Ih(e,t,n,r){var i,o,s,l,c=(c=W.current)?kh(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ph(n.href),(r=(n=We(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ph(n.href);var u=We(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Nh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Sh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sh.set(e,n),u||(i=c,o=e,s=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),eh(o,"link",s),He(o),i.head.appendChild(o))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Oh(n),(r=(n=We(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ph(e){return'href="'+gt(e)+'"'}function Nh(e){return'link[rel="stylesheet"]['+e+"]"}function Ch(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Oh(e){return'[src="'+gt(e)+'"]'}function Lh(e){return"script[async]"+e}function Dh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),eh(r,"style",i),jh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Ph(n.href);var o=e.querySelector(Nh(i));if(o)return t.state.loading|=4,t.instance=o,He(o),o;r=Ch(n),(i=Sh.get(i))&&Mh(r,i),He(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),eh(o,"link",r),t.state.loading|=4,jh(o,n.precedence,e),t.instance=o;case"script":return o=Oh(n.src),(i=e.querySelector(Lh(o)))?(t.instance=i,He(i),i):(r=n,(i=Sh.get(o))&&Rh(r=d({},n),i),He(i=(e=e.ownerDocument||e).createElement("script")),eh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,jh(r,n.precedence,e));return t.instance}function jh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Mh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Rh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fh=null;function Bh(e,t,n){if(null===Fh){var r=new Map,i=Fh=new Map;i.set(n,r)}else(r=(i=Fh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Be]||o[Oe]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function zh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Uh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var qh=null;function Vh(){}function Wh(){if(this.count--,0===this.count)if(this.stylesheets)$h(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hh=null;function $h(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hh=new Map,t.forEach(Kh,e),Hh=null,Wh.call(e))}function Kh(e,t){if(!(4&t.state.loading)){var n=Hh.get(e);if(n)var r=n.get(null);else{n=new Map,Hh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Wh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Gh={$$typeof:x,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Qh(e,t,n,r,i,o,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Yh(e,t,n,r,i,o,a,s,l,c,u,h){return e=new Qh(e,t,n,a,s,l,c,h),t=1,!0===o&&(t|=24),o=Mr(3,null,null,t),e.current=o,o.stateNode=e,(t=Li()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Xh(e){return e?e=Dr:Dr}function Jh(e,t,n,r,i,o){i=Xh(i),null===r.context?r.context=i:r.pendingContext=i,(r=io(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Mc(n,0,t),ao(n,e,t))}function Zh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ed(e,t){Zh(e,t),(e=e.alternate)&&Zh(e,t)}function td(e){if(13===e.tag){var t=Cr(e,67108864);null!==t&&Mc(t,0,67108864),ed(e,67108864)}}var nd=!0;function rd(e,t,n,r){var i=D.T;D.T=null;var o=j.p;try{j.p=2,od(e,t,n,r)}finally{j.p=o,D.T=i}}function id(e,t,n,r){var i=D.T;D.T=null;var o=j.p;try{j.p=8,od(e,t,n,r)}finally{j.p=o,D.T=i}}function od(e,t,n,r){if(nd){var i=ad(r);if(null===i)qu(e,t,r,sd,n),vd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hd=bd(hd,e,t,n,r,i),!0;case"dragenter":return dd=bd(dd,e,t,n,r,i),!0;case"mouseover":return fd=bd(fd,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return pd.set(o,bd(pd.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,gd.set(o,bd(gd.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vd(e,r),4&t&&-1<yd.indexOf(e)){for(;null!==i;){var o=qe(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=ve(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-fe(a);s.entanglements[1]|=l,a&=~l}Su(o),0===(6&nc)&&(Sc=te()+500,_u(0,!1))}}break;case 13:null!==(s=Cr(o,2))&&Mc(s,0,2),Uc(),ed(o,2)}if(null===(o=ad(r))&&qu(e,t,r,sd,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qu(e,t,r,null,n)}}function ad(e){return ld(e=Ct(e))}var sd=null;function ld(e){if(sd=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sd=e,null}function cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case oe:case ae:return 32;case se:return 268435456;default:return 32}default:return 32}}var ud=!1,hd=null,dd=null,fd=null,pd=new Map,gd=new Map,md=[],yd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vd(e,t){switch(e){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(t.pointerId)}}function bd(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=qe(t))&&td(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wd(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=j.p;try{return j.p=e,t()}finally{j.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=Ie(e);var t=Cr(n,e);null!==t&&Mc(t,0,e),ed(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ad(e.nativeEvent);if(null!==n)return null!==(t=qe(n))&&td(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function Sd(e,t,n){xd(e)&&n.delete(t)}function _d(){ud=!1,null!==hd&&xd(hd)&&(hd=null),null!==dd&&xd(dd)&&(dd=null),null!==fd&&xd(fd)&&(fd=null),pd.forEach(Sd),gd.forEach(Sd)}function kd(e,t){e.blockedOn===t&&(e.blockedOn=null,ud||(ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_d)))}var Ad=null;function Ed(e){Ad!==e&&(Ad=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ad===e&&(Ad=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ld(r||n))continue;break}var o=qe(n);null!==o&&(e.splice(t,3),t-=3,Ca(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Td(e){function t(t){return kd(t,e)}null!==hd&&kd(hd,e),null!==dd&&kd(dd,e),null!==fd&&kd(fd,e),pd.forEach(t),gd.forEach(t);for(var n=0;n<md.length;n++){var r=md[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<md.length&&null===(n=md[0]).blockedOn;)wd(n),null===n.blockedOn&&md.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[Le]||null;if("function"===typeof o)a||Ed(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Le]||null)s=a.formAction;else if(null!==ld(i))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Ed(n)}}}function Id(e){this._internalRoot=e}function Pd(e){this._internalRoot=e}Pd.prototype.render=Id.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Jh(t.current,Dc(),e,t,null,null)},Pd.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jh(e.current,2,null,e,null,null),Uc(),t[De]=null}},Pd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ne();e={blockedOn:null,target:e,priority:t};for(var n=0;n<md.length&&0!==t&&t<md[n].priority;n++);md.splice(n,0,e),0===n&&wd(e)}};var Nd=i.version;if("19.1.0"!==Nd)throw Error(a(527,Nd,"19.1.0"));j.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u(i),e;if(o===r)return u(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Cd={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{ue=Od.inject(Cd),he=Od}catch(Dd){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",i=vs,o=bs,l=ws;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yh(e,1,!1,null,0,n,r,i,o,l,0,null),e[De]=t.current,zu(e),new Id(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,i="",o=vs,l=bs,c=ws,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yh(e,1,!0,t,0,r,i,o,l,c,0,u)).context=Xh(null),n=t.current,(i=io(r=Ie(r=Dc()))).callback=null,oo(n,i,r),n=r,t.current.lanes=n,Ae(t,n),Su(t),e[De]=t.current,zu(e),new Pd(t)},t.version="19.1.0"},7043:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(o.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3799),i=n(4879);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),n=void 0===n?e<t?1:-1:i.toFinite(n);const o=Math.max(Math.ceil((t-e)/(n||1)),0),a=new Array(o);for(let r=0;r<o;r++)a[r]=e,e+=n;return a}},7237:(e,t,n)=>{"use strict";n(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),i=(e,t)=>{for(let o=0;o<e.length;o++){const a=e[o];Array.isArray(a)&&t<r?i(a,t+1):n.push(a)}};return i(e,0),n}},7330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9323);t.property=function(e){return function(t){return r.get(t,e)}}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7770:(e,t,n)=>{e.exports=n(9323).get},7820:(e,t,n)=>{e.exports=n(5414).throttle},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8182:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9330),i=n(4737);t.isEqual=function(e,t){return r.isEqualWith(e,t,i.noop)}},8210:function(e,t,n){var r;!function(){"use strict";var i,o=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",h=Math.floor,d=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,g=9007199254740991,m=h(1286742750677284.5),y={};function v(e,t){var n,r,i,o,a,l,c,u,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),s?I(t,d):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),o=a-i){for(o<0?(r=c,o=-o,l=u.length):(r=u,i=a,l=c.length),o>(l=(a=Math.ceil(d/7))>l?a+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=c.length)-(o=u.length)<0&&(o=l,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/p|0,c[o]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?I(t,d):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function w(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=A(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=A(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return x(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return I(x(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return _(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,o=r.precision,a=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=x(E(n,a),E(e,a),a),s=!0,I(t,o))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=x(n,e,0,1).times(e),s=!0,n.minus(t)):I(new r(n),i)},y.naturalExponential=y.exp=function(){return S(this)},y.naturalLogarithm=y.ln=function(){return E(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):P(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=_(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,o,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=_(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=w(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=h((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=a=(n=u.precision)+3;;)if(r=(o=r).plus(x(c,o,a+2)).times(.5),w(o.d).slice(0,a)===(t=w(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(I(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=t)break;a+=4}return s=!0,I(r,n)},y.times=y.mul=function(e){var t,n,r,i,o,a,l,c,u,h=this,d=h.constructor,f=h.d,g=(e=new d(e)).d;if(!h.s||!e.s)return new d(0);for(e.s*=h.s,n=h.e+e.e,(c=f.length)<(u=g.length)&&(o=f,f=g,g=o,a=c,c=u,u=a),o=[],r=a=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=o[i]+g[r]*f[i-r-1]+t,o[i--]=l%p|0,t=l/p|0;o[i]=(o[i]+t)%p|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,s?I(e,d.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,o),void 0===t?t=r.rounding:b(t,0,8),I(n,e+_(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=N(r,!0):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),n=N(r=I(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?N(i):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),n=N((r=I(new a(i),e+_(i)+1,t)).abs(),!1,e+_(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return I(new t(e),_(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,o,a,c,u=this,d=u.constructor,f=+(e=new d(e));if(!e.s)return new d(i);if(!(u=new d(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=d.precision,e.eq(i))return I(u,r);if(c=(t=e.e)>=(n=e.d.length-1),a=u.s,c){if((n=f<0?-f:f)<=g){for(o=new d(i),t=Math.ceil(r/7+4),s=!1;n%2&&C((o=o.times(u)).d,t),0!==(n=h(n/2));)C((u=u.times(u)).d,t);return s=!0,e.s<0?new d(i).div(o):I(o,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,o=e.times(E(u,r+12)),s=!0,(o=S(o)).s=a,o},y.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=N(i,(n=_(i))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,o),void 0===t?t=a.rounding:b(t,0,8),r=N(i=I(new a(i),e,t),e<=(n=_(i))||n<=a.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,o),void 0===t?t=n.rounding:b(t,0,8)),I(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=_(e),n=e.constructor;return N(e,t<=n.toExpNeg||t>=n.toExpPos)};var x=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,c,u,h,d,f,g,m,y,v,b,w,x,S,k,A,E,T,P=r.constructor,N=r.s==i.s?1:-1,C=r.d,O=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,E=O.length,k=C.length,m=(g=new P(N)).d=[],u=0;O[u]==(C[u]||0);)++u;if(O[u]>(C[u]||0)&&--c,(w=null==o?o=P.precision:a?o+(_(r)-_(i))+1:o)<0)return new P(0);if(w=w/7+2|0,u=0,1==E)for(h=0,O=O[0],w++;(u<k||h)&&w--;u++)x=h*p+(C[u]||0),m[u]=x/O|0,h=x%O|0;else{for((h=p/(O[0]+1)|0)>1&&(O=e(O,h),C=e(C,h),E=O.length,k=C.length),S=E,v=(y=C.slice(0,E)).length;v<E;)y[v++]=0;(T=O.slice()).unshift(0),A=O[0],O[1]>=p/2&&++A;do{h=0,(s=t(O,y,E,v))<0?(b=y[0],E!=v&&(b=b*p+(y[1]||0)),(h=b/A|0)>1?(h>=p&&(h=p-1),1==(s=t(d=e(O,h),y,f=d.length,v=y.length))&&(h--,n(d,E<f?T:O,f))):(0==h&&(s=h=1),d=O.slice()),(f=d.length)<v&&d.unshift(0),n(y,d,v),-1==s&&(s=t(O,y,E,v=y.length))<1&&(h++,n(y,E<v?T:O,v)),v=y.length):0===s&&(h++,y=[0]),m[u++]=h,s&&y[0]?y[v++]=C[S]||0:(y=[C[S]],v=1)}while((S++<k||void 0!==y[0])&&w--)}return m[0]||m.shift(),g.e=c,I(g,a?o+_(g)+1:o)}}();function S(e,t){var n,r,o,a,l,c=0,h=0,f=e.constructor,p=f.precision;if(_(e)>16)throw Error(u+_(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),h+=5;for(l+=Math.log(d(2,h))/Math.LN10*2+5|0,n=r=o=new f(i),f.precision=l;;){if(r=I(r.times(e),l),n=n.times(++c),w((a=o.plus(x(r,n,l))).d).slice(0,l)===w(o.d).slice(0,l)){for(;h--;)o=I(o.times(o),l);return f.precision=p,null==t?(s=!0,I(o,p)):o}o=a}}function _(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function k(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return I(new e(e.LN10),t)}function A(e){for(var t="";e--;)t+="0";return t}function E(e,t){var n,r,o,a,c,u,h,d,f,p=1,g=e,m=g.d,y=g.constructor,v=y.precision;if(g.s<1)throw Error(l+(g.s?"NaN":"-Infinity"));if(g.eq(i))return new y(0);if(null==t?(s=!1,d=v):d=t,g.eq(10))return null==t&&(s=!0),k(y,d);if(d+=10,y.precision=d,r=(n=w(m)).charAt(0),a=_(g),!(Math.abs(a)<15e14))return h=k(y,d+2,v).times(a+""),g=E(new y(r+"."+n.slice(1)),d-10).plus(h),y.precision=v,null==t?(s=!0,I(g,v)):g;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=w((g=g.times(e)).d)).charAt(0),p++;for(a=_(g),r>1?(g=new y("0."+n),a++):g=new y(r+"."+n.slice(1)),u=c=g=x(g.minus(i),g.plus(i),d),f=I(g.times(g),d),o=3;;){if(c=I(c.times(f),d),w((h=u.plus(x(c,new y(o),d))).d).slice(0,d)===w(u.d).slice(0,d))return u=u.times(2),0!==a&&(u=u.plus(k(y,d+2,v).times(a+""))),u=x(u,new y(p),d),y.precision=v,null==t?(s=!0,I(u,v)):u;u=h,o+=2}}function T(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=h(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>m||e.e<-m))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function I(e,t,n){var r,i,o,a,l,c,f,g,y=e.d;for(a=1,o=y[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,f=y[g=0];else{if((g=Math.ceil((r+1)/7))>=(o=y.length))return e;for(f=o=y[g],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(l=f/(o=d(10,a-i-1))%10|0,c=t<0||void 0!==y[g+1]||f%o,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/d(10,a-i):0:y[g-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(o=_(e),y.length=1,t=t-o-1,y[0]=d(10,(7-t%7)%7),e.e=h(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=g,o=1,g--):(y.length=g+1,o=d(10,7-r),y[g]=i>0?(f/d(10,a-i)%d(10,i)|0)*o:0),c)for(;;){if(0==g){(y[0]+=o)==p&&(y[0]=1,++e.e);break}if(y[g]+=o,y[g]!=p)break;y[g--]=0,o=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>m||e.e<-m))throw Error(u+_(e));return e}function P(e,t){var n,r,i,o,a,l,c,u,h,d,f=e.constructor,g=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?I(t,g):t;if(c=e.d,d=t.d,r=t.e,u=e.e,c=c.slice(),a=u-r){for((h=a<0)?(n=c,a=-a,l=d.length):(n=d,r=u,l=c.length),a>(i=Math.max(Math.ceil(g/7),l)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((h=(i=c.length)<(l=d.length))&&(l=i),i=0;i<l;i++)if(c[i]!=d[i]){h=c[i]<d[i];break}a=0}for(h&&(n=c,c=d,d=n,t.s=-t.s),l=c.length,i=d.length-l;i>0;--i)c[l++]=0;for(i=d.length;i>a;){if(c[--i]<d[i]){for(o=i;o&&0===c[--o];)c[o]=p-1;--c[o],c[i]+=p}c[i]-=d[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?I(t,g):t):new f(0)}function N(e,t,n){var r,i=_(e),o=w(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+A(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+A(-i-1)+o,n&&(r=n-a)>0&&(o+=A(r))):i>=a?(o+=A(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+A(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=A(r))),e.s<0?"-"+o:o}function C(e,t){if(e.length>t)return e.length=t,!0}function O(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(h(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):T(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);T(t,e)}if(o.prototype=y,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=O,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8268:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2132);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue},8396:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5508);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8499:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},8812:(e,t,n)=>{"use strict";n.d(t,{h1:()=>s,uA:()=>i});var r=n(1529);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===o?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},8845:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(3272),o=n(8396),a=n(9323),s=n(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=o.cloneDeep(t),function(n){const i=a.get(n,e);return void 0===i?s.has(n,e):void 0===t?void 0===i:r.isMatch(i,t)}}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},9323:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7260),i=n(2489),o=n(3272),a=n(1444);t.get=function e(t,n,s){if(null==t)return s;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return s;const o=t[n];return void 0===o?i.isDeepKey(n)?e(t,a.toPath(n),s):s:o}case"number":case"symbol":{"number"===typeof n&&(n=o.toKey(n));const e=t[n];return void 0===e?s:e}default:{if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let i=e;for(let o=0;o<t.length;o++){if(null==i)return n;if(r.isUnsafeProperty(t[o]))return n;i=i[t[o]]}if(void 0===i)return n;return i}(t,n,s);if(n=Object.is(n?.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return s;const e=t[n];return void 0===e?s:e}}}},9330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4385),i=n(6443),o=n(5990),a=n(7599),s=n(9972);function l(e,t,n,r,i,o,a){const s=a(e,t,n,r,i,o);if(void 0!==s)return s;if(typeof e===typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return c(e,t,o,a)}return c(e,t,o,a)}function c(e,t,n,u){if(Object.is(e,t))return!0;let h=o.getTag(e),d=o.getTag(t);if(h===a.argumentsTag&&(h=a.objectTag),d===a.argumentsTag&&(d=a.objectTag),h!==d)return!1;switch(h){case a.stringTag:return e.toString()===t.toString();case a.numberTag:{const n=e.valueOf(),r=t.valueOf();return s.eq(n,r)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(e.valueOf(),t.valueOf());case a.regexpTag:return e.source===t.source&&e.flags===t.flags;case a.functionTag:return e===t}const f=(n=n??new Map).get(e),p=n.get(t);if(null!=f&&null!=p)return f===t;n.set(e,t),n.set(t,e);try{switch(h){case a.mapTag:if(e.size!==t.size)return!1;for(const[r,i]of e.entries())if(!t.has(r)||!l(i,t.get(r),r,e,t,n,u))return!1;return!0;case a.setTag:{if(e.size!==t.size)return!1;const r=Array.from(e.values()),i=Array.from(t.values());for(let o=0;o<r.length;o++){const a=r[o],s=i.findIndex(r=>l(a,r,void 0,e,t,n,u));if(-1===s)return!1;i.splice(s,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!l(e[r],t[r],r,e,t,n,u))return!1;return!0;case a.arrayBufferTag:return e.byteLength===t.byteLength&&c(new Uint8Array(e),new Uint8Array(t),n,u);case a.dataViewTag:return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&c(new Uint8Array(e),new Uint8Array(t),n,u);case a.errorTag:return e.name===t.name&&e.message===t.message;case a.objectTag:{if(!(c(e.constructor,t.constructor,n,u)||r.isPlainObject(e)&&r.isPlainObject(t)))return!1;const o=[...Object.keys(e),...i.getSymbols(e)],a=[...Object.keys(t),...i.getSymbols(t)];if(o.length!==a.length)return!1;for(let r=0;r<o.length;r++){const i=o[r],a=e[i];if(!Object.hasOwn(t,i))return!1;if(!l(a,t[i],i,e,t,n,u))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}t.isEqualWith=function(e,t,n){return l(e,t,void 0,void 0,void 0,void 0,n)}},9397:(e,t,n)=>{e.exports=n(2682).isPlainObject},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6392),i=n(8346),o=n(1203);t.last=function(e){if(o.isArrayLike(e))return r.last(i.toArray(e))}},9709:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const i=n(e),o=n(t);if(i===o&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?o-i:i-o}return 0}},9717:(e,t,n)=>{"use strict";var r=n(5043),i=n(9461);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=s(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=c(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]);var f=a(e,h[0],h[1]);return l(function(){d.hasValue=!0,d.value=f},[f]),u(f),f}},9859:(e,t,n)=>{e.exports=n(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{239:"63028622",453:"76cd2577",732:"f1166657",977:"5837d885"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="service-desk-app:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkservice_desk_app=self.webpackChunkservice_desk_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>uv,scaleDiverging:()=>i_,scaleDivergingLog:()=>o_,scaleDivergingPow:()=>s_,scaleDivergingSqrt:()=>l_,scaleDivergingSymlog:()=>a_,scaleIdentity:()=>Jb,scaleImplicit:()=>lv,scaleLinear:()=>Xb,scaleLog:()=>sw,scaleOrdinal:()=>cv,scalePoint:()=>dv,scalePow:()=>mw,scaleQuantile:()=>Iw,scaleQuantize:()=>Pw,scaleRadial:()=>bw,scaleSequential:()=>XS,scaleSequentialLog:()=>JS,scaleSequentialPow:()=>e_,scaleSequentialQuantile:()=>n_,scaleSequentialSqrt:()=>t_,scaleSequentialSymlog:()=>ZS,scaleSqrt:()=>yw,scaleSymlog:()=>hw,scaleThreshold:()=>Nw,scaleTime:()=>KS,scaleUtc:()=>GS,tickFormat:()=>Qb});var t,r=n(5043),i=n.t(r,2),o=n(4391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const s="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:c=!1}=i,f=o.history,p=t.Pop,g=null,m=y();function y(){return(f.state||{idx:null}).idx}function v(){p=t.Pop;let e=y(),n=null==e?null:e-m;m=e,g&&g({action:p,location:w.location,delta:n})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,f.replaceState(a({},f.state,{idx:m}),""));let w={get action(){return p},get location(){return e(o,f)},listen(e){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(s,v),g=e,()=>{o.removeEventListener(s,v),g=null}},createHref:e=>n(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let i=h(w.location,e,n);r&&r(i,e),m=y()+1;let a=u(i,m),s=w.createHref(i);try{f.pushState(a,"",s)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;o.location.assign(s)}c&&g&&g({action:p,location:w.location,delta:1})},replace:function(e,n){p=t.Replace;let i=h(w.location,e,n);r&&r(i,e),m=y();let o=u(i,m),a=w.createHref(i);f.replaceState(o,"",a),c&&g&&g({action:p,location:w.location,delta:0})},go:e=>f.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=C(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let o=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=N(i);a=I(o[s],e,r)}return a}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(l(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=M([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),v(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:T(s,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=b(r.join("/")),s=[];return s.push(...a.map(e=>""===e?o:[o,e].join("/"))),i&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,x=3,S=2,_=1,k=10,A=-2,E=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=A),t&&(r+=S),n.filter(e=>!E(e)).reduce((e,t)=>e+(w.test(t)?x:""===t?_:k),r)}function I(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:M([o,u.pathname]),pathnameBase:R(M([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=M([o,u.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function N(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function C(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let n=L(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function j(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=a({},e),l(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let o,s=""===e||""===i.pathname,c=s?"/":i.pathname;if(null==c)o=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:F(r),hash:B(i)}}(i,o),h=c&&"/"!==c&&c.endsWith("/"),d=(s||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],q=(new Set(U),["get",...U]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const W=r.createContext(null);const H=r.createContext(null);const $=r.createContext(null);const K=r.createContext(null);const G=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=r.createContext(null);function Y(){return null!=r.useContext(K)}function X(){return Y()||l(!1),r.useContext(K).location}function J(e){r.useContext($).static||r.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=r.useContext(G);return e?function(){let{router:e}=ce(se.UseNavigateStable),t=he(le.UseNavigateStable),n=r.useRef(!1);return J(()=>{n.current=!0}),r.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,V({fromRouteId:t},i)))},[e,t])}():function(){Y()||l(!1);let e=r.useContext(W),{basename:t,future:n,navigator:i}=r.useContext($),{matches:o}=r.useContext(G),{pathname:a}=X(),s=JSON.stringify(D(o,n.v7_relativeSplatPath)),c=r.useRef(!1);J(()=>{c.current=!0});let u=r.useCallback(function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void i.go(n);let o=j(n,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:M([t,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)},[t,i,s,a,e]);return u}()}function ee(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext($),{matches:o}=r.useContext(G),{pathname:a}=X(),s=JSON.stringify(D(o,i.v7_relativeSplatPath));return r.useMemo(()=>j(e,JSON.parse(s),a,"path"===n),[e,s,a,n])}function te(e,n,i,o){Y()||l(!1);let{navigator:a}=r.useContext($),{matches:s}=r.useContext(G),c=s[s.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let d,p=X();if(n){var g;let e="string"===typeof n?f(n):n;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||l(!1),d=e}else d=p;let y=d.pathname||"/",v=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=m(e,{pathname:v});let w=ae(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:M([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,i,o);return n&&w?r.createElement(K.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},w):w}function ne(){let e=function(){var e;let t=r.useContext(Q),n=ue(le.UseRouteError),i=he(le.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const re=r.createElement(ne,null);class ie extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(G.Provider,{value:this.props.routeContext},r.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(W);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(G.Provider,{value:t},i)}function ae(e,t,n,i){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,c=null==(o=n)?void 0:o.errors;if(null!=c){let e=s.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||l(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,s=h>=0?s.slice(0,h+1):[s[0]];break}}}return s.reduceRight((e,i,o)=>{let a,l=!1,d=null,f=null;var p;n&&(a=c&&i.route.id?c[i.route.id]:void 0,d=i.route.errorElement||re,u&&(h<0&&0===o?(p="route-fallback",!1||de[p]||(de[p]=!0),l=!0,f=null):h===o&&(l=!0,f=i.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,o+1)),m=()=>{let t;return t=a?d:l?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(oe,{match:i,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement(ie,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(se||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let t=r.useContext(W);return t||l(!1),t}function ue(e){let t=r.useContext(H);return t||l(!1),t}function he(e){let t=function(){let e=r.useContext(G);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const de={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function pe(e){let{to:t,replace:n,state:i,relative:o}=e;Y()||l(!1);let{future:a,static:s}=r.useContext($),{matches:c}=r.useContext(G),{pathname:u}=X(),h=Z(),d=j(t,D(c,a.v7_relativeSplatPath),u,"path"===o),f=JSON.stringify(d);return r.useEffect(()=>h(JSON.parse(f),{replace:n,state:i,relative:o}),[h,f,o,n,i]),null}function ge(e){l(!1)}function me(e){let{basename:n="/",children:i=null,location:o,navigationType:a=t.Pop,navigator:s,static:c=!1,future:u}=e;Y()&&l(!1);let h=n.replace(/^\/*/,"/"),d=r.useMemo(()=>({basename:h,navigator:s,static:c,future:V({v7_relativeSplatPath:!1},u)}),[h,u,s,c]);"string"===typeof o&&(o=f(o));let{pathname:p="/",search:g="",hash:m="",state:y=null,key:v="default"}=o,b=r.useMemo(()=>{let e=C(p,h);return null==e?null:{location:{pathname:e,search:g,hash:m,state:y,key:v},navigationType:a}},[h,p,g,m,y,v,a]);return null==b?null:r.createElement($.Provider,{value:d},r.createElement(K.Provider,{children:i,value:b}))}function ye(e){let{children:t,location:n}=e;return te(ve(t),n)}new Promise(()=>{});r.Component;function ve(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ve(e.props.children,o));e.type!==ge&&l(!1),e.props.index&&e.props.children&&l(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ve(e.props.children,o)),n.push(a)}),n}var be=n(7950),we=n.t(be,2);function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(fR){}new Map;const ke=i.startTransition;we.flushSync,i.useId;function Ae(e){let{basename:t,children:n,future:i,window:o}=e,a=r.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),p(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:d(t)},null,s)));let l=a.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:f}=i||{},g=r.useCallback(e=>{f&&ke?ke(()=>u(e)):u(e)},[u,f]);return r.useLayoutEffect(()=>l.listen(g),[l,g]),r.useEffect(()=>fe(i),[i]),r.createElement(me,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=r.forwardRef(function(e,t){let n,{onClick:i,relative:o,reloadDocument:a,replace:s,state:c,target:u,to:h,preventScrollReset:f,viewTransition:p}=e,g=Se(e,_e),{basename:m}=r.useContext($),y=!1;if("string"===typeof h&&Te.test(h)&&(n=h,Ee))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=C(t.pathname,m);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch(fR){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Y()||l(!1);let{basename:i,navigator:o}=r.useContext($),{hash:a,pathname:s,search:c}=ee(e,{relative:n}),u=s;return"/"!==i&&(u="/"===s?i:M([i,s])),o.createHref({pathname:u,search:c,hash:a})}(h,{relative:o}),b=function(e,t){let{target:n,replace:i,state:o,preventScrollReset:a,relative:s,viewTransition:l}=void 0===t?{}:t,c=Z(),u=X(),h=ee(e,{relative:s});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:d(u)===d(h);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,viewTransition:l})}},[u,c,h,i,o,n,e,a,s,l])}(h,{replace:s,state:c,target:u,preventScrollReset:f,relative:o,viewTransition:p});return r.createElement("a",xe({},g,{href:n||v,onClick:y||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:u}))});var Pe,Ne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ne||(Ne={}));var Ce=n(52),Oe=n(1529),Le=n(443);function De(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var je=n(8812);function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Re=Me,Fe=new Oe.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new Le.Vy("@firebase/auth");function ze(e){if(Be.logLevel<=Le.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Be.error(`Auth (${Ce.MF}): ${e}`,...n)}}function Ue(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $e(e,...n)}function qe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $e(e,...n)}function Ve(e,t,n){const r=Object.assign(Object.assign({},Re()),{[t]:n});return new Oe.FA("auth","Firebase",r).create(t,{appName:e.name})}function We(e){return Ve(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function He(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ue(e,"argument-error"),Ve(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Fe.create(e,...n)}function Ke(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $e(t,...r)}}function Ge(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ze(t),new Error(t)}function Qe(e,t){e||Ge(t)}function Ye(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xe(){return"http:"===Je()||"https:"===Je()}function Je(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Ze{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qe(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,Oe.jZ)()||(0,Oe.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Xe()||(0,Oe.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function et(e,t){Qe(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class tt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rt=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],it=new Ze(3e4,6e4);function ot(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function at(e,t,n,r){return st(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,Oe.Am)(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return(0,Oe.c1)()||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,Oe.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),tt.fetch()(await ct(e,e.config.apiHost,n,a),l)})}async function st(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},nt),t);try{const t=new ht(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw dt(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw dt(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw dt(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw dt(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Ve(e,s,a);Ue(e,s)}}catch(fR){if(fR instanceof Oe.g)throw fR;Ue(e,"network-request-failed",{message:String(fR)})}}async function lt(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await at(e,t,n,r,i);return"mfaPendingCredential"in o&&Ue(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function ct(e,t,n,r){const i=`${t}${n}?${r}`,o=e,a=o.config.emulator?et(e.config,i):`${e.config.apiScheme}://${i}`;if(rt.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(a).toString()}return a}function ut(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ht{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(qe(this.auth,"network-request-failed")),it.get())})}}function dt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qe(e,t,r);return i.customData._tokenResponse=n,i}function ft(e){return void 0!==e&&void 0!==e.enterprise}class pt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ut(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gt(e,t){return at(e,"GET","/v2/recaptchaConfig",ot(e,t))}async function mt(e,t){return at(e,"POST","/v1/accounts:lookup",t)}function yt(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(fR){}}function vt(e){return 1e3*Number(e)}function bt(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,Oe.u)(n);return e?JSON.parse(e):(ze("Failed to decode base64 JWT payload"),null)}catch(fR){return ze("Caught error parsing JWT payload as JSON",null===fR||void 0===fR?void 0:fR.toString()),null}}function wt(e){const t=bt(e);return Ke(t,"internal-error"),Ke("undefined"!==typeof t.exp,"internal-error"),Ke("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function xt(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(fR){throw fR instanceof Oe.g&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(fR)&&e.auth.currentUser===e&&await e.auth.signOut(),fR}}class St{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(fR){return void("auth/network-request-failed"===(null===fR||void 0===fR?void 0:fR.code)&&this.schedule(!0))}this.schedule()}}class _t{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yt(this.lastLoginAt),this.creationTime=yt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kt(e){var t;const n=e.auth,r=await e.getIdToken(),i=await xt(e,mt(n,{idToken:r}));Ke(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?At(o.providerUserInfo):[],s=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),u=!!l&&c,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new _t(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,h)}function At(e){return e.map(e=>{var{providerId:t}=e,n=De(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke("undefined"!==typeof e.idToken,"internal-error"),Ke("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):wt(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ke(0!==e.length,"internal-error");const t=wt(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await st(e,{},async()=>{const n=(0,Oe.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await ct(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:a,body:n};return e.emulatorConfig&&(0,Oe.zJ)(e.emulatorConfig.host)&&(s.credentials="include"),tt.fetch()(o,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Et;return n&&(Ke("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Ke("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Ke("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Et,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function Tt(e,t){Ke("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class It{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=De(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new St(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _t(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await xt(this,this.stsTokenManager.getToken(this.auth,e));return Ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,Oe.Ku)(e),r=await n.getIdToken(t),i=bt(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:yt(vt(i.auth_time)),issuedAtTime:yt(vt(i.iat)),expirationTime:yt(vt(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,Oe.Ku)(e);await kt(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new It(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await kt(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,Ce.xZ)(this.auth.app))return Promise.reject(We(this.auth));const e=await this.getIdToken();return await xt(this,async function(e,t){return at(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:S}=t;Ke(v&&S,e,"internal-error");const _=Et.fromJSON(this.name,S);Ke("string"===typeof v,e,"internal-error"),Tt(u,e.name),Tt(h,e.name),Ke("boolean"===typeof b,e,"internal-error"),Ke("boolean"===typeof w,e,"internal-error"),Tt(d,e.name),Tt(f,e.name),Tt(p,e.name),Tt(g,e.name),Tt(m,e.name),Tt(y,e.name);const k=new It({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:_,createdAt:m,lastLoginAt:y});return x&&Array.isArray(x)&&(k.providerData=x.map(e=>Object.assign({},e))),g&&(k._redirectEventId=g),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Et;r.updateFromServerResponse(t);const i=new It({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await kt(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ke(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?At(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Et;a.updateFromIdToken(n);const s=new It({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new _t(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const Pt=new Map;function Nt(e){Qe(e instanceof Function,"Expected a class definition");let t=Pt.get(e);return t?(Qe(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Pt.set(e,t),t)}class Ct{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ct.type="NONE";const Ot=Ct;function Lt(e,t,n){return`firebase:${e}:${t}:${n}`}class Dt{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Lt(this.userKey,r.apiKey,i),this.fullPersistenceKey=Lt("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await mt(this.auth,{idToken:e}).catch(()=>{});return t?It._fromGetAccountInfoResponse(this.auth,t,e):null}return It._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Dt(Nt(Ot),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Nt(Ot);const o=Lt(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(o);if(t){let n;if("string"===typeof t){const r=await mt(e,{idToken:t}).catch(()=>{});if(!r)break;n=await It._fromGetAccountInfoResponse(e,r,t)}else n=It._fromJSON(e,t);l!==i&&(a=n),i=l;break}}catch(Ll){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(Ll){}})),new Dt(i,e,n)):new Dt(i,e,n)}}function jt(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Bt(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ut(t))return"Blackberry";if(qt(t))return"Webos";if(Rt(t))return"Safari";if((t.includes("chrome/")||Ft(t))&&!t.includes("edge/"))return"Chrome";if(zt(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Mt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Oe.ZQ)();return/firefox\//i.test(e)}function Rt(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Oe.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ft(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Oe.ZQ)();return/crios\//i.test(e)}function Bt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Oe.ZQ)();return/iemobile/i.test(e)}function zt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Oe.ZQ)();return/android/i.test(e)}function Ut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Oe.ZQ)();return/blackberry/i.test(e)}function qt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Oe.ZQ)();return/webos/i.test(e)}function Vt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Oe.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Wt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Oe.ZQ)();return Vt(e)||zt(e)||qt(e)||Ut(e)||/windows phone/i.test(e)||Bt(e)}function Ht(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=jt((0,Oe.ZQ)());break;case"Worker":t=`${jt((0,Oe.ZQ)())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ce.MF}/${r}`}class $t{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(fR){r(fR)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(fR){t.reverse();for(const n of t)try{n()}catch(Hc){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===fR||void 0===fR?void 0:fR.message})}}}class Kt{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Gt{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yt(this),this.idTokenSubscription=new Yt(this),this.beforeStateQueue=new $t(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nt(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Dt.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(fR){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await mt(this,{idToken:e}),n=await It._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(tc){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",tc),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,Ce.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(fR){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(fR))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(fR){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kt(e)}catch(fR){if("auth/network-request-failed"!==(null===fR||void 0===fR?void 0:fR.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,Ce.xZ)(this.app))return Promise.reject(We(this));const t=e?(0,Oe.Ku)(e):null;return t&&Ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,Ce.xZ)(this.app)?Promise.reject(We(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,Ce.xZ)(this.app)?Promise.reject(We(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nt(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return at(e,"GET","/v2/passwordPolicy",ot(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Kt(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Oe.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return at(e,"POST","/v2/accounts:revokeToken",ot(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Nt(e)||this._popupRedirectResolver;Ke(t,this,"argument-error"),this.redirectPersistenceManager=await Dt.create(this,[Nt(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ht(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,Ce.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Be.logLevel<=Le.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Be.warn(`Auth (${Ce.MF}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Qt(e){return(0,Oe.Ku)(e)}class Yt{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,Oe.tD)(e=>this.observer=e)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xt={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jt(e){return Xt.loadJS(e)}function Zt(e){return`__${e}${Math.floor(1e6*Math.random())}`}class en{constructor(){this.enterprise=new tn}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tn{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nn="NO_RECAPTCHA";class rn{constructor(e){this.type="recaptcha-enterprise",this.auth=Qt(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;ft(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(nn)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new en).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{gt(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new pt(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&ft(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Xt.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Jt(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function on(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new rn(e);let a;if(i)a=nn;else try{a=await o.verify(n)}catch(l){a=await o.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function an(e,t,n,r,i){var o,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await on(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await on(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await on(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await on(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await on(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function sn(e){const t=Qt(e),n=await gt(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new pt(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new rn(t).verify()}}function ln(e,t,n){const r=Qt(e);Ke(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=cn(t),{host:a,port:s}=function(e){const t=cn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:un(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:un(t)}}}(t),l=null===s?"":`:${s}`,c={url:`${o}//${a}${l}/`},u=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Ke((0,Oe.bD)(c,r.config.emulator)&&(0,Oe.bD)(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,(0,Oe.zJ)(a)?((0,Oe.gE)(`${o}//${a}${l}`),(0,Oe.P1)("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function cn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function un(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class hn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ge("not implemented")}_getIdTokenResponse(e){return Ge("not implemented")}_linkToIdToken(e,t){return Ge("not implemented")}_getReauthenticationResolver(e){return Ge("not implemented")}}async function dn(e,t){return at(e,"POST","/v1/accounts:signUp",t)}async function fn(e,t){return lt(e,"POST","/v1/accounts:signInWithPassword",ot(e,t))}async function pn(e,t){return at(e,"POST","/v1/accounts:sendOobCode",ot(e,t))}async function gn(e,t){return pn(e,t)}class mn extends hn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new mn(e,t,"password")}static _fromEmailAndCode(e,t){return new mn(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return an(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",fn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return lt(e,"POST","/v1/accounts:signInWithEmailLink",ot(e,t))}(e,{email:this._email,oobCode:this._password});default:Ue(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return an(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return lt(e,"POST","/v1/accounts:signInWithEmailLink",ot(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ue(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yn(e,t){return lt(e,"POST","/v1/accounts:signInWithIdp",ot(e,t))}class vn extends hn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new vn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ue("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=De(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new vn(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return yn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,yn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yn(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,Oe.Am)(t)}return e}}async function bn(e,t){return at(e,"POST","/v1/accounts:sendVerificationCode",ot(e,t))}const wn={USER_NOT_FOUND:"user-not-found"};class xn extends hn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new xn({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new xn({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return lt(e,"POST","/v1/accounts:signInWithPhoneNumber",ot(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await lt(e,"POST","/v1/accounts:signInWithPhoneNumber",ot(e,t));if(n.temporaryProof)throw dt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return lt(e,"POST","/v1/accounts:signInWithPhoneNumber",ot(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),wn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new xn({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Sn{constructor(e){var t,n,r,i,o,a;const s=(0,Oe.I9)((0,Oe.hp)(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Ke(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.lang)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,Oe.I9)((0,Oe.hp)(e)).link,n=t?(0,Oe.I9)((0,Oe.hp)(t)).deep_link_id:null,r=(0,Oe.I9)((0,Oe.hp)(e)).deep_link_id;return(r?(0,Oe.I9)((0,Oe.hp)(r)).link:null)||r||n||t||e}(e);try{return new Sn(t)}catch(Ll){return null}}}class _n{constructor(){this.providerId=_n.PROVIDER_ID}static credential(e,t){return mn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Sn.parseLink(t);return Ke(n,"argument-error"),mn._fromEmailAndCode(e,n.code,n.tenantId)}}_n.PROVIDER_ID="password",_n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class kn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class An extends kn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class En extends An{constructor(){super("facebook.com")}static credential(e){return vn._fromParams({providerId:En.PROVIDER_ID,signInMethod:En.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return En.credentialFromTaggedObject(e)}static credentialFromError(e){return En.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return En.credential(t.oauthAccessToken)}catch(Ll){return null}}}En.FACEBOOK_SIGN_IN_METHOD="facebook.com",En.PROVIDER_ID="facebook.com";class Tn extends An{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return vn._fromParams({providerId:Tn.PROVIDER_ID,signInMethod:Tn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Tn.credentialFromTaggedObject(e)}static credentialFromError(e){return Tn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Tn.credential(n,r)}catch(Ll){return null}}}Tn.GOOGLE_SIGN_IN_METHOD="google.com",Tn.PROVIDER_ID="google.com";class In extends An{constructor(){super("github.com")}static credential(e){return vn._fromParams({providerId:In.PROVIDER_ID,signInMethod:In.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return In.credentialFromTaggedObject(e)}static credentialFromError(e){return In.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return In.credential(t.oauthAccessToken)}catch(Ll){return null}}}In.GITHUB_SIGN_IN_METHOD="github.com",In.PROVIDER_ID="github.com";class Pn extends An{constructor(){super("twitter.com")}static credential(e,t){return vn._fromParams({providerId:Pn.PROVIDER_ID,signInMethod:Pn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Pn.credentialFromTaggedObject(e)}static credentialFromError(e){return Pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Pn.credential(n,r)}catch(Ll){return null}}}async function Nn(e,t){return lt(e,"POST","/v1/accounts:signUp",ot(e,t))}Pn.TWITTER_SIGN_IN_METHOD="twitter.com",Pn.PROVIDER_ID="twitter.com";class Cn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await It._fromIdTokenResponse(e,n,r),o=On(n);return new Cn({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=On(n);return new Cn({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function On(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ln extends Oe.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ln.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ln(e,t,n,r)}}function Dn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Ln._fromErrorAndOperation(e,n,t,r);throw n})}async function jn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await xt(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Cn._forOperation(e,"link",r)}async function Mn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,Ce.xZ)(r.app))return Promise.reject(We(r));const i="reauthenticate";try{const o=await xt(e,Dn(r,i,t,e),n);Ke(o.idToken,r,"internal-error");const a=bt(o.idToken);Ke(a,r,"internal-error");const{sub:s}=a;return Ke(e.uid===s,r,"user-mismatch"),Cn._forOperation(e,i,o)}catch(fR){throw"auth/user-not-found"===(null===fR||void 0===fR?void 0:fR.code)&&Ue(r,"user-mismatch"),fR}}async function Rn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,Ce.xZ)(e.app))return Promise.reject(We(e));const r="signIn",i=await Dn(e,r,t),o=await Cn._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Fn(e,t){return Rn(Qt(e),t)}function Bn(e,t,n){var r;Ke((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ke("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Ke("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ke(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ke(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function zn(e){const t=Qt(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Un(e,t){const n=(0,Oe.Ku)(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Bn(n.auth,r,t);const{email:i}=await async function(e,t){return pn(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function qn(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await xt(e,async function(e,t){return at(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}function Vn(e,t){return at(e,"POST","/v2/accounts/mfaEnrollment:start",ot(e,t))}new WeakMap;const Wn="__sak";class Hn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wn,"1"),this.storage.removeItem(Wn),Promise.resolve(!0)):Promise.resolve(!1)}catch(Ll){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class $n extends Hn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wt(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,Oe.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$n.type="LOCAL";const Kn=$n;function Gn(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function Qn(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Yn{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Qn(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Gn(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Qn(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Qn(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Gn(n);const i=setInterval(()=>{const e=Gn(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Yn.type="COOKIE";class Xn extends Hn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Xn.type="SESSION";const Jn=Xn;class Zn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Zn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Zn.receivers=[];class tr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,s)=>{const l=er("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function nr(){return window}function rr(){return"undefined"!==typeof nr().WorkerGlobalScope&&"function"===typeof nr().importScripts}const ir="firebaseLocalStorageDb",or="firebaseLocalStorage",ar="fbase_key";class sr{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function lr(e,t){return e.transaction([or],t?"readwrite":"readonly").objectStore(or)}function cr(){const e=indexedDB.open(ir,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(or,{keyPath:ar})}catch(fR){n(fR)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(or)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ir);return new sr(e).toPromise()}(),t(await cr()))})})}async function ur(e,t,n){const r=lr(e,!0).put({[ar]:t,value:n});return new sr(r).toPromise()}function hr(e,t){const n=lr(e,!0).delete(t);return new sr(n).toPromise()}class dr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await cr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(fR){if(t++>3)throw fR;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zn._getInstance(rr()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new tr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(Ll){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cr();return await ur(e,Wn,"1"),await hr(e,Wn),!0}catch(Ll){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ur(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=lr(e,!1).get(t),r=await new sr(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=lr(e,!1).getAll();return new sr(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}dr.type="LOCAL";const fr=dr;function pr(e,t){return at(e,"POST","/v2/accounts/mfaSignIn:start",ot(e,t))}Zt("rcb"),new Ze(3e4,6e4);const gr="recaptcha";async function mr(e,t,n){var r;if(!e._getRecaptchaConfig())try{await sn(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Ke("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=an(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===nn){Ke((null===n||void 0===n?void 0:n.type)===gr,e,"argument-error");return Vn(e,await yr(e,t,n))}return Vn(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{Ke("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Ke(o,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=an(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===nn){Ke((null===n||void 0===n?void 0:n.type)===gr,e,"argument-error");return pr(e,await yr(e,t,n))}return pr(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=an(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===nn){Ke((null===n||void 0===n?void 0:n.type)===gr,e,"argument-error");return bn(e,await yr(e,t,n))}return bn(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function yr(e,t,n){Ke(n.type===gr,e,"argument-error");const r=await n.verify();Ke("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class vr{constructor(e){this.providerId=vr.PROVIDER_ID,this.auth=Qt(e)}verifyPhoneNumber(e,t){return mr(this.auth,e,(0,Oe.Ku)(t))}static credential(e,t){return xn._fromVerification(e,t)}static credentialFromResult(e){const t=e;return vr.credentialFromTaggedObject(t)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?xn._fromTokenResponse(n,r):null}}function br(e,t){return t?Nt(t):(Ke(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}vr.PROVIDER_ID="phone",vr.PHONE_SIGN_IN_METHOD="phone";class wr extends hn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xr(e){return Rn(e.auth,new wr(e),e.bypassAuthState)}function Sr(e){const{auth:t,user:n}=e;return Ke(n,t,"internal-error"),Mn(n,new wr(e),e.bypassAuthState)}async function _r(e){const{auth:t,user:n}=e;return Ke(n,t,"internal-error"),jn(n,new wr(e),e.bypassAuthState)}class kr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(fR){this.reject(fR)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(fR){this.reject(fR)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xr;case"linkViaPopup":case"linkViaRedirect":return _r;case"reauthViaPopup":case"reauthViaRedirect":return Sr;default:Ue(this.auth,"internal-error")}}resolve(e){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ar=new Ze(2e3,1e4);async function Er(e,t,n){if((0,Ce.xZ)(e.app))return Promise.reject(qe(e,"operation-not-supported-in-this-environment"));const r=Qt(e);He(e,t,kn);const i=br(r,n);return new Tr(r,"signInViaPopup",t,i).executeNotNull()}class Tr extends kr{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Tr.currentPopupAction&&Tr.currentPopupAction.cancel(),Tr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Qe(1===this.filter.length,"Popup operations only handle one event");const e=er();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(qe(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(qe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qe(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ar.get())};e()}}Tr.currentPopupAction=null;const Ir=new Map;class Pr extends kr{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ir.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Or(t),r=Cr(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(fR){e=()=>Promise.reject(fR)}Ir.set(this.auth._key(),e)}return this.bypassAuthState||Ir.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Nr(e,t){Ir.set(e._key(),t)}function Cr(e){return Nt(e._redirectPersistence)}function Or(e){return Lt("pendingRedirect",e.config.apiKey,e.name)}async function Lr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,Ce.xZ)(e.app))return Promise.reject(We(e));const r=Qt(e),i=br(r,t),o=new Pr(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Dr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Mr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(qe(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jr(e))}saveEventToCache(e){this.cachedEventUids.add(jr(e)),this.lastProcessedEventTime=Date.now()}}function jr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Mr(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Rr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fr=/^https?/;async function Br(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return at(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(zr(n))return}catch(Ll){}Ue(e,"unauthorized-domain")}function zr(e){const t=Ye(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Fr.test(n))return!1;if(Rr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ur=new Ze(3e4,6e4);function qr(){const e=nr().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Vr(e){return new Promise((t,n)=>{var r,i,o;function a(){qr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qr(),n(qe(e,"network-request-failed"))},timeout:Ur.get()})}if(null===(i=null===(r=nr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=nr().gapi)||void 0===o?void 0:o.load)){const t=Zt("iframefcb");return nr()[t]=()=>{gapi.load?a():n(qe(e,"network-request-failed"))},Jt(`${Xt.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw Wr=null,e})}let Wr=null;const Hr=new Ze(5e3,15e3),$r={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gr(e){const t=e.config;Ke(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?et(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Ce.MF},i=Kr.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${(0,Oe.Am)(r).slice(1)}`}async function Qr(e){const t=await function(e){return Wr=Wr||Vr(e),Wr}(e),n=nr().gapi;return Ke(n,e,"internal-error"),t.open({where:document.body,url:Gr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$r,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=qe(e,"network-request-failed"),o=nr().setTimeout(()=>{r(i)},Hr.get());function a(){nr().clearTimeout(o),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Yr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(fR){}}}function Jr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Yr),{width:r.toString(),height:i.toString(),top:o,left:a}),c=(0,Oe.ZQ)().toLowerCase();n&&(s=Ft(c)?"_blank":n),Mt(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){var e;return Vt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Oe.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Xr(null);const h=window.open(t||"",s,u);Ke(h,e,"popup-blocked");try{h.focus()}catch(fR){}return new Xr(h)}const Zr="__/auth/handler",ei="emulator/auth/handler",ti=encodeURIComponent("fac");async function ni(e,t,n,r,i,o){Ke(e.config.authDomain,e,"auth-domain-config-required"),Ke(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ce.MF,eventId:i};if(t instanceof kn){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",(0,Oe.Im)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof An){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${ti}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Zr}`;return et(t,ei)}(e)}?${(0,Oe.Am)(s).slice(1)}${c}`}const ri="webStorageSupport";const ii=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jn,this._completeRedirectFn=Lr,this._overrideRedirectResult=Nr}async _openPopup(e,t,n,r){var i;Qe(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Jr(e,await ni(e,t,n,Ye(),r),er())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){nr().location.href=e}(await ni(e,t,n,Ye(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Qe(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Qr(e),n=new Dr(e);return t.register("authEvent",t=>{Ke(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ri,{type:ri},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ri];void 0!==i&&t(!!i),Ue(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Br(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wt()||Rt()||Vt()}};var oi="@firebase/auth",ai="1.10.8";class si{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const li=(0,Oe.XA)("authIdTokenMaxAge")||300;let ci=null;var ui;!function(e){Xt=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=qe("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),ui="Browser",(0,Ce.om)(new je.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Ke(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:ui,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ht(ui)},c=new Gt(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nt);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,Ce.om)(new je.uA("auth-internal",e=>(e=>new si(e))(Qt(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ce.KO)(oi,ai,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ui)),(0,Ce.KO)(oi,ai,"esm2017");(0,Ce.KO)("firebase","11.10.0","app");var hi=n(5472),di=n(2799);const fi="@firebase/installations",pi="0.6.18",gi=1e4,mi=`w:${pi}`,yi="FIS_v2",vi=36e5,bi={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wi=new Oe.FA("installations","Installations",bi);function xi(e){return e instanceof Oe.g&&e.code.includes("request-failed")}function Si(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function _i(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function ki(e,t){const n=(await t.json()).error;return wi.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Ai(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ei(e,t){let{refreshToken:n}=t;const r=Ai(e);return r.append("Authorization",function(e){return`${yi} ${e}`}(n)),r}async function Ti(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Ii(e){return new Promise(t=>{setTimeout(t,e)})}const Pi=/^[cdef][\w-]{21}$/;function Ni(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(e);return Pi.test(t)?t:""}catch(Ll){return""}}function Ci(e){return`${e.appName}!${e.appId}`}const Oi=new Map;function Li(e,t){const n=Ci(e);Di(n,t),function(e,t){const n=Mi();n&&n.postMessage({key:e,fid:t});Ri()}(n,t)}function Di(e,t){const n=Oi.get(e);if(n)for(const r of n)r(t)}let ji=null;function Mi(){return!ji&&"BroadcastChannel"in self&&(ji=new BroadcastChannel("[Firebase] FID Change"),ji.onmessage=e=>{Di(e.data.key,e.data.fid)}),ji}function Ri(){0===Oi.size&&ji&&(ji.close(),ji=null)}const Fi="firebase-installations-store";let Bi=null;function zi(){return Bi||(Bi=(0,di.P2)("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Fi)}})),Bi}async function Ui(e,t){const n=Ci(e),r=(await zi()).transaction(Fi,"readwrite"),i=r.objectStore(Fi),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||Li(e,t.fid),t}async function qi(e){const t=Ci(e),n=(await zi()).transaction(Fi,"readwrite");await n.objectStore(Fi).delete(t),await n.done}async function Vi(e,t){const n=Ci(e),r=(await zi()).transaction(Fi,"readwrite"),i=r.objectStore(Fi),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||o&&o.fid===a.fid||Li(e,a.fid),a}async function Wi(e){let t;const n=await Vi(e.appConfig,n=>{const r=function(e){const t=e||{fid:Ni(),registrationStatus:0};return Ki(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(wi.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=Si(n),a=Ai(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:yi,appId:n.appId,sdkVersion:mi},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await Ti(()=>fetch(o,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:_i(e.authToken)}}throw await ki("Create Installation",u)}(e,t);return Ui(e.appConfig,n)}catch(fR){throw xi(fR)&&409===fR.customData.serverCode?await qi(e.appConfig):await Ui(e.appConfig,{fid:t.fid,registrationStatus:0}),fR}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Hi(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Hi(e){let t=await $i(e.appConfig);for(;1===t.registrationStatus;)await Ii(100),t=await $i(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Wi(e);return n||t}return t}function $i(e){return Vi(e,e=>{if(!e)throw wi.create("installation-not-found");return Ki(e)})}function Ki(e){return 1===(t=e).registrationStatus&&t.registrationTime+gi<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Gi(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${Si(e)}/${n}/authTokens:generate`}(n,t),o=Ei(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={installation:{sdkVersion:mi,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(s)},c=await Ti(()=>fetch(i,l));if(c.ok){return _i(await c.json())}throw await ki("Generate Auth Token",c)}async function Qi(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Vi(e.appConfig,r=>{if(!Xi(r))throw wi.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+vi}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Yi(e.appConfig);for(;1===n.authToken.requestStatus;)await Ii(100),n=await Yi(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Qi(e,t):r}(e,n),r;{if(!navigator.onLine)throw wi.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Gi(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Ui(e.appConfig,r),n}catch(fR){if(!xi(fR)||401!==fR.customData.serverCode&&404!==fR.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Ui(e.appConfig,n)}else await qi(e.appConfig);throw fR}}(e,n),n}});return t?await t:r.authToken}function Yi(e){return Vi(e,e=>{if(!Xi(e))throw wi.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+gi<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function Xi(e){return void 0!==e&&2===e.registrationStatus}async function Ji(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Wi(e);t&&await t}(n);return(await Qi(n,t)).token}function Zi(e){return wi.create("missing-app-config-values",{valueName:e})}const eo="installations",to=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Zi("App Configuration");if(!e.name)throw Zi("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Zi(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,Ce.j6)(t,"heartbeat"),_delete:()=>Promise.resolve()}},no=e=>{const t=e.getProvider("app").getImmediate(),n=(0,Ce.j6)(t,eo).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Wi(t);return r?r.catch(console.error):Qi(t).catch(console.error),n.fid}(n),getToken:e=>Ji(n,e)}};(0,Ce.om)(new je.uA(eo,to,"PUBLIC")),(0,Ce.om)(new je.uA("installations-internal",no,"PRIVATE")),(0,Ce.KO)(fi,pi),(0,Ce.KO)(fi,pi,"esm2017");const ro="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",io="google.c.a.c_id",oo=1e4;var ao,so;function lo(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function co(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(ao||(ao={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(so||(so={}));const uo="fcm_token_details_db",ho="fcm_token_object_Store";const fo="firebase-messaging-store";let po=null;function go(){return po||(po=(0,di.P2)("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(fo)}})),po}async function mo(e){const t=vo(e),n=await go(),r=await n.transaction(fo).objectStore(fo).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(uo))return null}let t=null;const n=await(0,di.P2)(uo,5,{upgrade:async(n,r,i,o)=>{var a;if(r<2)return;if(!n.objectStoreNames.contains(ho))return;const s=o.objectStore(ho),l=await s.index("fcmSenderId").get(e);if(await s.clear(),l)if(2===r){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(a=e.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:lo(e.vapidKey)}}}else if(3===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:lo(e.auth),p256dh:lo(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:lo(e.vapidKey)}}}else if(4===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:lo(e.auth),p256dh:lo(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:lo(e.vapidKey)}}}}});return n.close(),await(0,di.MR)(uo),await(0,di.MR)("fcm_vapid_details_db"),await(0,di.MR)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await yo(e,t),t}}async function yo(e,t){const n=vo(e),r=(await go()).transaction(fo,"readwrite");return await r.objectStore(fo).put(t,n),await r.done,t}function vo(e){let{appConfig:t}=e;return t.appId}const bo={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},wo=new Oe.FA("messaging","Messaging",bo);async function xo(e,t){const n={method:"DELETE",headers:await _o(e)};try{const r=await fetch(`${So(e.appConfig)}/${t}`,n),i=await r.json();if(i.error){const e=i.error.message;throw wo.create("token-unsubscribe-failed",{errorInfo:e})}}catch(tc){throw wo.create("token-unsubscribe-failed",{errorInfo:null===tc||void 0===tc?void 0:tc.toString()})}}function So(e){let{projectId:t}=e;return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}async function _o(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function ko(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:i}=e;const o={web:{endpoint:r,auth:n,p256dh:t}};return i!==ro&&(o.web.applicationPubKey=i),o}async function Ao(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:co(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:lo(t.getKey("auth")),p256dh:lo(t.getKey("p256dh"))},r=await mo(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await _o(e),r=ko(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch(`${So(e.appConfig)}/${t.token}`,i);o=await n.json()}catch(tc){throw wo.create("token-update-failed",{errorInfo:null===tc||void 0===tc?void 0:tc.toString()})}if(o.error){const e=o.error.message;throw wo.create("token-update-failed",{errorInfo:e})}if(!o.token)throw wo.create("token-update-no-token");return o.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await yo(e.firebaseDependencies,r),n}catch(fR){throw fR}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await xo(e.firebaseDependencies,r.token)}catch(fR){console.warn(fR)}return Eo(e.firebaseDependencies,n)}return Eo(e.firebaseDependencies,n)}async function Eo(e,t){const n=await async function(e,t){const n=await _o(e),r=ko(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch(So(e.appConfig),i);o=await t.json()}catch(tc){throw wo.create("token-subscribe-failed",{errorInfo:null===tc||void 0===tc?void 0:tc.toString()})}if(o.error){const e=o.error.message;throw wo.create("token-subscribe-failed",{errorInfo:e})}if(!o.token)throw wo.create("token-subscribe-no-token");return o.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await yo(e,r),r.token}function To(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,o,a;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const s=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;s&&(e.fcmOptions.link=s);const l=null===(a=t.fcmOptions)||void 0===a?void 0:a.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function Io(e){return wo.create("missing-app-config-values",{valueName:e})}!function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Po{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Io("App Configuration Object");if(!e.name)throw Io("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Io(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function No(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{}),await async function(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Service worker not registered after 10000 ms")),oo),i=e.installing||e.waiting;e.active?(clearTimeout(r),t()):i?i.onstatechange=e=>{var n;"activated"===(null===(n=e.target)||void 0===n?void 0:n.state)&&(i.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}(e.swRegistration)}catch(fR){throw wo.create("failed-service-worker-registration",{browserErrorMessage:null===fR||void 0===fR?void 0:fR.message})}}async function Co(e,t){if(!navigator)throw wo.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw wo.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=ro)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await No(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw wo.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),Ao(e)}async function Oo(e,t,n){const r=function(e){switch(e){case so.NOTIFICATION_CLICKED:return"notification_open";case so.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[io],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function Lo(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===so.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(To(n)):e.onMessageHandler.next(To(n)));const r=n.data;(function(e){return"object"===typeof e&&!!e&&io in e})(r)&&"1"===r["google.c.a.e"]&&await Oo(e,n.messageType,r)}const Do="@firebase/messaging",jo="0.12.22",Mo=e=>{const t=new Po(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>Lo(t,e)),t},Ro=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>Co(t,e)}};function Fo(e,t){return function(e,t){if(!navigator)throw wo.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=(0,Oe.Ku)(e),t)}(0,Ce.om)(new je.uA("messaging",Mo,"PUBLIC")),(0,Ce.om)(new je.uA("messaging-internal",Ro,"PRIVATE")),(0,Ce.KO)(Do,jo),(0,Ce.KO)(Do,jo,"esm2017");const Bo=(0,Ce.Wp)({apiKey:"AIzaSyBijT23EcRhPauVRP-GB_lX6OsB9T2dwpg",authDomain:"service-desk-app-c1b06.firebaseapp.com",projectId:"service-desk-app-c1b06",storageBucket:"service-desk-app-c1b06.appspot.com",messagingSenderId:"624761371800",appId:"1:624761371800:web:a49df8fb400a39b5e424ed"}),zo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Ce.Sx)();const t=(0,Ce.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,Ce.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,Oe.bD)(r,null!==t&&void 0!==t?t:{}))return e;Ue(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ii,persistence:[fr,Kn,Jn]}),r=(0,Oe.XA)("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>li)return;const r=null===t||void 0===t?void 0:t.token;ci!==r&&(ci=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){(0,Oe.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,Oe.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=(0,Oe.Tj)("auth");return o&&ln(n,`http://${o}`),n}(Bo),Uo=(0,hi.getFirestore)(Bo),qo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Ce.Sx)();return async function(){try{await(0,Oe.eX)()}catch(fR){return!1}return"undefined"!==typeof window&&(0,Oe.zW)()&&(0,Oe.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}().then(e=>{if(!e)throw wo.create("unsupported-browser")},e=>{throw wo.create("indexed-db-unsupported")}),(0,Ce.j6)((0,Oe.Ku)(e),"messaging").getImmediate()}(Bo);async function Vo(){try{if("granted"===await Notification.requestPermission()){const e=await async function(e,t){return Co(e=(0,Oe.Ku)(e),t)}(qo,{vapidKey:"BObJQw8Qw7Qw8Qw7Qw8Qw7Qw8Qw7Qw8Qw7Qw8Qw7Qw8Qw7Qw8Qw7Qw8Qw7Qw8Qw7Qw8Qw7Qw8Qw7Qw8Qw"});return e}return null}catch(tc){return null}}function Wo(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Wo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ho(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Wo(e))&&(r&&(r+=" "),r+=t);return r}const $o=Ho;!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var Ko=e=>"number"==typeof e&&!isNaN(e),Go=e=>"string"==typeof e,Qo=e=>"function"==typeof e,Yo=e=>Go(e)||Qo(e)?e:null,Xo=(e,t)=>!1===e||Ko(e)&&e>0?e:t,Jo=e=>(0,r.isValidElement)(e)||Go(e)||Qo(e)||Ko(e);function Zo(e){let{enter:t,exit:n,appendPosition:i=!1,collapse:o=!0,collapseDuration:a=300}=e;return function(e){let{children:s,position:l,preventExitTransition:c,done:u,nodeRef:h,isIn:d,playToast:f}=e,p=i?`${t}--${l}`:t,g=i?`${n}--${l}`:n,m=(0,r.useRef)(0);return(0,r.useLayoutEffect)(()=>{let e=h.current,t=p.split(" "),n=r=>{r.target===h.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,r.useEffect)(()=>{let e=h.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}(e,u,a):u()};d||(c?t():(m.current=1,e.className+=` ${g}`,e.addEventListener("animationend",t)))},[d]),r.createElement(r.Fragment,null,s)}}function ea(e,t){return{content:ta(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function ta(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.isValidElement)(e)&&!Go(e.type)?(0,r.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Qo(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function na(e){let{delay:t,isRunning:n,closeToast:i,type:o="default",hide:a,className:s,controlledProgress:l,progress:c,rtl:u,isIn:h,theme:d}=e,f=a||l&&0===c,p={animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};l&&(p.transform=`scaleX(${c})`);let g=$o("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":u}),m=Qo(s)?s({rtl:u,type:o,defaultClassName:g}):$o(g,s),y={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&i()}};return r.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},r.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${o}`}),r.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:m,style:p,...y}))}var ra=1,ia=()=>""+ra++;function oa(e,t,n){let r=1,i=0,o=[],a=[],s=t,l=new Map,c=new Set,u=()=>{a=Array.from(l.values()),c.forEach(e=>e())},h=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},d=e=>{if(null==e)l.forEach(h);else{let t=l.get(e);t&&h(t)}u()},f=e=>{var t,r;let{toastId:i,updateId:o}=e.props,a=null==o;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(i,e),u(),n(ea(e,a?"added":"updated")),a&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:s,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach(n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))})},removeToast:d,toasts:l,clearQueue:()=>{i-=o.length,o=[]},buildToast:(t,a)=>{if((t=>{let{containerId:n,toastId:r,updateId:i}=t,o=n?n!==e:1!==e,a=l.has(r)&&null==i;return o||a})(a))return;let{toastId:c,updateId:h,data:p,staleId:g,delay:m}=a,y=null==h;y&&i++;let v={...s,style:s.toastStyle,key:r++,...Object.fromEntries(Object.entries(a).filter(e=>{let[t,n]=e;return null!=n})),toastId:c,updateId:h,data:p,isIn:!1,className:Yo(a.className||s.toastClassName),progressClassName:Yo(a.progressClassName||s.progressClassName),autoClose:!a.isLoading&&Xo(a.autoClose,s.autoClose),closeToast(e){l.get(c).removalReason=e,d(c)},deleteToast(){let e=l.get(c);if(null!=e){if(n(ea(e,"removed")),l.delete(c),i--,i<0&&(i=0),o.length>0)return void f(o.shift());u()}}};v.closeButton=s.closeButton,!1===a.closeButton||Jo(a.closeButton)?v.closeButton=a.closeButton:!0===a.closeButton&&(v.closeButton=!Jo(s.closeButton)||s.closeButton);let b={content:t,props:v,staleId:g};s.limit&&s.limit>0&&i>s.limit&&y?o.push(b):Ko(m)?setTimeout(()=>{f(b)},m):f(b)},setProps(e){s=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>a}}var aa=new Map,sa=[],la=new Set,ca=e=>la.forEach(t=>t(e)),ua=()=>aa.size>0;function ha(e,t){var n;if(t)return!(null==(n=aa.get(t))||!n.isToastActive(e));let r=!1;return aa.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function da(e){if(ua()){if(null==e||(e=>Go(e)||Ko(e))(e))aa.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=aa.get(e.containerId);t?t.removeToast(e.id):aa.forEach(t=>{t.removeToast(e.id)})}}else sa=sa.filter(t=>null!=e&&t.options.toastId!==e)}function fa(e,t){Jo(e)&&(ua()||sa.push({content:e,options:t}),aa.forEach(n=>{n.buildToast(e,t)}))}function pa(e,t){aa.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function ga(e){let t=e.containerId||1;return{subscribe(n){let r=oa(t,e,ca);aa.set(t,r);let i=r.observe(n);return sa.forEach(e=>fa(e.content,e.options)),sa=[],()=>{i(),aa.delete(t)}},setProps(e){var n;null==(n=aa.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=aa.get(t))?void 0:e.getSnapshot()}}}function ma(e){return e&&(Go(e.toastId)||Ko(e.toastId))?e.toastId:ia()}function ya(e,t){return fa(e,t),t.toastId}function va(e,t){return{...t,type:t&&t.type||e,toastId:ma(t)}}function ba(e){return(t,n)=>ya(t,va(e,n))}function wa(e,t){return ya(e,va("default",t))}function xa(e){let[t,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),a=(0,r.useRef)(null),s=(0,r.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:h,closeOnClick:d}=e;function f(){n(!0)}function p(){n(!1)}function g(n){let r=a.current;if(s.canDrag&&r){s.didMove=!0,t&&p(),"x"===e.draggableDirection?s.delta=n.clientX-s.start:s.delta=n.clientY-s.start,s.start!==n.clientX&&(s.canCloseOnClick=!1);let i="x"===e.draggableDirection?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`;r.style.transform=`translate3d(${i},0)`,r.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance))}}function m(){document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",m);let t=a.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return o(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=aa.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),(0,r.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",f),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",p)}},[e.pauseOnFocusLoss]);let y={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){s.didMove=!1,document.addEventListener("pointermove",g),document.addEventListener("pointerup",m);let n=a.current;s.canCloseOnClick=!0,s.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(s.start=t.clientX,s.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(s.start=t.clientY,s.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:i,right:o}=a.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=o&&t.clientY>=n&&t.clientY<=r?p():f()}};return l&&c&&(y.onMouseEnter=p,e.stacked||(y.onMouseLeave=f)),d&&(y.onClick=e=>{h&&h(e),s.canCloseOnClick&&u(!0)}),{playToast:f,pauseToast:p,isRunning:t,preventExitTransition:i,toastRef:a,eventHandlers:y}}wa.loading=(e,t)=>ya(e,va("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),wa.promise=function(e,t,n){let r,{pending:i,error:o,success:a}=t;i&&(r=Go(i)?wa.loading(i,n):wa.loading(i.render,{...n,...i}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void wa.dismiss(r);let o={type:e,...s,...n,data:i},a=Go(t)?{render:t}:t;return r?wa.update(r,{...o,...a}):wa(a.render,{...o,...a}),i},c=Qo(e)?e():e;return c.then(e=>l("success",a,e)).catch(e=>l("error",o,e)),c},wa.success=ba("success"),wa.info=ba("info"),wa.error=ba("error"),wa.warning=ba("warning"),wa.warn=wa.warning,wa.dark=(e,t)=>ya(e,va("default",{theme:"dark",...t})),wa.dismiss=function(e){da(e)},wa.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};aa.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},wa.isActive=ha,wa.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=aa.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:ia()};o.toastId!==e&&(o.staleId=e);let a=o.render||i;delete o.render,ya(a,o)}},wa.done=e=>{wa.update(e,{progress:1})},wa.onChange=function(e){return la.add(e),()=>{la.delete(e)}},wa.play=e=>pa(!0,e),wa.pause=e=>pa(!1,e);var Sa="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,_a=e=>{let{theme:t,type:n,isLoading:i,...o}=e;return r.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...o})};var ka={info:function(e){return r.createElement(_a,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(_a,{...e},r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(_a,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(_a,{...e},r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function Aa(e){let{theme:t,type:n,isLoading:i,icon:o}=e,a=null,s={theme:t,type:n};return!1===o||(Qo(o)?a=o({...s,isLoading:i}):(0,r.isValidElement)(o)?a=(0,r.cloneElement)(o,s):i?a=ka.spinner():(e=>e in ka)(n)&&(a=ka[n](s))),a}var Ea=e=>{let{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:o,playToast:a}=xa(e),{closeButton:s,children:l,autoClose:c,onClick:u,type:h,hideProgressBar:d,closeToast:f,transition:p,position:g,className:m,style:y,progressClassName:v,updateId:b,role:w,progress:x,rtl:S,toastId:_,deleteToast:k,isIn:A,isLoading:E,closeOnClick:T,theme:I,ariaLabel:P}=e,N=$o("Toastify__toast",`Toastify__toast-theme--${I}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":T}),C=Qo(m)?m({rtl:S,position:g,type:h,defaultClassName:N}):$o(N,m),O=Aa(e),L=!!x||!c,D={closeToast:f,type:h,theme:I},j=null;return!1===s||(j=Qo(s)?s(D):(0,r.isValidElement)(s)?(0,r.cloneElement)(s,D):function(e){let{closeToast:t,theme:n,ariaLabel:i="close"}=e;return r.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":i},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(D)),r.createElement(p,{isIn:A,done:k,position:g,preventExitTransition:n,nodeRef:i,playToast:a},r.createElement("div",{id:_,tabIndex:0,onClick:u,"data-in":A,className:C,...o,style:y,ref:i,...A&&{role:w,"aria-label":P}},null!=O&&r.createElement("div",{className:$o("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!E})},O),ta(l,e,!t),j,!e.customProgressBar&&r.createElement(na,{...b&&!L?{key:`p-${b}`}:{},rtl:S,theme:I,delay:c,isRunning:t,isIn:A,closeToast:f,hide:d,type:h,className:v,controlledProgress:L,progress:x||0})))},Ta=function(e){return{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},Ia=Zo(Ta("bounce",!0)),Pa=(Zo(Ta("slide",!0)),Zo(Ta("zoom")),Zo(Ta("flip")),{position:"top-right",transition:Ia,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Na(e){let t={...Pa,...e},n=e.stacked,[i,o]=(0,r.useState)(!0),a=(0,r.useRef)(null),{getToastToRender:s,isToastActive:l,count:c}=function(e){var t;let{subscribe:n,getSnapshot:i,setProps:o}=(0,r.useRef)(ga(e)).current;o(e);let a=null==(t=(0,r.useSyncExternalStore)(n,i,i))?void 0:t.slice();return{getToastToRender:function(t){if(!a)return[];let n=new Map;return e.newestOnTop&&a.reverse(),a.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:ha,count:null==a?void 0:a.length}}(t),{className:u,style:h,rtl:d,containerId:f,hotKeys:p}=t;function g(e){let t=$o("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":d});return Qo(u)?u({position:e,rtl:d,defaultClassName:t}):$o(t,Yo(u))}function m(){n&&(o(!0),wa.play())}return Sa(()=>{var e;if(n){let n=a.current.querySelectorAll('[data-in="true"]'),r=12,o=null==(e=t.position)?void 0:e.includes("top"),s=0,l=0;Array.from(n).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${i}`),n.dataset.pos||(n.dataset.pos=o?"top":"bot");let a=s*(i?.2:1)+(i?0:r*t);n.style.setProperty("--y",`${o?a:-1*a}px`),n.style.setProperty("--g",`${r}`),n.style.setProperty("--s",""+(1-(i?l:0))),s+=n.offsetHeight,l+=.025})}},[i,c,n]),(0,r.useEffect)(()=>{function e(e){var t;let n=a.current;p(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),o(!1),wa.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(o(!0),wa.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[p]),r.createElement("section",{ref:a,className:"Toastify",id:f,onMouseEnter:()=>{n&&(o(!1),wa.pause())},onMouseLeave:m,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},s((e,t)=>{let i=t.length?{...h}:{...h,pointerEvents:"none"};return r.createElement("div",{tabIndex:-1,className:g(e),"data-stacked":n,style:i,key:`c-${e}`},t.map(e=>{let{content:t,props:i}=e;return r.createElement(Ea,{...i,stacked:n,collapseAll:m,isIn:l(i.toastId,i.containerId),key:`t-${i.key}`},t)}))}))}var Ca={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Oa=r.createContext&&r.createContext(Ca),La=["attr","size","title"];function Da(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ja.apply(this,arguments)}function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(n),!0).forEach(function(t){Fa(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fa(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ba(e){return e&&e.map((e,t)=>r.createElement(e.tag,Ra({key:t},e.attr),Ba(e.child)))}function za(e){return t=>r.createElement(Ua,ja({attr:Ra({},e.attr)},t),Ba(e.child))}function Ua(e){var t=t=>{var n,{attr:i,size:o,title:a}=e,s=Da(e,La),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",ja({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:Ra(Ra({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&r.createElement("title",null,a),e.children)};return void 0!==Oa?r.createElement(Oa.Consumer,null,e=>t(e)):t(Ca)}function qa(e){return za({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Va(e){return za({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function Wa(e){return za({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Ha(e){return za({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function $a(e){return za({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function Ka(e){return za({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Ga(e){return za({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(e)}function Qa(e){return za({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(e)}function Ya(e){return za({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Xa(e){return za({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}var Ja=n(579);const Za=function(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(""),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),[h,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)(""),[g,m]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[x,S]=(0,r.useState)(!1),[_,k]=(0,r.useState)(!1),[A,E]=(0,r.useState)(null),[T,I]=(0,r.useState)(null),[P,N]=(0,r.useState)(!1),C=(0,r.useRef)(),O=Z();return(0,r.useEffect)(()=>{const e=zo.onAuthStateChanged(async e=>{if(I(e),e){const t=await(0,hi.getDoc)((0,hi.doc)(Uo,"users",e.uid)),n=t.exists()?t.data().role:"user";E(n),O("admin"===n?"/admin":"/dashboard")}});return()=>e()},[O]),T&&A?null:(0,Ja.jsxs)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"flex-start",justifyContent:"center",background:"none",position:"relative"},children:[b&&(0,Ja.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(255,255,255,0.45)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Ja.jsx)("div",{style:{border:"6px solid #e3eafe",borderTop:"6px solid #6e8efb",borderRadius:"50%",width:48,height:48,animation:"spin 1s linear infinite"}})}),(0,Ja.jsxs)("div",{ref:C,className:"login-card",style:{background:_?"#222":"rgba(255,255,255,0.55)",color:_?"#fff":void 0,padding:48,borderRadius:28,boxShadow:"0 8px 32px 0 rgba(106,142,251,0.13)",width:380,backdropFilter:"blur(18px)",border:"1.5px solid rgba(255,255,255,0.25)",display:"flex",flexDirection:"column",alignItems:"center",transition:"transform 0.2s, background 0.2s, color 0.2s",animation:x?"shake 0.6s":"none"},role:"form","aria-label":"Login form",children:[(0,Ja.jsx)("button",{onClick:()=>k(e=>!e),"aria-label":_?"Disable high contrast mode":"Enable high contrast mode",style:{alignSelf:"flex-end",marginBottom:8,background:_?"#ffd600":"#e3eafe",color:_?"#222":"#6e8efb",border:"none",borderRadius:8,padding:"6px 16px",fontWeight:700,fontSize:14,cursor:"pointer",boxShadow:"0 1px 4px #6e8efb22",transition:"background 0.2s, color 0.2s",outline:"none"},tabIndex:0,children:_?"Standard Mode":"High Contrast"}),(0,Ja.jsx)("img",{src:"/logo.png",alt:"App Logo",style:{width:64,height:64,marginBottom:18,filter:"drop-shadow(0 2px 8px #6e8efb55)"}}),(0,Ja.jsx)("h2",{style:{marginBottom:10,textAlign:"center",fontWeight:800,color:_?"#ffd600":"#6e8efb",fontSize:28,letterSpacing:1.2},children:"Login"}),(0,Ja.jsx)("div",{style:{marginBottom:22,color:_?"#ffd600":"#888",fontSize:16,textAlign:"center",fontWeight:500},children:"Welcome back! Sign in to access your Service Desk."}),h?(0,Ja.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),f)try{await async function(e,t,n){const r=Qt(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Bn(r,i,n),await an(r,i,"getOobCode",gn,"EMAIL_PASSWORD_PROVIDER")}(zo,f),wa.success("Password reset email sent."),d(!1),p("")}catch{wa.error("Failed to send password reset email.")}else wa.error("Please enter your email.")},style:{width:"100%"},"aria-label":"Password reset form",children:[(0,Ja.jsx)("input",{type:"email",placeholder:"Enter your email",value:f,onChange:e=>p(e.target.value),required:!0,"aria-label":"Email address for password reset",style:{width:"100%",marginBottom:18,padding:16,borderRadius:12,border:_?"1.5px solid #ffd600":"1.5px solid #e3eafe",fontSize:17,background:_?"#111":"rgba(255,255,255,0.95)",color:_?"#fff":void 0,boxShadow:"0 1px 6px #6e8efb11",transition:"border 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.border="1.5px solid #6e8efb",onBlur:e=>e.target.style.border=_?"1.5px solid #ffd600":"1.5px solid #e3eafe",tabIndex:0}),(0,Ja.jsx)("button",{type:"submit","aria-label":"Send password reset email",style:{width:"100%",padding:14,borderRadius:999,background:_?"#ffd600":"linear-gradient(90deg, #6e8efb 60%, #a777e3 100%)",color:_?"#222":"#fff",fontWeight:700,fontSize:17,border:"none",cursor:"pointer",marginBottom:10,boxShadow:"0 2px 8px #6e8efb22",transition:"background 0.2s",outline:"none"},tabIndex:0,children:"Send Reset Email"}),(0,Ja.jsx)("div",{style:{textAlign:"center",marginTop:10},children:(0,Ja.jsx)("button",{type:"button",onClick:()=>d(!1),"aria-label":"Back to login",style:{background:"none",color:_?"#ffd600":"#6e8efb",border:"none",fontWeight:600,cursor:"pointer",textDecoration:"underline",fontSize:15,outline:"none"},tabIndex:0,children:"Back to Login"})})]}):(0,Ja.jsxs)(Ja.Fragment,{children:[(0,Ja.jsx)("button",{className:"google-signin-btn","aria-label":"Sign in with Google",onClick:async()=>{w(!0);try{const e=new Tn,t=await Er(zo,e);if(!t.user.emailVerified&&"password"===t.user.providerData[0].providerId)return wa.error("Please verify your email."),w(!1),S(!0),void setTimeout(()=>S(!1),600);O("/dashboard"),wa.success("Logged in with Google")}catch{wa.error("Google sign-in failed."),w(!1),S(!0),setTimeout(()=>S(!1),600)}w(!1)},style:{width:"100%",padding:"12px 0",borderRadius:"8px",background:"#fff",color:"#175873",fontWeight:700,fontSize:"16px",border:"1px solid #c8d8e4",cursor:"pointer",marginBottom:"18px",boxShadow:"0 2px 8px #c8d8e422",transition:"background 0.2s, color 0.2s",outline:"none"},children:"Sign in with Google"}),(0,Ja.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),a(""),l(!1),w(!0);try{const t=await function(e,t,n){return(0,Ce.xZ)(e.app)?Promise.reject(We(e)):Fn((0,Oe.Ku)(e),_n.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&zn(e),t})}(zo,e,n),r=await(0,hi.getDoc)((0,hi.doc)(Uo,"users",t.user.uid)),i=r.exists()?r.data().role:"user";if(E(i),!t.user.emailVerified)return l(!0),u(t.user),a("Email not verified. Please check your inbox."),w(!1),S(!0),void setTimeout(()=>S(!1),600);O("admin"===i?"/admin":"/dashboard")}catch(tc){a(tc.message),w(!1),S(!0),setTimeout(()=>S(!1),600)}w(!1)},style:{width:"100%"},"aria-label":"Login form",children:[(0,Ja.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),required:!0,"aria-label":"Email address",style:{width:"100%",marginBottom:18,padding:16,borderRadius:12,border:_?"1.5px solid #ffd600":"1.5px solid #e3eafe",fontSize:17,background:_?"#111":"rgba(255,255,255,0.95)",color:_?"#fff":void 0,boxShadow:"0 1px 6px #6e8efb11",transition:"border 0.2s, box-shadow 0.2s"},onFocus:e=>e.target.style.border="1.5px solid #6e8efb",onBlur:e=>e.target.style.border=_?"1.5px solid #ffd600":"1.5px solid #e3eafe",tabIndex:0}),(0,Ja.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,Ja.jsx)("input",{type:g?"text":"password",placeholder:"Password",value:n,onChange:e=>i(e.target.value),required:!0,"aria-label":"Password",style:{width:"100%",marginBottom:18,padding:16,borderRadius:12,border:_?"1.5px solid #ffd600":"1.5px solid #e3eafe",fontSize:17,background:_?"#111":"rgba(255,255,255,0.95)",color:_?"#fff":void 0,boxShadow:"0 1px 6px #6e8efb11",transition:"border 0.2s, box-shadow 0.2s"}}),(0,Ja.jsx)("span",{onClick:()=>m(e=>!e),style:{position:"absolute",right:16,top:14,cursor:"pointer",color:_?"#ffd600":"#888",fontSize:20},"aria-label":g?"Hide password":"Show password",tabIndex:0,role:"button",children:g?(0,Ja.jsx)(Ha,{}):(0,Ja.jsx)($a,{})})]}),(0,Ja.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:18},children:[(0,Ja.jsx)("input",{type:"checkbox",id:"rememberMe",checked:y,onChange:e=>v(e.target.checked),style:{accentColor:_?"#ffd600":"#6e8efb",width:18,height:18}}),(0,Ja.jsx)("label",{htmlFor:"rememberMe",style:{fontSize:15,color:_?"#ffd600":"#555",margin:0,cursor:"pointer"},children:"Remember Me"})]}),(0,Ja.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:18},children:[(0,Ja.jsx)("input",{type:"checkbox",id:"acceptTerms",checked:P,onChange:e=>N(e.target.checked),style:{accentColor:_?"#ffd600":"#6e8efb",width:18,height:18},required:!0}),(0,Ja.jsxs)("label",{htmlFor:"acceptTerms",style:{fontSize:15,color:_?"#ffd600":"#555",margin:0,cursor:"pointer"},children:["I accept the ",(0,Ja.jsx)("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",style:{color:"#2b6777",textDecoration:"underline"},children:"Terms and Conditions"})]})]}),(0,Ja.jsxs)("button",{type:"submit",style:{width:"100%",padding:14,borderRadius:999,background:"linear-gradient(90deg, #6e8efb 60%, #a777e3 100%)",color:"#fff",fontWeight:700,fontSize:17,border:"none",cursor:P&&!b?"pointer":"not-allowed",marginBottom:8,opacity:P&&!b?1:.6},disabled:!P||b,children:[" ",b?"Logging in...":"Login"]})]}),(0,Ja.jsxs)("div",{style:{textAlign:"center",marginTop:8},children:[(0,Ja.jsx)("span",{style:{color:"#888"},children:"Don't have an account? "}),(0,Ja.jsx)(Ie,{to:"/register",style:{color:"#2b6777",textDecoration:"none",fontWeight:500},children:"Register"})]}),(0,Ja.jsx)("div",{style:{textAlign:"center",marginTop:8},children:(0,Ja.jsx)("button",{onClick:()=>d(!0),style:{background:"none",border:"none",color:_?"#ffd600":"#2b6777",textDecoration:"underline",fontWeight:500,fontSize:15,cursor:"pointer"},children:"Forgot Password?"})}),o&&(0,Ja.jsx)("div",{style:{color:"red",marginTop:16,textAlign:"center"},children:o}),s&&(0,Ja.jsxs)("div",{style:{color:"#e57373",marginTop:16,textAlign:"center"},children:["Email not verified. ",(0,Ja.jsx)("button",{onClick:async()=>{if(c)try{await Un(c),wa.success("Verification email sent.")}catch{wa.error("Failed to send verification email.")}},style:{color:"#2b6777",background:"none",border:"none",textDecoration:"underline",cursor:"pointer"},children:"Resend Verification"})]})]})]})]})};function es(e){let{password:t}=e;const{label:n,color:r,width:i}=(o=t)?o.length<6?{label:"Weak",color:"#e57373",width:"33%"}:o.match(/^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*]).{8,}$/)?{label:"Strong",color:"#43a047",width:"100%"}:o.length>=6?{label:"Medium",color:"#ffd600",width:"66%"}:{label:"Weak",color:"#e57373",width:"33%"}:{label:"",color:"",width:"0%"};var o;return(0,Ja.jsxs)("div",{style:{height:8,background:"#eee",borderRadius:6,marginTop:4,marginBottom:2,width:"100%"},children:[(0,Ja.jsx)("div",{style:{height:8,borderRadius:6,width:i,background:r,transition:"width 0.3s, background 0.3s"}}),(0,Ja.jsx)("div",{style:{fontSize:12,color:r,fontWeight:700,marginTop:2},children:n})]})}const ts=function(){const[e,t]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[d,f]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[m,y]=(0,r.useState)(""),[v,b]=(0,r.useState)(null),[w,x]=(0,r.useState)(null),S=Z();return(0,r.useEffect)(()=>{const e=zo.onAuthStateChanged(async e=>{if(x(e),e){const t=await Promise.resolve().then(n.bind(n,5472)).then(t=>{let{doc:n,getDoc:r}=t;return r(n(Uo,"users",e.uid))}),r=t.exists()?t.data().role:"user";b(r),S("admin"===r?"/admin":"/dashboard")}});return()=>e()},[S]),w&&v?null:(0,Ja.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"flex-start",justifyContent:"center",background:"none",position:"relative"},children:(0,Ja.jsxs)("div",{className:"login-card",style:{background:"rgba(255,255,255,0.55)",padding:48,borderRadius:28,boxShadow:"0 8px 32px 0 rgba(106,142,251,0.13)",width:380,border:"1.5px solid rgba(255,255,255,0.25)",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Ja.jsx)("img",{src:"/logo.png",alt:"App Logo",style:{width:64,height:64,marginBottom:18,filter:"drop-shadow(0 2px 8px #6e8efb55)"}}),(0,Ja.jsx)("h2",{style:{marginBottom:10,textAlign:"center",fontWeight:800,color:"#6e8efb",fontSize:28,letterSpacing:1.2},children:"Register"}),(0,Ja.jsx)("div",{style:{marginBottom:22,color:"#888",fontSize:16,textAlign:"center",fontWeight:500},children:"Create your account to access the Service Desk."}),(0,Ja.jsx)("button",{onClick:async()=>{s(""),c(""),g(!0);try{const e=new Tn;await Er(zo,e),c("Registration successful. You are now signed in."),S("/dashboard")}catch(tc){s("Google sign-up failed.")}g(!1)},style:{width:"100%",padding:12,borderRadius:8,background:"#fff",color:"#175873",fontWeight:700,fontSize:16,border:"1px solid #c8d8e4",cursor:"pointer",marginBottom:18,boxShadow:"0 2px 8px #c8d8e422",transition:"background 0.2s, color 0.2s",outline:"none"},children:"Sign up with Google"}),(0,Ja.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),s(""),c("");try{const n=await async function(e,t,n){if((0,Ce.xZ)(e.app))return Promise.reject(We(e));const r=Qt(e),i=an(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nn,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&zn(e),t}),a=await Cn._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(zo,e,i);await Un(n.user);const r="ADMIN2024"===m?"admin":"user";await(0,hi.setDoc)((0,hi.doc)(Uo,"users",n.user.uid),{name:u,email:e,role:r}),c("Registration successful. Please check your email to verify your account."),t(""),o(""),y(""),S("admin"===r?"/admin":"/dashboard")}catch(tc){s(tc.message)}},style:{width:"100%"},children:[(0,Ja.jsx)("input",{type:"text",placeholder:"Name",value:u,onChange:e=>h(e.target.value),required:!0,style:{width:"100%",marginBottom:16,padding:12,borderRadius:12,border:"1.5px solid #e3eafe",fontSize:17,background:"rgba(255,255,255,0.95)",boxShadow:"0 1px 6px #6e8efb11",transition:"border 0.2s, box-shadow 0.2s"}}),(0,Ja.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),required:!0,style:{width:"100%",marginBottom:16,padding:12,borderRadius:12,border:"1.5px solid #e3eafe",fontSize:17,background:"rgba(255,255,255,0.95)",boxShadow:"0 1px 6px #6e8efb11",transition:"border 0.2s, box-shadow 0.2s"}}),(0,Ja.jsx)("input",{type:"password",placeholder:"Password",value:i,onChange:e=>o(e.target.value),required:!0,style:{width:"100%",marginBottom:8,padding:12,borderRadius:12,border:"1.5px solid #e3eafe",fontSize:17,background:"rgba(255,255,255,0.95)",boxShadow:"0 1px 6px #6e8efb11",transition:"border 0.2s, box-shadow 0.2s"}}),(0,Ja.jsx)("input",{type:"text",placeholder:"Admin Code (optional)",value:m,onChange:e=>y(e.target.value),style:{width:"100%",marginBottom:8,padding:12,borderRadius:12,border:"1.5px solid #e3eafe",fontSize:17,background:"rgba(255,255,255,0.95)",boxShadow:"0 1px 6px #6e8efb11",transition:"border 0.2s, box-shadow 0.2s"}}),(0,Ja.jsxs)("div",{style:{fontSize:13,color:"#888",marginBottom:8},children:["Use code ",(0,Ja.jsx)("b",{children:"ADMIN2024"})," to register as an admin."]}),(0,Ja.jsx)(es,{password:i}),(0,Ja.jsxs)("div",{style:{display:"flex",alignItems:"center",margin:"12px 0"},children:[(0,Ja.jsx)("input",{type:"checkbox",id:"acceptTerms",checked:d,onChange:e=>f(e.target.checked),required:!0,style:{marginRight:8}}),(0,Ja.jsxs)("label",{htmlFor:"acceptTerms",style:{fontSize:14,color:"#555"},children:["I accept the ",(0,Ja.jsx)("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",style:{color:"#2b6777",textDecoration:"underline"},children:"Terms of Service"})," and ",(0,Ja.jsx)("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",style:{color:"#2b6777",textDecoration:"underline"},children:"Privacy Policy"})]})]}),(0,Ja.jsxs)("button",{type:"submit",disabled:!d||!u||!e||!i||p,style:{width:"100%",padding:14,borderRadius:999,background:"linear-gradient(90deg, #6e8efb 60%, #a777e3 100%)",color:"#fff",fontWeight:700,fontSize:17,border:"none",cursor:d&&u&&e&&i&&!p?"pointer":"not-allowed",marginBottom:8,opacity:d&&u&&e&&i&&!p?1:.6},children:[" ",p?"Registering...":"Register"]})]}),(0,Ja.jsxs)("div",{style:{textAlign:"center",marginTop:8},children:[(0,Ja.jsx)("span",{style:{color:"#888"},children:"Already have an account? "}),(0,Ja.jsx)(Ie,{to:"/login",style:{color:"#2b6777",textDecoration:"none",fontWeight:500},children:"Login"})]}),a&&(0,Ja.jsx)("div",{style:{color:"red",marginTop:16,textAlign:"center"},children:a}),l&&(0,Ja.jsx)("div",{style:{color:"#2b6777",marginTop:16,textAlign:"center"},children:l})]})})},ns="firebasestorage.googleapis.com",rs="storageBucket";class is extends Oe.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(ss(e),`Firebase Storage: ${t} (${ss(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,is.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ss(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var os,as;function ss(e){return"storage/"+e}function ls(){return new is(os.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function cs(){return new is(os.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function us(){return new is(os.CANCELED,"User canceled the upload/download.")}function hs(){return new is(os.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ds(e){return new is(os.INVALID_ARGUMENT,e)}function fs(){return new is(os.APP_DELETED,"The Firebase app was deleted.")}function ps(e,t){return new is(os.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function gs(e){throw new is(os.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(os||(os={}));class ms{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=ms.makeFromUrl(e,t)}catch(fR){return new ms(e,"")}if(""===n.path)return n;throw r=e,new is(os.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===ns?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new ms(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new is(os.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class ys{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function vs(e){return"string"===typeof e||e instanceof String}function bs(e){return ws()&&e instanceof Blob}function ws(){return"undefined"!==typeof Blob}function xs(e,t,n,r){if(r<t)throw ds(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw ds(`Invalid value for '${e}'. Expected ${n} or less.`)}function Ss(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function _s(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function ks(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(as||(as={}));class As{constructor(e,t,n,r,i,o,a,s,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],d=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Es(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===as.NO_ERROR,i=n.getStatus();if(!t||ks(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===as.ABORT;return void e(!1,new Es(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Es(o,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(fR){r(fR)}else if(null!==i){const e=ls();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?fs():us())}else{r(cs())}};this.canceled_?t(0,new Es(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function d(){o&&clearTimeout(o)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),h(o)}let p=!1;function g(e){p||(p=!0,d(),c||(null!==i?(e||(s=2),clearTimeout(i),h(0)):e||(s=1)))}return h(0),o=setTimeout(()=>{a=!0,g(!0)},n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Es{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Ts(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Is(){const e=Ts();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(ws())return new Blob(n);throw new is(os.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Ps(e){if("undefined"===typeof atob)throw t="base-64",new is(os.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const Ns="raw",Cs="base64",Os="base64url",Ls="data_url";class Ds{constructor(e,t){this.data=e,this.contentType=t||null}}function js(e,t){switch(e){case Ns:return new Ds(Ms(t));case Cs:case Os:return new Ds(Rs(e,t));case Ls:return new Ds(function(e){const t=new Fs(e);return t.base64?Rs(Cs,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(fR){throw ps(Ls,"Malformed data URL.")}return Ms(t)}(t.rest)}(t),new Fs(t).contentType)}throw ls()}function Ms(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Rs(e,t){switch(e){case Cs:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw ps(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Os:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw ps(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ps(t)}catch(fR){if(fR.message.includes("polyfill"))throw fR;throw ps(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Fs{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw ps(Ls,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Bs{constructor(e,t){let n=0,r="";bs(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(bs(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Bs(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Bs(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(ws()){const e=t.map(e=>e instanceof Bs?e.data_:e);return new Bs(Is.apply(null,e))}{const e=t.map(e=>vs(e)?js(Ns,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new Bs(r,!0)}}uploadData(){return this.data_}}function zs(e){let t;try{t=JSON.parse(e)}catch(fR){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Us(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function qs(e,t){return t}class Vs{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||qs}}let Ws=null;function Hs(){if(Ws)return Ws;const e=[];e.push(new Vs("bucket")),e.push(new Vs("generation")),e.push(new Vs("metageneration")),e.push(new Vs("name","fullPath",!0));const t=new Vs("name");t.xform=function(e,t){return function(e){return!vs(e)||e.length<2?e:Us(e)}(t)},e.push(t);const n=new Vs("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Vs("timeCreated")),e.push(new Vs("updated")),e.push(new Vs("md5Hash",null,!0)),e.push(new Vs("cacheControl",null,!0)),e.push(new Vs("contentDisposition",null,!0)),e.push(new Vs("contentEncoding",null,!0)),e.push(new Vs("contentLanguage",null,!0)),e.push(new Vs("contentType",null,!0)),e.push(new Vs("metadata","customMetadata",!0)),Ws=e,Ws}function $s(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new ms(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Ks(e,t,n){const r=zs(t);if(null===r)return null;return $s(e,r,n)}function Gs(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Qs{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ys(e){if(!e)throw ls()}function Xs(e,t){return function(n,r){const i=Ks(e,r,t);return Ys(null!==i),i}}function Js(e,t){return function(n,r){const i=Ks(e,r,t);return Ys(null!==i),function(e,t,n,r){const i=zs(t);if(null===i)return null;if(!vs(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const a=encodeURIComponent,s=o.split(",").map(t=>{const i=e.bucket,o=e.fullPath;return Ss("/b/"+a(i)+"/o/"+a(o),n,r)+_s({alt:"media",token:t})});return s[0]}(i,r,e.host,e._protocol)}}function Zs(e){return function(t,n){let r;var i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new is(os.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new is(os.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new is(os.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):r=403===t.getStatus()?function(e){return new is(os.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}(e.path):n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function el(e){const t=Zs(e);return function(n,r){let i=t(n,r);return 404===n.getStatus()&&(i=function(e){return new is(os.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}(e.path)),i.serverResponse=r.serverResponse,i}}function tl(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function nl(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const s=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;const l=tl(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Gs(l,n)+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+s+"--",h=Bs.getBlob(c,r,u);if(null===h)throw hs();const d={name:l.fullPath},f=Ss(o,e.host,e._protocol),p=e.maxUploadRetryTime,g=new Qs(f,"POST",Xs(e,n),p);return g.urlParams=d,g.headers=a,g.body=h.uploadData(),g.errorHandler=Zs(t),g}class rl{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=as.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=as.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=as.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r,i){if(this.sent_)throw gs("cannot .send() more than once");if((0,Oe.zJ)(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gs("cannot .getStatus() before sending");try{return this.xhr_.status}catch(fR){return-1}}getResponse(){if(!this.sent_)throw gs("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gs("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class il extends rl{initXhr(){this.xhr_.responseType="text"}}function ol(){return new il}class al{constructor(e,t){this._service=e,this._location=t instanceof ms?t:ms.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new al(e,t)}get root(){const e=new ms(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Us(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new ms(this._location.bucket,e);return new al(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new is(os.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function sl(e,t,n){e._throwIfRoot("uploadBytes");const r=nl(e.storage,e._location,Hs(),new Bs(t,!0),n);return e.storage.makeRequestWithTokens(r,ol).then(t=>({metadata:t,ref:e}))}function ll(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Ss(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Qs(r,"GET",Js(e,n),i);return o.errorHandler=el(t),o}(e.storage,e._location,Hs());return e.storage.makeRequestWithTokens(t,ol).then(e=>{if(null===e)throw new is(os.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function cl(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new ms(e._location.bucket,n);return new al(e.storage,r)}function ul(e,t){if(e instanceof fl){const n=e;if(null==n._bucket)throw new is(os.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rs+"' property when initializing the app?");const r=new al(n,n._bucket);return null!=t?ul(r,t):r}return void 0!==t?cl(e,t):e}function hl(e,t){if(t&&function(e){return/^[A-Za-z]+:\/\//.test(e)}(t)){if(e instanceof fl)return new al(e,t);throw ds("To use ref(service, url), the first argument must be a Storage instance.")}return ul(e,t)}function dl(e,t){const n=null===t||void 0===t?void 0:t[rs];return null==n?null:ms.makeFromBucketSpec(n,e)}class fl{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=ns,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ms.makeFromBucketSpec(r,this._host):dl(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=ms.makeFromBucketSpec(this._url,e):this._bucket=dl(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xs("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xs("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,Ce.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new al(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new ys(fs());{const o=function(e,t,n,r,i,o){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=_s(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new As(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a,s)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const pl="@firebase/storage",gl="0.13.14",ml="storage";function yl(e,t,n){return sl(e=(0,Oe.Ku)(e),t,n)}function vl(e){return ll(e=(0,Oe.Ku)(e))}function bl(e,t){return hl(e=(0,Oe.Ku)(e),t)}function wl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Ce.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,Oe.Ku)(e);const n=(0,Ce.j6)(e,ml).getImmediate({identifier:t}),r=(0,Oe.yU)("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`;const i=(0,Oe.zJ)(t);i&&((0,Oe.gE)(`https://${e.host}/b`),(0,Oe.P1)("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:(0,Oe.Fy)(o,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function xl(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new fl(r,i,o,n,Ce.MF)}function Sl(){const e=[{q:"What is the Service Desk App?",a:"The Service Desk App is a platform for users to raise, track, and manage support tickets. It features user authentication, ticket creation, admin management, and real-time updates."},{q:"How do I create a new support ticket?",a:"After logging in, click the + button on your dashboard to open the ticket creation form. Fill in the details and submit."},{q:"Can I attach files to my tickets?",a:"Yes, you can optionally attach files when creating a ticket to provide more context or evidence."},{q:"What can admins do?",a:"Admins can view and manage all tickets, assign tickets, update statuses, and access analytics dashboards."},{q:"How is my data secured?",a:"All authentication and data storage are handled securely via Firebase."},{q:"I forgot my password. What should I do?",a:"Use the Forgot Password link on the login page to reset your password via email."},{q:"How do I contact support?",a:(0,Ja.jsxs)(Ja.Fragment,{children:["Email us at ",(0,Ja.jsx)("a",{href:"mailto:sharmakrishna1605@gmail.com?cc=user@example.com",style:{color:"#6e8efb",textDecoration:"underline"},children:"sharmakrishna1605@gmail.com"})," and our team will assist you."]})}],t=(e,t)=>(0,Ja.jsxs)("div",{style:{marginBottom:32,textAlign:"left",display:"flex",alignItems:"flex-start",gap:14},children:[(0,Ja.jsx)("div",{style:{minWidth:32,height:32,borderRadius:"50%",background:"#6e8efb",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:17,marginTop:2,boxShadow:"0 2px 8px #6e8efb22"},children:t+1}),(0,Ja.jsxs)("div",{children:[(0,Ja.jsx)("div",{style:{fontWeight:700,color:"#2b6777",fontSize:18,marginBottom:6},children:e.q}),(0,Ja.jsx)("div",{style:{color:"#333",fontSize:16,lineHeight:1.6},children:e.a})]})]},t);return(0,Ja.jsxs)("div",{className:"card",style:{maxWidth:800,margin:"60px auto",textAlign:"center",padding:48,boxShadow:"0 8px 32px 0 rgba(106,142,251,0.13)",borderRadius:32},children:[(0,Ja.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:32},children:[(0,Ja.jsx)(Ga,{style:{color:"#6e8efb",fontSize:48,marginBottom:8}}),(0,Ja.jsx)("h2",{style:{color:"#6e8efb",fontWeight:800,marginBottom:6,fontSize:32,letterSpacing:1},children:"Help & Support"}),(0,Ja.jsx)("div",{style:{color:"#555",fontSize:18,marginBottom:0,maxWidth:520},children:"Need assistance? Check our FAQ below or contact our support team."})]}),(0,Ja.jsxs)("div",{style:{display:"flex",gap:40,flexWrap:"wrap",justifyContent:"center",alignItems:"flex-start"},children:[(0,Ja.jsx)("div",{style:{flex:1,minWidth:280,maxWidth:360},children:e.slice(0,Math.ceil(e.length/2)).map(t)}),(0,Ja.jsx)("div",{style:{width:2,background:"linear-gradient(180deg, #c8d8e4 0%, #a777e3 100%)",borderRadius:2,alignSelf:"stretch",opacity:.18,display:window.innerWidth>700?"block":"none"}}),(0,Ja.jsx)("div",{style:{flex:1,minWidth:280,maxWidth:360},children:e.slice(Math.ceil(e.length/2)).map((n,r)=>t(n,r+Math.ceil(e.length/2)))})]}),(0,Ja.jsxs)("div",{style:{marginTop:36,color:"#6e8efb",fontWeight:700,fontSize:17,display:"flex",alignItems:"center",justifyContent:"center",gap:10},children:[(0,Ja.jsx)(Wa,{style:{fontSize:22}}),(0,Ja.jsxs)("span",{children:["Still need help? ",(0,Ja.jsx)("a",{href:"mailto:sharmakrishna1605@gmail.com?cc=user@example.com",style:{color:"#6e8efb",textDecoration:"underline"},children:"Contact Support"})]})]})]})}function _l(){return(0,Ja.jsxs)("div",{className:"card",style:{maxWidth:700,margin:"60px auto",textAlign:"left",padding:48},children:[(0,Ja.jsx)("h2",{style:{color:"#6e8efb",fontWeight:800,marginBottom:18},children:"Terms of Service"}),(0,Ja.jsx)("p",{style:{color:"#333",fontSize:16,lineHeight:1.7},children:"Welcome to the Service Desk App. By using this platform, you agree to the following terms:"}),(0,Ja.jsxs)("ul",{style:{color:"#333",fontSize:16,lineHeight:1.7,marginLeft:24,marginBottom:24},children:[(0,Ja.jsxs)("li",{children:[(0,Ja.jsx)("b",{children:"Account Responsibility:"})," You are responsible for maintaining the confidentiality of your login credentials and for all activities that occur under your account."]}),(0,Ja.jsxs)("li",{children:[(0,Ja.jsx)("b",{children:"Ticket Usage:"})," You may use the app to create, track, and manage support tickets. Do not submit false, abusive, or inappropriate tickets."]}),(0,Ja.jsxs)("li",{children:[(0,Ja.jsx)("b",{children:"Admin Rights:"})," Admins have the ability to view, manage, and assign all tickets. Admins may update ticket statuses and access analytics."]}),(0,Ja.jsxs)("li",{children:[(0,Ja.jsx)("b",{children:"Data Security:"})," All user data and tickets are stored securely using Firebase. We strive to protect your information but cannot guarantee absolute security."]}),(0,Ja.jsxs)("li",{children:[(0,Ja.jsx)("b",{children:"Prohibited Activities:"})," You may not use the app for any unlawful purpose or to harass, abuse, or harm others."]}),(0,Ja.jsxs)("li",{children:[(0,Ja.jsx)("b",{children:"Changes to Terms:"})," We may update these terms at any time. Continued use of the app constitutes acceptance of the new terms."]})]}),(0,Ja.jsxs)("p",{style:{color:"#333",fontSize:16,lineHeight:1.7},children:["If you have questions about these terms, please contact support at ",(0,Ja.jsx)("a",{href:"mailto:sharmakrishna1605@gmail.com",style:{color:"#6e8efb",textDecoration:"underline"},children:"sharmakrishna1605@gmail.com"}),"."]})]})}function kl(){return(0,Ja.jsxs)("div",{className:"card",style:{maxWidth:700,margin:"60px auto",textAlign:"left",padding:48},children:[(0,Ja.jsx)("h2",{style:{color:"#6e8efb",fontWeight:800,marginBottom:18},children:"Privacy Policy"}),(0,Ja.jsx)("p",{style:{color:"#333",fontSize:16,lineHeight:1.7},children:"Your privacy is important to us. This policy explains how we collect, use, and protect your information on the Service Desk App:"}),(0,Ja.jsxs)("ul",{style:{color:"#333",fontSize:16,lineHeight:1.7,marginLeft:24,marginBottom:24},children:[(0,Ja.jsxs)("li",{children:[(0,Ja.jsx)("b",{children:"Information Collected:"})," We collect your email, name, and any information you provide when creating tickets or using the app."]}),(0,Ja.jsxs)("li",{children:[(0,Ja.jsx)("b",{children:"Use of Data:"})," Your data is used to provide support services, manage tickets, and improve the app. We do not sell your personal information."]}),(0,Ja.jsxs)("li",{children:[(0,Ja.jsx)("b",{children:"Data Security:"})," All data is stored securely using Firebase. We implement measures to protect your information but cannot guarantee absolute security."]}),(0,Ja.jsxs)("li",{children:[(0,Ja.jsx)("b",{children:"Access & Control:"})," You can view and update your profile information at any time. To delete your account or data, contact support."]}),(0,Ja.jsxs)("li",{children:[(0,Ja.jsx)("b",{children:"Third-Party Services:"})," We may use third-party services (like Firebase) to operate the app. These services have their own privacy policies."]}),(0,Ja.jsxs)("li",{children:[(0,Ja.jsx)("b",{children:"Policy Updates:"})," We may update this policy from time to time. Continued use of the app means you accept the updated policy."]})]}),(0,Ja.jsxs)("p",{style:{color:"#333",fontSize:16,lineHeight:1.7},children:["For questions about this policy, contact ",(0,Ja.jsx)("a",{href:"mailto:sharmakrishna1605@gmail.com",style:{color:"#6e8efb",textDecoration:"underline"},children:"sharmakrishna1605@gmail.com"}),"."]})]})}(0,Ce.om)(new je.uA(ml,xl,"PUBLIC").setMultipleInstances(!0)),(0,Ce.KO)(pl,gl,""),(0,Ce.KO)(pl,gl,"esm2017");var Al=n(2284),El=Uint8Array,Tl=Uint16Array,Il=Int32Array,Pl=new El([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Nl=new El([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Cl=new El([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ol=function(e,t){for(var n=new Tl(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Il(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},Ll=Ol(Pl,2),Dl=Ll.b,jl=Ll.r;Dl[28]=258,jl[258]=28;for(var Ml=Ol(Nl,0),Rl=Ml.b,Fl=Ml.r,Bl=new Tl(32768),zl=0;zl<32768;++zl){var Ul=(43690&zl)>>1|(21845&zl)<<1;Ul=(61680&(Ul=(52428&Ul)>>2|(13107&Ul)<<2))>>4|(3855&Ul)<<4,Bl[zl]=((65280&Ul)>>8|(255&Ul)<<8)>>1}var ql=function(e,t,n){for(var r=e.length,i=0,o=new Tl(t);i<r;++i)e[i]&&++o[e[i]-1];var a,s=new Tl(t);for(i=1;i<t;++i)s[i]=s[i-1]+o[i-1]<<1;if(n){a=new Tl(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],h=s[e[i]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)a[Bl[h]>>l]=c}else for(a=new Tl(r),i=0;i<r;++i)e[i]&&(a[i]=Bl[s[e[i]-1]++]>>15-e[i]);return a},Vl=new El(288);for(zl=0;zl<144;++zl)Vl[zl]=8;for(zl=144;zl<256;++zl)Vl[zl]=9;for(zl=256;zl<280;++zl)Vl[zl]=7;for(zl=280;zl<288;++zl)Vl[zl]=8;var Wl=new El(32);for(zl=0;zl<32;++zl)Wl[zl]=5;var Hl=ql(Vl,9,0),$l=ql(Vl,9,1),Kl=ql(Wl,5,0),Gl=ql(Wl,5,1),Ql=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Yl=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},Xl=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},Jl=function(e){return(e+7)/8|0},Zl=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new El(e.subarray(t,n))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],tc=function(e,t,n){var r=new Error(t||ec[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,tc),!n)throw r;return r},nc=function(e,t,n,r){var i=e.length,o=r?r.length:0;if(!i||t.f&&!t.l)return n||new El(0);var a=!n,s=a||2!=t.i,l=t.i;a&&(n=new El(3*i));var c=function(e){var t=n.length;if(e>t){var r=new El(Math.max(2*t,e));r.set(n),n=r}},u=t.f||0,h=t.p||0,d=t.b||0,f=t.l,p=t.d,g=t.m,m=t.n,y=8*i;do{if(!f){u=Yl(e,h,1);var v=Yl(e,h+1,3);if(h+=3,!v){var b=e[(N=Jl(h)+4)-4]|e[N-3]<<8,w=N+b;if(w>i){l&&tc(0);break}s&&c(d+b),n.set(e.subarray(N,w),d),t.b=d+=b,t.p=h=8*w,t.f=u;continue}if(1==v)f=$l,p=Gl,g=9,m=5;else if(2==v){var x=Yl(e,h,31)+257,S=Yl(e,h+10,15)+4,_=x+Yl(e,h+5,31)+1;h+=14;for(var k=new El(_),A=new El(19),E=0;E<S;++E)A[Cl[E]]=Yl(e,h+3*E,7);h+=3*S;var T=Ql(A),I=(1<<T)-1,P=ql(A,T,1);for(E=0;E<_;){var N,C=P[Yl(e,h,I)];if(h+=15&C,(N=C>>4)<16)k[E++]=N;else{var O=0,L=0;for(16==N?(L=3+Yl(e,h,3),h+=2,O=k[E-1]):17==N?(L=3+Yl(e,h,7),h+=3):18==N&&(L=11+Yl(e,h,127),h+=7);L--;)k[E++]=O}}var D=k.subarray(0,x),j=k.subarray(x);g=Ql(D),m=Ql(j),f=ql(D,g,1),p=ql(j,m,1)}else tc(1);if(h>y){l&&tc(0);break}}s&&c(d+131072);for(var M=(1<<g)-1,R=(1<<m)-1,F=h;;F=h){var B=(O=f[Xl(e,h)&M])>>4;if((h+=15&O)>y){l&&tc(0);break}if(O||tc(2),B<256)n[d++]=B;else{if(256==B){F=h,f=null;break}var z=B-254;if(B>264){var U=Pl[E=B-257];z=Yl(e,h,(1<<U)-1)+Dl[E],h+=U}var q=p[Xl(e,h)&R],V=q>>4;q||tc(3),h+=15&q;j=Rl[V];if(V>3){U=Nl[V];j+=Xl(e,h)&(1<<U)-1,h+=U}if(h>y){l&&tc(0);break}s&&c(d+131072);var W=d+z;if(d<j){var H=o-j,$=Math.min(j,W);for(H+d<0&&tc(3);d<$;++d)n[d]=r[H+d]}for(;d<W;++d)n[d]=n[d-j]}}t.l=f,t.p=F,t.b=d,t.f=u,f&&(u=1,t.m=g,t.d=p,t.n=m)}while(!u);return d!=n.length&&a?Zl(n,0,d):n.subarray(0,d)},rc=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},ic=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},oc=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return{t:dc,l:0};if(1==i){var a=new El(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],c=0,u=1,h=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=i-1;)s=n[n[c].f<n[h].f?c++:h++],l=n[c!=u&&n[c].f<n[h].f?c++:h++],n[u++]={s:-1,f:s.f+l.f,l:s,r:l};var d=o[0].s;for(r=1;r<i;++r)o[r].s>d&&(d=o[r].s);var f=new Tl(d+1),p=ac(n[u-1],f,0);if(p>t){r=0;var g=0,m=p-t,y=1<<m;for(o.sort(function(e,t){return f[t.s]-f[e.s]||e.f-t.f});r<i;++r){var v=o[r].s;if(!(f[v]>t))break;g+=y-(1<<p-f[v]),f[v]=t}for(g>>=m;g>0;){var b=o[r].s;f[b]<t?g-=1<<t-f[b]++-1:++r}for(;r>=0&&g;--r){var w=o[r].s;f[w]==t&&(--f[w],++g)}p=t}return{t:new El(f),l:p}},ac=function(e,t,n){return-1==e.s?Math.max(ac(e.l,t,n+1),ac(e.r,t,n+1)):t[e.s]=n},sc=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Tl(++t),r=0,i=e[0],o=1,a=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=e[s]}return{c:n.subarray(0,r),n:t}},lc=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},cc=function(e,t,n){var r=n.length,i=Jl(t+2);e[i]=255&r,e[i+1]=r>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},uc=function(e,t,n,r,i,o,a,s,l,c,u){rc(t,u++,n),++i[256];for(var h=oc(i,15),d=h.t,f=h.l,p=oc(o,15),g=p.t,m=p.l,y=sc(d),v=y.c,b=y.n,w=sc(g),x=w.c,S=w.n,_=new Tl(19),k=0;k<v.length;++k)++_[31&v[k]];for(k=0;k<x.length;++k)++_[31&x[k]];for(var A=oc(_,7),E=A.t,T=A.l,I=19;I>4&&!E[Cl[I-1]];--I);var P,N,C,O,L=c+5<<3,D=lc(i,Vl)+lc(o,Wl)+a,j=lc(i,d)+lc(o,g)+a+14+3*I+lc(_,E)+2*_[16]+3*_[17]+7*_[18];if(l>=0&&L<=D&&L<=j)return cc(t,u,e.subarray(l,l+c));if(rc(t,u,1+(j<D)),u+=2,j<D){P=ql(d,f,0),N=d,C=ql(g,m,0),O=g;var M=ql(E,T,0);rc(t,u,b-257),rc(t,u+5,S-1),rc(t,u+10,I-4),u+=14;for(k=0;k<I;++k)rc(t,u+3*k,E[Cl[k]]);u+=3*I;for(var R=[v,x],F=0;F<2;++F){var B=R[F];for(k=0;k<B.length;++k){var z=31&B[k];rc(t,u,M[z]),u+=E[z],z>15&&(rc(t,u,B[k]>>5&127),u+=B[k]>>12)}}}else P=Hl,N=Vl,C=Kl,O=Wl;for(k=0;k<s;++k){var U=r[k];if(U>255){ic(t,u,P[(z=U>>18&31)+257]),u+=N[z+257],z>7&&(rc(t,u,U>>23&31),u+=Pl[z]);var q=31&U;ic(t,u,C[q]),u+=O[q],q>3&&(ic(t,u,U>>5&8191),u+=Nl[q])}else ic(t,u,P[U]),u+=N[U]}return ic(t,u,P[256]),u+N[256]},hc=new Il([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),dc=new El(0),fc=function(e,t,n,r,i,o){var a=o.z||e.length,s=new El(r+a+5*(1+Math.ceil(a/7e3))+i),l=s.subarray(r,s.length-i),c=o.l,u=7&(o.r||0);if(t){u&&(l[0]=o.r>>3);for(var h=hc[t-1],d=h>>13,f=8191&h,p=(1<<n)-1,g=o.p||new Tl(32768),m=o.h||new Tl(p+1),y=Math.ceil(n/3),v=2*y,b=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<v)&p},w=new Il(25e3),x=new Tl(288),S=new Tl(32),_=0,k=0,A=o.i||0,E=0,T=o.w||0,I=0;A+2<a;++A){var P=b(A),N=32767&A,C=m[P];if(g[N]=C,m[P]=N,T<=A){var O=a-A;if((_>7e3||E>24576)&&(O>423||!c)){u=uc(e,l,0,w,x,S,k,E,I,A-I,u),E=_=k=0,I=A;for(var L=0;L<286;++L)x[L]=0;for(L=0;L<30;++L)S[L]=0}var D=2,j=0,M=f,R=N-C&32767;if(O>2&&P==b(A-R))for(var F=Math.min(d,O)-1,B=Math.min(32767,A),z=Math.min(258,O);R<=B&&--M&&N!=C;){if(e[A+D]==e[A+D-R]){for(var U=0;U<z&&e[A+U]==e[A+U-R];++U);if(U>D){if(D=U,j=R,U>F)break;var q=Math.min(R,U-2),V=0;for(L=0;L<q;++L){var W=A-R+L&32767,H=W-g[W]&32767;H>V&&(V=H,C=W)}}}R+=(N=C)-(C=g[N])&32767}if(j){w[E++]=268435456|jl[D]<<18|Fl[j];var $=31&jl[D],K=31&Fl[j];k+=Pl[$]+Nl[K],++x[257+$],++S[K],T=A+D,++_}else w[E++]=e[A],++x[e[A]]}}for(A=Math.max(A,T);A<a;++A)w[E++]=e[A],++x[e[A]];u=uc(e,l,c,w,x,S,k,E,I,A-I,u),c||(o.r=7&u|l[u/8|0]<<3,u-=7,o.h=m,o.p=g,o.i=A,o.w=T)}else{for(A=o.w||0;A<a+c;A+=65535){var G=A+65535;G>=a&&(l[u/8|0]=c,G=a),u=cc(l,u+1,e.subarray(A,G))}o.i=a}return Zl(s,0,r+Jl(u)+i)},pc=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,o=0|n.length,a=0;a!=o;){for(var s=Math.min(a+2655,o);a<s;++a)i+=r+=n[a];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}e=r,t=i},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},gc=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),a=new El(o.length+e.length);a.set(o),a.set(e,o.length),e=a,i.w=o.length}return fc(e,null==t.level?6:t.level,null==t.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,i)},mc=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},yc=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=pc();i.p(t.dictionary),mc(e,2,i.d())}},vc=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&tc(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&tc(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function bc(e,t){t||(t={});var n=pc();n.p(e);var r=gc(e,t,t.dictionary?6:2,4);return yc(r,t),mc(r,r.length-4,n.d()),r}function wc(e,t){return nc(e.subarray(vc(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var xc="undefined"!=typeof TextDecoder&&new TextDecoder;try{xc.decode(dc,{stream:!0})}catch(fR){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var Sc=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function _c(){Sc.console&&"function"==typeof Sc.console.log&&Sc.console.log.apply(Sc.console,arguments)}var kc={log:_c,warn:function(e){Sc.console&&("function"==typeof Sc.console.warn?Sc.console.warn.apply(Sc.console,arguments):_c.call(null,arguments))},error:function(e){Sc.console&&("function"==typeof Sc.console.error?Sc.console.error.apply(Sc.console,arguments):_c(e))}};function Ac(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Nc(r.response,t,n)},r.onerror=function(){kc.error("could not download file")},r.send()}function Ec(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function Tc(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(Wo){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ic,Pc,Nc=Sc.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,Al.A)(window))||window!==Sc?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Sc.URL||Sc.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?Ec(i.href)?Ac(e,t,n):Tc(i,i.target="_blank"):Tc(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Tc(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(Ec(e))Ac(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Tc(r)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,Al.A)(t)&&(kc.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return Ac(e,t,n);var i="application/octet-stream"===e.type,o=/constructor/i.test(Sc.HTMLElement)||Sc.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&o)&&"object"===("undefined"==typeof FileReader?"undefined":(0,Al.A)(FileReader))){var s=new FileReader;s.onloadend=function(){var e=s.result;e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},s.readAsDataURL(e)}else{var l=Sc.URL||Sc.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function Cc(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,a=i.exec(e);a&&(t=o(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}function Oc(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n=Dc(n,r,i,o,t[0],7,-680876936),o=Dc(o,n,r,i,t[1],12,-389564586),i=Dc(i,o,n,r,t[2],17,606105819),r=Dc(r,i,o,n,t[3],22,-1044525330),n=Dc(n,r,i,o,t[4],7,-176418897),o=Dc(o,n,r,i,t[5],12,1200080426),i=Dc(i,o,n,r,t[6],17,-1473231341),r=Dc(r,i,o,n,t[7],22,-45705983),n=Dc(n,r,i,o,t[8],7,1770035416),o=Dc(o,n,r,i,t[9],12,-1958414417),i=Dc(i,o,n,r,t[10],17,-42063),r=Dc(r,i,o,n,t[11],22,-1990404162),n=Dc(n,r,i,o,t[12],7,1804603682),o=Dc(o,n,r,i,t[13],12,-40341101),i=Dc(i,o,n,r,t[14],17,-1502002290),n=jc(n,r=Dc(r,i,o,n,t[15],22,1236535329),i,o,t[1],5,-165796510),o=jc(o,n,r,i,t[6],9,-1069501632),i=jc(i,o,n,r,t[11],14,643717713),r=jc(r,i,o,n,t[0],20,-373897302),n=jc(n,r,i,o,t[5],5,-701558691),o=jc(o,n,r,i,t[10],9,38016083),i=jc(i,o,n,r,t[15],14,-660478335),r=jc(r,i,o,n,t[4],20,-405537848),n=jc(n,r,i,o,t[9],5,568446438),o=jc(o,n,r,i,t[14],9,-1019803690),i=jc(i,o,n,r,t[3],14,-187363961),r=jc(r,i,o,n,t[8],20,1163531501),n=jc(n,r,i,o,t[13],5,-1444681467),o=jc(o,n,r,i,t[2],9,-51403784),i=jc(i,o,n,r,t[7],14,1735328473),n=Mc(n,r=jc(r,i,o,n,t[12],20,-1926607734),i,o,t[5],4,-378558),o=Mc(o,n,r,i,t[8],11,-2022574463),i=Mc(i,o,n,r,t[11],16,1839030562),r=Mc(r,i,o,n,t[14],23,-35309556),n=Mc(n,r,i,o,t[1],4,-1530992060),o=Mc(o,n,r,i,t[4],11,1272893353),i=Mc(i,o,n,r,t[7],16,-155497632),r=Mc(r,i,o,n,t[10],23,-1094730640),n=Mc(n,r,i,o,t[13],4,681279174),o=Mc(o,n,r,i,t[0],11,-358537222),i=Mc(i,o,n,r,t[3],16,-722521979),r=Mc(r,i,o,n,t[6],23,76029189),n=Mc(n,r,i,o,t[9],4,-640364487),o=Mc(o,n,r,i,t[12],11,-421815835),i=Mc(i,o,n,r,t[15],16,530742520),n=Rc(n,r=Mc(r,i,o,n,t[2],23,-995338651),i,o,t[0],6,-198630844),o=Rc(o,n,r,i,t[7],10,1126891415),i=Rc(i,o,n,r,t[14],15,-1416354905),r=Rc(r,i,o,n,t[5],21,-57434055),n=Rc(n,r,i,o,t[12],6,1700485571),o=Rc(o,n,r,i,t[3],10,-1894986606),i=Rc(i,o,n,r,t[10],15,-1051523),r=Rc(r,i,o,n,t[1],21,-2054922799),n=Rc(n,r,i,o,t[8],6,1873313359),o=Rc(o,n,r,i,t[15],10,-30611744),i=Rc(i,o,n,r,t[6],15,-1560198380),r=Rc(r,i,o,n,t[13],21,1309151649),n=Rc(n,r,i,o,t[4],6,-145523070),o=Rc(o,n,r,i,t[11],10,-1120210379),i=Rc(i,o,n,r,t[2],15,718787259),r=Rc(r,i,o,n,t[9],21,-343485551),e[0]=Hc(n,e[0]),e[1]=Hc(r,e[1]),e[2]=Hc(i,e[2]),e[3]=Hc(o,e[3])}function Lc(e,t,n,r,i,o){return t=Hc(Hc(t,e),Hc(r,o)),Hc(t<<i|t>>>32-i,n)}function Dc(e,t,n,r,i,o,a){return Lc(t&n|~t&r,e,t,i,o,a)}function jc(e,t,n,r,i,o,a){return Lc(t&r|n&~r,e,t,i,o,a)}function Mc(e,t,n,r,i,o,a){return Lc(t^n^r,e,t,i,o,a)}function Rc(e,t,n,r,i,o,a){return Lc(n^(t|~r),e,t,i,o,a)}function Fc(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Oc(r,Bc(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Oc(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Oc(r,i),r}function Bc(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Ic=Sc.atob.bind(Sc),Pc=Sc.btoa.bind(Sc);var zc="0123456789abcdef".split("");function Uc(e){for(var t="",n=0;n<4;n++)t+=zc[e>>8*n+4&15]+zc[e>>8*n&15];return t}function qc(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Vc(e){return Fc(e).map(qc).join("")}var Wc="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=Uc(e[t]);return e.join("")}(Fc("hello"));function Hc(e,t){if(Wc){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function $c(e,t){var n,r,i,o;if(e!==n){for(var a=(i=e,o=1+(256/e.length|0),new Array(o+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var u=s[l];c=(c+u+a.charCodeAt(l))%256,s[l]=s[c],s[c]=u}n=e,r=s}else s=r;var h=t.length,d=0,f=0,p="";for(l=0;l<h;l++)f=(f+(u=s[d=(d+1)%256]))%256,s[d]=s[f],s[f]=u,a=s[(s[d]+s[f])%256],p+=String.fromCharCode(t.charCodeAt(l)^a);return p}var Kc={print:4,modify:8,copy:16,"annot-forms":32};function Gc(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(e){if(void 0!==Kc.perm)throw new Error("Invalid permission: "+e);i+=Kc[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^i)),this.encryptionKey=Vc(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=$c(this.encryptionKey,this.padding)}function Qc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function Yc(e){if("object"!==(0,Al.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!r],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[n]){var a=t[n][o];try{a[0].apply(e,r)}catch(n){Sc.console&&kc.error("jsPDF PubSub Error",n.message,n)}a[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Xc(e){if(!(this instanceof Xc))return new Xc(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Jc(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Zc(e,t,n,r,i){if(!(this instanceof Zc))return new Zc(e,t,n,r,i);this.type="axial"===e?2:3,this.coords=t,this.colors=n,Jc.call(this,r,i)}function eu(e,t,n,r,i){if(!(this instanceof eu))return new eu(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Jc.call(this,r,i)}function tu(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],a=[],s=1,l=16,c="S",u=null;"object"===(0,Al.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,i=e.format||i,o=e.compress||e.compressPdf||o,null!==(u=e.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),s="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),a=e.filters||(!0===o?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=Yc;var p="1.3",g=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(e){p=e};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return m};var y=f.__private__.getPageFormat=function(e){return m[e]};i=i||"a4";var v="compat",b="advanced",w=v;function x(){this.saveGraphicsState(),X(new Ce(de,0,0,-de,0,un()*de).toString()+" cm"),this.setFontSize(this.getFontSize()/de),c="n",w=b}function S(){this.restoreGraphicsState(),c="S",w=v}var _=f.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};f.advancedAPI=function(e){var t=w===v;return t&&x.call(this),"function"!=typeof e||(e(this),t&&S.call(this)),this},f.compatAPI=function(e){var t=w===b;return t&&S.call(this),"function"!=typeof e||(e(this),t&&x.call(this)),this},f.isAdvancedAPI=function(){return w===b};var k,A=function(e){if(w!==b)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},E=f.roundToPrecision=f.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};k=f.hpf=f.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return E(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return E(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return E(e,16)};var T=f.f2=f.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return E(e,2)},I=f.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return E(e,3)},P=f.scale=f.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return w===v?e*de:w===b?e:void 0},N=function(e){return P(function(e){return w===v?un()-e:w===b?e:void 0}(e))};f.__private__.setPrecision=f.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var C,O="00000000000000000000000000000000",L=f.__private__.getFileId=function(){return O},D=f.__private__.setFileId=function(e){return O=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():O.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(bt=new Gc(u.userPermissions,u.userPassword,u.ownerPassword,O)),O};f.setFileId=function(e){return D(e),this},f.getFileId=function(){return L()};var j=f.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),o=[n,z(r),"'",z(i),"'"].join("");return["D:",e.getFullYear(),z(e.getMonth()+1),z(e.getDate()),z(e.getHours()),z(e.getMinutes()),z(e.getSeconds()),o].join("")},M=f.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),a=parseInt(e.substr(14,2),10);return new Date(t,n,r,i,o,a,0)},R=f.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=j(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return C=t},F=f.__private__.getCreationDate=function(e){var t=C;return"jsDate"===e&&(t=M(C)),t};f.setCreationDate=function(e){return R(e),this},f.getCreationDate=function(e){return F(e)};var B,z=f.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},U=f.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},q=0,V=[],W=[],H=0,$=[],K=[],G=!1,Q=W;f.__private__.setCustomOutputDestination=function(e){G=!0,Q=e};var Y=function(e){G||(Q=e)};f.__private__.resetCustomOutputDestination=function(){G=!1,Q=W};var X=f.__private__.out=function(e){return e=e.toString(),H+=e.length+1,Q.push(e),Q},J=f.__private__.write=function(e){return X(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=f.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(e){return te=w===b?e/de:e,this};var ne,re=f.__private__.getFontSize=f.getFontSize=function(){return w===v?te:te*de},ie=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(e){return ie=e,this},f.__private__.getR2L=f.getR2L=function(){return ie};var oe,ae=f.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};f.__private__.getZoomMode=function(){return ne};var se,le=f.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');oe=e};f.__private__.getPageMode=function(){return oe};var ce=f.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');se=e};f.__private__.getLayoutMode=function(){return se},f.__private__.setDisplayMode=f.setDisplayMode=function(e,t,n){return ae(e),ce(t),le(n),this};var ue={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ue).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ue[e]},f.__private__.getDocumentProperties=function(){return ue},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(e){for(var t in ue)ue.hasOwnProperty(t)&&e[t]&&(ue[t]=e[t]);return this},f.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ue).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ue[e]=t};var he,de,fe,pe,ge,me={},ye={},ve=[],be={},we={},xe={},Se={},_e=null,ke=0,Ae=[],Ee=new Yc(f),Te=e.hotfixes||[],Ie={},Pe={},Ne=[],Ce=function e(t,n,r,i,o,a){if(!(this instanceof e))return new e(t,n,r,i,o,a);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(o)&&(o=0),isNaN(a)&&(a=0),this._matrix=[t,n,r,i,o,a]};Object.defineProperty(Ce.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ce.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ce.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ce.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ce.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ce.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ce.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ce.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ce.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ce.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ce.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ce.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ce.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ce.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ce.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ce.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ce.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(e)},Ce.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,o=e.tx*this.sx+e.ty*this.shx+this.tx,a=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ce(t,n,r,i,o,a)},Ce.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,a=Math.sqrt(e*e+t*t),s=(e/=a)*n+(t/=a)*r;n-=e*s,r-=t*s;var l=Math.sqrt(n*n+r*r);return s/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,s=-s,a=-a),{scale:new Ce(a,0,0,l,0,0),translate:new Ce(1,0,0,1,i,o),rotate:new Ce(e,t,-t,e,0,0),skew:new Ce(1,0,s,1,0,0)}},Ce.prototype.toString=function(e){return this.join(" ")},Ce.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,a=1/(e*r-t*n),s=r*a,l=-t*a,c=-n*a,u=e*a;return new Ce(s,l,c,u,-s*i-c*o,-l*i-u*o)},Ce.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new nn(t,n)},Ce.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new nn(e.x+e.w,e.y+e.h));return new rn(t.x,t.y,n.x-t.x,n.y-t.y)},Ce.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty;return new Ce(e,t,n,r,i,o)},f.Matrix=Ce;var Oe=f.matrixMult=function(e,t){return t.multiply(e)},Le=new Ce(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Le;var De=function(e,t){if(!we[e]){var n=(t instanceof Zc?"Sh":"P")+(Object.keys(be).length+1).toString(10);t.id=n,we[e]=n,be[n]=t,Ee.publish("addPattern",t)}};f.ShadingPattern=Zc,f.TilingPattern=eu,f.addShadingPattern=function(e,t){return A("addShadingPattern()"),De(e,t),this},f.beginTilingPattern=function(e){A("beginTilingPattern()"),an(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},f.endTilingPattern=function(e,t){A("endTilingPattern()"),t.stream=K[B].join("\n"),De(e,t),Ee.publish("endTilingPattern",t),Ne.pop().restore()};var je,Me=f.__private__.newObject=function(){var e=Re();return Fe(e,!0),e},Re=f.__private__.newObjectDeferred=function(){return q++,V[q]=function(){return H},q},Fe=function(e,t){return t="boolean"==typeof t&&t,V[e]=H,t&&X(e+" 0 obj"),e},Be=f.__private__.newAdditionalObject=function(){var e={objId:Re(),content:""};return $.push(e),e},ze=Re(),Ue=Re(),qe=f.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return r},Ve=f.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,i=e.ch3,o=e.ch4,a="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var s=new Cc(n);if(s.ok)n=s.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,i=255&l}if(void 0===r||void 0===o&&n===r&&r===i)if("string"==typeof n)t=n+" "+a[0];else if(2===e.precision)t=T(n/255)+" "+a[0];else t=I(n/255)+" "+a[0];else if(void 0===o||"object"===(0,Al.A)(o)){if(o&&!isNaN(o.a)&&0===o.a)return["1.","1.","1.",a[1]].join(" ");if("string"==typeof n)t=[n,r,i,a[1]].join(" ");else if(2===e.precision)t=[T(n/255),T(r/255),T(i/255),a[1]].join(" ");else t=[I(n/255),I(r/255),I(i/255),a[1]].join(" ")}else if("string"==typeof n)t=[n,r,i,o,a[2]].join(" ");else if(2===e.precision)t=[T(n),T(r),T(i),T(o),a[2]].join(" ");else t=[I(n),I(r),I(i),I(o),a[2]].join(" ");return t},We=f.__private__.getFilters=function(){return a},He=f.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||We(),r=e.alreadyAppliedFilters||[],i=e.addLength1||!1,o=t.length,a=e.objectId,s=function(e){return e};if(null!==u&&void 0===a)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(s=bt.encryptor(a,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],h=(l=void 0!==tu.API.processDataByFilters?tu.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===i&&c.push({key:"Length1",value:o})),0!=h.length)if(h.split("/").length-1==1)c.push({key:"Filter",value:h});else{c.push({key:"Filter",value:"["+h+"]"});for(var d=0;d<c.length;d+=1)if("DecodeParms"===c[d].key){for(var f=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)f.push("null");f.push(c[d].value),c[d].value="["+f.join(" ")+"]"}}X("<<");for(var g=0;g<c.length;g++)X("/"+c[g].key+" "+c[g].value);X(">>"),0!==l.data.length&&(X("stream"),X(s(l.data)),X("endstream"))},$e=f.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,i=e.contentsObjId;Fe(r,!0),X("<</Type /Page"),X("/Parent "+e.rootDictionaryObjId+" 0 R"),X("/Resources "+e.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(k(e.mediaBox.bottomLeftX))+" "+parseFloat(k(e.mediaBox.bottomLeftY))+" "+k(e.mediaBox.topRightX)+" "+k(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&X("/CropBox ["+k(e.cropBox.bottomLeftX)+" "+k(e.cropBox.bottomLeftY)+" "+k(e.cropBox.topRightX)+" "+k(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&X("/BleedBox ["+k(e.bleedBox.bottomLeftX)+" "+k(e.bleedBox.bottomLeftY)+" "+k(e.bleedBox.topRightX)+" "+k(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&X("/TrimBox ["+k(e.trimBox.bottomLeftX)+" "+k(e.trimBox.bottomLeftY)+" "+k(e.trimBox.topRightX)+" "+k(e.trimBox.topRightY)+"]"),null!==e.artBox&&X("/ArtBox ["+k(e.artBox.bottomLeftX)+" "+k(e.artBox.bottomLeftY)+" "+k(e.artBox.topRightX)+" "+k(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&X("/UserUnit "+e.userUnit),Ee.publish("putPage",{objId:r,pageContext:Ae[t],pageNumber:t,page:n}),X("/Contents "+i+" 0 R"),X(">>"),X("endobj");var o=n.join("\n");return w===b&&(o+="\nQ"),Fe(i,!0),He({data:o,filters:We(),objectId:i}),X("endobj"),r},Ke=f.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=ke;e++)Ae[e].objId=Re(),Ae[e].contentsObjId=Re();for(e=1;e<=ke;e++)n.push($e({number:e,data:K[e],objId:Ae[e].objId,contentsObjId:Ae[e].contentsObjId,mediaBox:Ae[e].mediaBox,cropBox:Ae[e].cropBox,bleedBox:Ae[e].bleedBox,trimBox:Ae[e].trimBox,artBox:Ae[e].artBox,userUnit:Ae[e].userUnit,rootDictionaryObjId:ze,resourceDictionaryObjId:Ue}));Fe(ze,!0),X("<</Type /Pages");var r="/Kids [";for(t=0;t<ke;t++)r+=n[t]+" 0 R ";X(r+"]"),X("/Count "+ke),X(">>"),X("endobj"),Ee.publish("postPutPages")},Ge=function(e){Ee.publish("putFont",{font:e,out:X,newObject:Me,putStream:He}),!0!==e.isAlreadyPutted&&(e.objectNumber=Me(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Qc(e.postScriptName)),X("/Subtype /Type1"),"string"==typeof e.encoding&&X("/Encoding /"+e.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Qe=function(e){e.objectNumber=Me();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[k(e.x),k(e.y),k(e.x+e.width),k(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");He({data:n,additionalKeyValues:t,objectId:e.objectNumber}),X("endobj")},Ye=function(e,t){t||(t=21);var n=Me(),r=function(e,t){var n,r=[],i=1/(t-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=e[0].offset){var o={offset:0,color:e[0].color};e.unshift(o)}if(1!=e[e.length-1].offset){var a={offset:1,color:e[e.length-1].color};e.push(a)}for(var s="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var u=e[l].offset,h=(n-u)/(e[l+1].offset-u),d=e[l].color,f=e[l+1].color;s+=U(Math.round((1-h)*d[0]+h*f[0]).toString(16))+U(Math.round((1-h)*d[1]+h*f[1]).toString(16))+U(Math.round((1-h)*d[2]+h*f[2]).toString(16))}return s.trim()}(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),X("endobj"),e.objectNumber=Me(),X("<< /ShadingType "+e.type),X("/ColorSpace /DeviceRGB");var o="/Coords ["+k(parseFloat(e.coords[0]))+" "+k(parseFloat(e.coords[1]))+" ";2===e.type?o+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3])):o+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3]))+" "+k(parseFloat(e.coords[4]))+" "+k(parseFloat(e.coords[5])),X(o+="]"),e.matrix&&X("/Matrix ["+e.matrix.toString()+"]"),X("/Function "+n+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Xe=function(e,t){var n=Re(),r=Me();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(k).join(" ")+"]"}),i.push({key:"XStep",value:k(e.xStep)}),i.push({key:"YStep",value:k(e.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),He({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),X("endobj")},Je=function(e){for(var t in e.objectNumber=Me(),X("<<"),e)switch(t){case"opacity":X("/ca "+T(e[t]));break;case"stroke-opacity":X("/CA "+T(e[t]))}X(">>"),X("endobj")},Ze=function(e){Fe(e.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in X("/Font <<"),me)me.hasOwnProperty(e)&&(!1===h||!0===h&&d.hasOwnProperty(e))&&X("/"+e+" "+me[e].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(be).length>0){for(var e in X("/Shading <<"),be)be.hasOwnProperty(e)&&be[e]instanceof Zc&&be[e].objectNumber>=0&&X("/"+e+" "+be[e].objectNumber+" 0 R");Ee.publish("putShadingPatternDict"),X(">>")}}(),function(e){if(Object.keys(be).length>0){for(var t in X("/Pattern <<"),be)be.hasOwnProperty(t)&&be[t]instanceof f.TilingPattern&&be[t].objectNumber>=0&&be[t].objectNumber<e&&X("/"+t+" "+be[t].objectNumber+" 0 R");Ee.publish("putTilingPatternDict"),X(">>")}}(e.objectOid),function(){if(Object.keys(xe).length>0){var e;for(e in X("/ExtGState <<"),xe)xe.hasOwnProperty(e)&&xe[e].objectNumber>=0&&X("/"+e+" "+xe[e].objectNumber+" 0 R");Ee.publish("putGStateDict"),X(">>")}}(),function(){for(var e in X("/XObject <<"),Ie)Ie.hasOwnProperty(e)&&Ie[e].objectNumber>=0&&X("/"+e+" "+Ie[e].objectNumber+" 0 R");Ee.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},et=function(){var e=[];(function(){for(var e in me)me.hasOwnProperty(e)&&(!1===h||!0===h&&d.hasOwnProperty(e))&&Ge(me[e])})(),function(){var e;for(e in xe)xe.hasOwnProperty(e)&&Je(xe[e])}(),function(){for(var e in Ie)Ie.hasOwnProperty(e)&&Qe(Ie[e])}(),function(e){var t;for(t in be)be.hasOwnProperty(t)&&(be[t]instanceof Zc?Ye(be[t]):be[t]instanceof eu&&Xe(be[t],e))}(e),Ee.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:Ue,objectOid:Number.MAX_SAFE_INTEGER}),Ee.publish("postPutResources")},tt=function(e){ye[e.fontName]=ye[e.fontName]||{},ye[e.fontName][e.fontStyle]=e.id},nt=function(e,t,n,r,i){var o={id:"F"+(Object.keys(me).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return Ee.publish("addFont",{font:o,instance:this}),me[o.id]=o,tt(o),o.id},rt=f.__private__.pdfEscape=f.pdfEscape=function(e,t){return function(e,t){var n,r,i,o,a,s,l,c,u;if(i=(t=t||{}).sourceEncoding||"Unicode",a=t.outputEncoding,(t.autoencode||a)&&me[he].metadata&&me[he].metadata[i]&&me[he].metadata[i].encoding&&(o=me[he].metadata[i].encoding,!a&&me[he].encoding&&(a=me[he].encoding),!a&&o.codePages&&(a=o.codePages[0]),"string"==typeof a&&(a=o[a]),a)){for(l=!1,s=[],n=0,r=e.length;n<r;n++)(c=a[e.charCodeAt(n)])?s.push(String.fromCharCode(c)):s.push(e[n]),s[n].charCodeAt(0)>>8&&(l=!0);e=s.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(s=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((u=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(u),s.push(c-(u<<8))}return String.fromCharCode.apply(void 0,s)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},it=f.__private__.beginPage=function(e){K[++ke]=[],Ae[ke]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},st(ke),Y(K[B])},ot=function(e,t){var r,o,a;switch(n=t||n,"string"==typeof e&&(r=y(e.toLowerCase()),Array.isArray(r)&&(o=r[0],a=r[1])),Array.isArray(e)&&(o=e[0]*de,a=e[1]*de),isNaN(o)&&(o=i[0],a=i[1]),(o>14400||a>14400)&&(kc.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),o=Math.min(14400,o),a=Math.min(14400,a)),i=[o,a],n.substr(0,1)){case"l":a>o&&(i=[a,o]);break;case"p":o>a&&(i=[a,o])}it(i),Bt(Rt),X(Kt),0!==Zt&&X(Zt+" J"),0!==en&&X(en+" j"),Ee.publish("addPage",{pageNumber:ke})},at=function(e){e>0&&e<=ke&&(K.splice(e,1),Ae.splice(e,1),ke--,B>ke&&(B=ke),this.setPage(B))},st=function(e){e>0&&e<=ke&&(B=e)},lt=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return K.length-1},ct=function(e,t,n){var r,i=void 0;return n=n||{},e=void 0!==e?e:me[he].fontName,t=void 0!==t?t:me[he].fontStyle,r=e.toLowerCase(),void 0!==ye[r]&&void 0!==ye[r][t]?i=ye[r][t]:void 0!==ye[e]&&void 0!==ye[e][t]?i=ye[e][t]:!1===n.disableWarning&&kc.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=ye.times[t])&&(i=ye.times.normal),i},ut=f.__private__.putInfo=function(){var e=Me(),t=function(e){return e};for(var n in null!==u&&(t=bt.encryptor(e,0)),X("<<"),X("/Producer ("+rt(t("jsPDF "+tu.version))+")"),ue)ue.hasOwnProperty(n)&&ue[n]&&X("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+rt(t(ue[n]))+")");X("/CreationDate ("+rt(t(C))+")"),X(">>"),X("endobj")},ht=f.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||ze;switch(Me(),X("<<"),X("/Type /Catalog"),X("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&X("/OpenAction [3 0 R /XYZ null null "+T(ne)+"]")}switch(se||(se="continuous"),se){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}oe&&X("/PageMode /"+oe),Ee.publish("putCatalog"),X(">>"),X("endobj")},dt=f.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(q+1)),X("/Root "+q+" 0 R"),X("/Info "+(q-1)+" 0 R"),null!==u&&X("/Encrypt "+bt.oid+" 0 R"),X("/ID [ <"+O+"> <"+O+"> ]"),X(">>")},ft=f.__private__.putHeader=function(){X("%PDF-"+p),X("%\xba\xdf\xac\xe0")},pt=f.__private__.putXRef=function(){var e="0000000000";X("xref"),X("0 "+(q+1)),X("0000000000 65535 f ");for(var t=1;t<=q;t++)"function"==typeof V[t]?X((e+V[t]()).slice(-10)+" 00000 n "):void 0!==V[t]?X((e+V[t]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},gt=f.__private__.buildDocument=function(){q=0,H=0,W=[],V=[],$=[],ze=Re(),Ue=Re(),Y(W),Ee.publish("buildDocument"),ft(),Ke(),function(){Ee.publish("putAdditionalObjects");for(var e=0;e<$.length;e++){var t=$[e];Fe(t.objId,!0),X(t.content),X("endobj")}Ee.publish("postPutAdditionalObjects")}(),et(),null!==u&&(bt.oid=Me(),X("<<"),X("/Filter /Standard"),X("/V "+bt.v),X("/R "+bt.r),X("/U <"+bt.toHexString(bt.U)+">"),X("/O <"+bt.toHexString(bt.O)+">"),X("/P "+bt.P),X(">>"),X("endobj")),ut(),ht();var e=H;return pt(),dt(),X("startxref"),X(""+e),X("%%EOF"),Y(K[B]),W.join("\n")},mt=f.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},yt=f.output=f.__private__.output=(je=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return gt();case"save":f.save(t.filename);break;case"arraybuffer":return Z(gt());case"blob":return mt(gt());case"bloburi":case"bloburl":if(void 0!==Sc.URL&&"function"==typeof Sc.URL.createObjectURL)return Sc.URL&&Sc.URL.createObjectURL(mt(gt()))||void 0;kc.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=gt();try{n=Pc(r)}catch(e){n=Pc(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Sc)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",o=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(i=t.pdfObjectUrl,o="");var a='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+o+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",s=Sc.open();return null!==s&&s.document.write(a),s}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Sc)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=Sc.open();if(null!==c){c.document.write(l);var u=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(u.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Sc))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',d=Sc.open();if(null!==d&&(d.document.write(h),d.document.title=t.filename),d||"undefined"==typeof safari)return d;break;case"datauri":case"dataurl":return Sc.document.location.href=this.output("datauristring",t);default:return null}},je.foo=function(){try{return je.apply(this,arguments)}catch(je){var e=je.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+je.message;if(!Sc.console)throw new Error(t);Sc.console.error(t,je),Sc.alert&&alert(t)}},je.foo.bar=je,je.foo),vt=function(e){return!0===Array.isArray(Te)&&Te.indexOf(e)>-1};switch(r){case"pt":de=1;break;case"mm":de=72/25.4;break;case"cm":de=72/2.54;break;case"in":de=72;break;case"px":de=1==vt("px_scaling")?.75:96/72;break;case"pc":case"em":de=12;break;case"ex":de=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);de=r}var bt=null;R(),D();var wt=f.__private__.getPageInfo=f.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ae[e].objId,pageNumber:e,pageContext:Ae[e]}},xt=f.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Ae)if(Ae[t].objId===e)break;return wt(t)},St=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ae[B].objId,pageNumber:B,pageContext:Ae[B]}};f.addPage=function(){return ot.apply(this,arguments),this},f.setPage=function(){return st.apply(this,arguments),Y.call(this,K[B]),this},f.insertPage=function(e){return this.addPage(),this.movePage(B,e),this},f.movePage=function(e,t){var n,r;if(e>t){n=K[e],r=Ae[e];for(var i=e;i>t;i--)K[i]=K[i-1],Ae[i]=Ae[i-1];K[t]=n,Ae[t]=r,this.setPage(t)}else if(e<t){n=K[e],r=Ae[e];for(var o=e;o<t;o++)K[o]=K[o+1],Ae[o]=Ae[o+1];K[t]=n,Ae[t]=r,this.setPage(t)}return this},f.deletePage=function(){return at.apply(this,arguments),this},f.__private__.text=f.text=function(e,t,n,r,i){var o,a,s,l,c,u,h,f,p,g=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var m=n;n=t,t=e,e=m}if(arguments[3]instanceof Ce==0?(s=arguments[4],l=arguments[5],"object"===(0,Al.A)(h=arguments[3])&&null!==h||("string"==typeof s&&(l=s,s=null),"string"==typeof h&&(l=h,h=null),"number"==typeof h&&(s=h,h=null),r={flags:h,angle:s,align:l})):(A("The transform parameter of text() with a Matrix value"),p=i),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return g;var y,v="",x="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Mt,S=g.internal.scaleFactor;function _(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),rt(e,h)}function E(e){for(var t,n=e.concat(),r=[],i=n.length;i--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function T(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,i,o=e.concat(),a=[],s=o.length;s--;)"string"==typeof(r=o.shift())?a.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=t(r[0],r[1],r[2]),a.push([i[0],i[1],i[2]]));n=a}return n}var I=!1,N=!0;if("string"==typeof e)I=!0;else if(Array.isArray(e)){var C=e.concat();a=[];for(var O,L=C.length;L--;)("string"!=typeof(O=C.shift())||Array.isArray(O)&&"string"!=typeof O[0])&&(N=!1);I=N}if(!1===I)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var D=te/g.internal.scaleFactor,j=D*(x-1);switch(r.baseline){case"bottom":n-=j;break;case"top":n+=D-j;break;case"hanging":n+=D-2*j;break;case"middle":n+=D/2-j}if((u=r.maxWidth||0)>0&&("string"==typeof e?e=g.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(g.splitTextToSize(t,u))},[]))),o={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:he,fonts:me,activeFontSize:te}},Ee.publish("preProcessText",o),e=o.text,s=(r=o.options).angle,p instanceof Ce==0&&s&&"number"==typeof s){s*=Math.PI/180,0===r.rotationDirection&&(s=-s),w===b&&(s=-s);var M=Math.cos(s),R=Math.sin(s);p=new Ce(M,R,-R,M,0,0)}else s&&s instanceof Ce&&(p=s);w!==b||p||(p=Le),void 0!==(c=r.charSpace||Xt)&&(v+=k(P(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=r.horizontalScale)&&(v+=k(100*f)+" Tz\n"),r.lang;var F=-1,B=void 0!==r.renderingMode?r.renderingMode:r.stroke,z=g.internal.getCurrentPageInfo().pageContext;switch(B){case 0:case!1:case"fill":F=0;break;case 1:case!0:case"stroke":F=1;break;case 2:case"fillThenStroke":F=2;break;case 3:case"invisible":F=3;break;case 4:case"fillAndAddForClipping":F=4;break;case 5:case"strokeAndAddPathForClipping":F=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":F=6;break;case 7:case"addToPathForClipping":F=7}var U=void 0!==z.usedRenderingMode?z.usedRenderingMode:-1;-1!==F?v+=F+" Tr\n":-1!==U&&(v+="0 Tr\n"),-1!==F&&(z.usedRenderingMode=F),l=r.align||"left";var q,V=te*x,W=g.internal.pageSize.getWidth(),H=me[he];c=r.charSpace||Xt,u=r.maxWidth||0,h=Object.assign({autoencode:!0,noBOM:!0},r.flags);var $=[],K=function(e){return g.getStringUnitWidth(e,{font:H,charSpace:c,fontSize:te,doKerning:!1})*te/S};if("[object Array]"===Object.prototype.toString.call(e)){var G;a=E(e),"left"!==l&&(q=a.map(K));var Q,Y=0;if("right"===l){t-=q[0],e=[],L=a.length;for(var J=0;J<L;J++)0===J?(Q=Vt(t),G=Wt(n)):(Q=P(Y-q[J]),G=-V),e.push([a[J],Q,G]),Y=q[J]}else if("center"===l){t-=q[0]/2,e=[],L=a.length;for(var Z=0;Z<L;Z++)0===Z?(Q=Vt(t),G=Wt(n)):(Q=P((Y-q[Z])/2),G=-V),e.push([a[Z],Q,G]),Y=q[Z]}else if("left"===l){e=[],L=a.length;for(var ee=0;ee<L;ee++)e.push(a[ee])}else if("justify"===l&&"Identity-H"===H.encoding){e=[],L=a.length,u=0!==u?u:W;for(var ne=0,re=0;re<L;re++)if(G=0===re?Wt(n):-V,Q=0===re?Vt(t):ne,re<L-1){var oe=P((u-q[re])/(a[re].split(" ").length-1)),ae=a[re].split(" ");e.push([ae[0]+" ",Q,G]),ne=0;for(var se=1;se<ae.length;se++){var le=(K(ae[se-1]+" "+ae[se])-K(ae[se]))*S+oe;se==ae.length-1?e.push([ae[se],le,0]):e.push([ae[se]+" ",le,0]),ne-=le}}else e.push([a[re],Q,G]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],L=a.length,u=0!==u?u:W,re=0;re<L;re++)G=0===re?Wt(n):-V,Q=0===re?Vt(t):0,re<L-1?$.push(k(P((u-q[re])/(a[re].split(" ").length-1)))):$.push(0),e.push([a[re],Q,G])}}!0===("boolean"==typeof r.R2L?r.R2L:ie)&&(e=T(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),o={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:he,fonts:me,activeFontSize:te}},Ee.publish("postProcessText",o),e=o.text,y=o.mutex.isHex||!1;var ce=me[he].encoding;"WinAnsiEncoding"!==ce&&"StandardEncoding"!==ce||(e=T(e,function(e,t,n){return[_(e),t,n]})),a=E(e),e=[];for(var ue,de,fe,pe=Array.isArray(a[0])?1:0,ge="",ye=function(e,t,n){var i="";return n instanceof Ce?(n="number"==typeof r.angle?Oe(n,new Ce(1,0,0,1,e,t)):Oe(new Ce(1,0,0,1,e,t),n),w===b&&(n=Oe(new Ce(1,0,0,-1,0,0),n)),i=n.join(" ")+" Tm\n"):i=k(e)+" "+k(t)+" Td\n",i},ve=0;ve<a.length;ve++){switch(ge="",pe){case 1:fe=(y?"<":"(")+a[ve][0]+(y?">":")"),ue=parseFloat(a[ve][1]),de=parseFloat(a[ve][2]);break;case 0:fe=(y?"<":"(")+a[ve]+(y?">":")"),ue=Vt(t),de=Wt(n)}void 0!==$&&void 0!==$[ve]&&(ge=$[ve]+" Tw\n"),0===ve?e.push(ge+ye(ue,de,p)+fe):0===pe?e.push(ge+fe):1===pe&&e.push(ge+ye(ue,de,p)+fe)}e=0===pe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var be="BT\n/";return be+=he+" "+te+" Tf\n",be+=k(te*x)+" TL\n",be+=Qt+"\n",be+=v,be+=e,X(be+="ET"),d[he]=!0,g};var _t=f.__private__.clip=f.clip=function(e){return X("evenodd"===e?"W*":"W"),this};f.clipEvenOdd=function(){return _t("evenodd")},f.__private__.discardPath=f.discardPath=function(){return X("n"),this};var kt=f.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(e){return kt(e)&&(c=e),this};var At=f.__private__.getStyle=f.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},Et=f.close=function(){return X("h"),this};f.stroke=function(){return X("S"),this},f.fill=function(e){return Tt("f",e),this},f.fillEvenOdd=function(e){return Tt("f*",e),this},f.fillStroke=function(e){return Tt("B",e),this},f.fillStrokeEvenOdd=function(e){return Tt("B*",e),this};var Tt=function(e,t){"object"===(0,Al.A)(t)?Nt(t,e):X(e)},It=function(e){null===e||w===b&&void 0===e||(e=At(e),X(e))};function Pt(e,t,n,r,i){var o=new eu(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);o.stream=this.stream;var a=e+"$$"+this.cloneIndex+++"$$";return De(a,o),o}var Nt=function(e,t){var n=we[e.key],r=be[n];if(r instanceof Zc)X("q"),X(Ct(t)),r.gState&&f.setGState(r.gState),X(e.matrix.toString()+" cm"),X("/"+n+" sh"),X("Q");else if(r instanceof eu){var i=new Ce(1,0,0,-1,0,un());e.matrix&&(i=i.multiply(e.matrix||Le),n=Pt.call(r,e.key,e.boundingBox,e.xStep,e.yStep,i).id),X("q"),X("/Pattern cs"),X("/"+n+" scn"),r.gState&&f.setGState(r.gState),X(t),X("Q")}},Ct=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ot=f.moveTo=function(e,t){return X(k(P(e))+" "+k(N(t))+" m"),this},Lt=f.lineTo=function(e,t){return X(k(P(e))+" "+k(N(t))+" l"),this},Dt=f.curveTo=function(e,t,n,r,i,o){return X([k(P(e)),k(N(t)),k(P(n)),k(N(r)),k(P(i)),k(N(o)),"c"].join(" ")),this};f.__private__.line=f.line=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!kt(i))throw new Error("Invalid arguments passed to jsPDF.line");return w===v?this.lines([[n-e,r-t]],e,t,[1,1],i||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},f.__private__.lines=f.lines=function(e,t,n,r,i,o){var a,s,l,c,u,h,d,f,p,g,m,y;if("number"==typeof e&&(y=n,n=t,t=e,e=y),r=r||[1,1],o=o||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!kt(i)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for(Ot(t,n),a=r[0],s=r[1],c=e.length,g=t,m=n,l=0;l<c;l++)2===(u=e[l]).length?(g=u[0]*a+g,m=u[1]*s+m,Lt(g,m)):(h=u[0]*a+g,d=u[1]*s+m,f=u[2]*a+g,p=u[3]*s+m,g=u[4]*a+g,m=u[5]*s+m,Dt(h,d,f,p,g,m));return o&&Et(),It(i),this},f.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Ot(r[0],r[1]);break;case"l":Lt(r[0],r[1]);break;case"c":Dt.apply(this,r);break;case"h":Et()}}return this},f.__private__.rect=f.rect=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!kt(i))throw new Error("Invalid arguments passed to jsPDF.rect");return w===v&&(r=-r),X([k(P(e)),k(N(t)),k(P(n)),k(P(r)),"re"].join(" ")),It(i),this},f.__private__.triangle=f.triangle=function(e,t,n,r,i,o,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!kt(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[i-n,o-r],[e-i,t-o]],e,t,[1,1],a,!0),this},f.__private__.roundedRect=f.roundedRect=function(e,t,n,r,i,o,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!kt(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),o=Math.min(o,.5*r),this.lines([[n-2*i,0],[i*s,0,i,o-o*s,i,o],[0,r-2*o],[0,o*s,-i*s,o,-i,o],[2*i-n,0],[-i*s,0,-i,-o*s,-i,-o],[0,2*o-r],[0,-o*s,i*s,-o,i,-o]],e+i,t,[1,1],a,!0),this},f.__private__.ellipse=f.ellipse=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!kt(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return Ot(e+n,t),Dt(e+n,t-a,e+o,t-r,e,t-r),Dt(e-o,t-r,e-n,t-a,e-n,t),Dt(e-n,t+a,e-o,t+r,e,t+r),Dt(e+o,t+r,e+n,t+a,e+n,t),It(i),this},f.__private__.circle=f.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!kt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},f.setFont=function(e,t,n){return n&&(t=_(t,n)),he=ct(e,t,{disableWarning:!1}),this};var jt=f.__private__.getFont=f.getFont=function(){return me[ct.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var e,t,n={};for(e in ye)if(ye.hasOwnProperty(e))for(t in n[e]=[],ye[e])ye[e].hasOwnProperty(t)&&n[e].push(t);return n},f.addFont=function(e,t,n,r,i){var o=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==o.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==o.indexOf(arguments[3])&&(n=_(n,r)),nt.call(this,e,t,n,i=i||"Identity-H")};var Mt,Rt=e.lineWidth||.200025,Ft=f.__private__.getLineWidth=f.getLineWidth=function(){return Rt},Bt=f.__private__.setLineWidth=f.setLineWidth=function(e){return Rt=e,X(k(P(e))+" w"),this};f.__private__.setLineDash=tu.API.setLineDash=tu.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return k(P(e))}).join(" "),t=k(P(t)),X("["+e+"] "+t+" d"),this};var zt=f.__private__.getLineHeight=f.getLineHeight=function(){return te*Mt};f.__private__.getLineHeight=f.getLineHeight=function(){return te*Mt};var Ut=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Mt=e),this},qt=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Mt};Ut(e.lineHeight);var Vt=f.__private__.getHorizontalCoordinate=function(e){return P(e)},Wt=f.__private__.getVerticalCoordinate=function(e){return w===b?e:Ae[B].mediaBox.topRightY-Ae[B].mediaBox.bottomLeftY-P(e)},Ht=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(e){return k(Vt(e))},$t=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(e){return k(Wt(e))},Kt=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return qe(Kt)},f.__private__.setStrokeColor=f.setDrawColor=function(e,t,n,r){return Kt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),X(Kt),this};var Gt=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return qe(Gt)},f.__private__.setFillColor=f.setFillColor=function(e,t,n,r){return Gt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),X(Gt),this};var Qt=e.textColor||"0 g",Yt=f.__private__.getTextColor=f.getTextColor=function(){return qe(Qt)};f.__private__.setTextColor=f.setTextColor=function(e,t,n,r){return Qt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Xt=e.charSpace,Jt=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Xt||0)};f.__private__.setCharSpace=f.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xt=e,this};var Zt=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,X(t+" J"),this};var en=0;f.__private__.setLineJoin=f.setLineJoin=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return en=t,X(t+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(k(P(e))+" M"),this},f.GState=Xc,f.setGState=function(e){(e="string"==typeof e?xe[Se[e]]:tn(null,e)).equals(_e)||(X("/"+e.id+" gs"),_e=e)};var tn=function(e,t){if(!e||!Se[e]){var n=!1;for(var r in xe)if(xe.hasOwnProperty(r)&&xe[r].equals(t)){n=!0;break}if(n)t=xe[r];else{var i="GS"+(Object.keys(xe).length+1).toString(10);xe[i]=t,t.id=i}return e&&(Se[e]=t.id),Ee.publish("addGState",t),t}};f.addGState=function(e,t){return tn(e,t),this},f.saveGraphicsState=function(){return X("q"),ve.push({key:he,size:te,color:Qt}),this},f.restoreGraphicsState=function(){X("Q");var e=ve.pop();return he=e.key,te=e.size,Qt=e.color,_e=null,this},f.setCurrentTransformationMatrix=function(e){return X(e.toString()+" cm"),this},f.comment=function(e){return X("#"+e),this};var nn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},rn=function(e,t,n,r){nn.call(this,e,t),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var o=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(e){isNaN(e)||(o=parseFloat(e))}}),this},on=function(){this.page=ke,this.currentPage=B,this.pages=K.slice(0),this.pagesContext=Ae.slice(0),this.x=fe,this.y=pe,this.matrix=ge,this.width=ln(B),this.height=un(B),this.outputDestination=Q,this.id="",this.objectNumber=-1};on.prototype.restore=function(){ke=this.page,B=this.currentPage,Ae=this.pagesContext,K=this.pages,fe=this.x,pe=this.y,ge=this.matrix,cn(B,this.width),hn(B,this.height),Q=this.outputDestination};var an=function(e,t,n,r,i){Ne.push(new on),ke=B=0,K=[],fe=e,pe=t,ge=i,it([n,r])};for(var sn in f.beginFormObject=function(e,t,n,r,i){return an(e,t,n,r,i),this},f.endFormObject=function(e){return function(e){if(Pe[e])Ne.pop().restore();else{var t=new on,n="Xo"+(Object.keys(Ie).length+1).toString(10);t.id=n,Pe[e]=n,Ie[n]=t,Ee.publish("addFormObject",t),Ne.pop().restore()}}(e),this},f.doFormObject=function(e,t){var n=Ie[Pe[e]];return X("q"),X(t.toString()+" cm"),X("/"+n.id+" Do"),X("Q"),this},f.getFormObject=function(e){var t=Ie[Pe[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},f.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Nc(mt(gt()),e),"function"==typeof Nc.unload&&Sc.setTimeout&&setTimeout(Nc.unload,911),this):new Promise(function(t,n){try{var r=Nc(mt(gt()),e);"function"==typeof Nc.unload&&Sc.setTimeout&&setTimeout(Nc.unload,911),t(r)}catch(e){n(e.message)}})},tu.API)tu.API.hasOwnProperty(sn)&&("events"===sn&&tu.API.events.length?function(e,t){var n,r,i;for(i=t.length-1;-1!==i;i--)n=t[i][0],r=t[i][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Ee,tu.API.events):f[sn]=tu.API[sn]);var ln=f.getPageWidth=function(e){return(Ae[e=e||B].mediaBox.topRightX-Ae[e].mediaBox.bottomLeftX)/de},cn=f.setPageWidth=function(e,t){Ae[e].mediaBox.topRightX=t*de+Ae[e].mediaBox.bottomLeftX},un=f.getPageHeight=function(e){return(Ae[e=e||B].mediaBox.topRightY-Ae[e].mediaBox.bottomLeftY)/de},hn=f.setPageHeight=function(e,t){Ae[e].mediaBox.topRightY=t*de+Ae[e].mediaBox.bottomLeftY};return f.internal={pdfEscape:rt,getStyle:At,getFont:jt,getFontSize:re,getCharSpace:Jt,getTextColor:Yt,getLineHeight:zt,getLineHeightFactor:qt,getLineWidth:Ft,write:J,getHorizontalCoordinate:Vt,getVerticalCoordinate:Wt,getCoordinateString:Ht,getVerticalCoordinateString:$t,collections:{},newObject:Me,newAdditionalObject:Be,newObjectDeferred:Re,newObjectDeferredBegin:Fe,getFilters:We,putStream:He,events:Ee,scaleFactor:de,pageSize:{getWidth:function(){return ln(B)},setWidth:function(e){cn(B,e)},getHeight:function(){return un(B)},setHeight:function(e){hn(B,e)}},encryptionOptions:u,encryption:bt,getEncryptor:function(e){return null!==u?bt.encryptor(e,0):function(e){return e}},output:yt,getNumberOfPages:lt,pages:K,out:X,f2:T,f3:I,getPageInfo:wt,getPageInfoByObjId:xt,getCurrentPageInfo:St,getPDFVersion:g,Point:nn,Rectangle:rn,Matrix:Ce,hasHotfix:vt},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return ln(B)},set:function(e){cn(B,e)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return un(B)},set:function(e){hn(B,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=nt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===h&&(d[r]=!0);var i=e[t][0].split("-");tt({id:r,fontName:i[0],fontStyle:i[1]||""})}Ee.publish("addFonts",{fonts:me,dictionary:ye})}.call(f,ee),he="F1",ot(i,n),Ee.publish("initialized"),f}Gc.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Gc.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Gc.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Gc.prototype.processOwnerPassword=function(e,t){return $c(Vc(t).substr(0,5),e)},Gc.prototype.encryptor=function(e,t){var n=Vc(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return $c(n,e)}},Xc.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,Al.A)(e)!==(0,Al.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},tu.API={events:[]},tu.version="3.0.1";var nu=tu.API,ru=1,iu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ou=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},au=function(e){return e.toFixed(2)},su=function(e){return e.toFixed(5)};nu.__acroform__={};var lu=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},cu=function(e){return e*ru},uu=function(e){var t=new Tu,n=Uu.internal.getHeight(e)||0,r=Uu.internal.getWidth(e)||0;return t.BBox=[0,0,Number(au(r)),Number(au(n))],t},hu=nu.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},du=nu.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},fu=nu.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},pu=nu.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fu(e,t-1)},gu=nu.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return hu(e,t-1)},mu=nu.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return du(e,t-1)},yu=nu.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],o=e[1],a=e[2],s=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+s)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(o)||0,[Number(au(l.lowerLeft_X)),Number(au(l.lowerLeft_Y)),Number(au(l.upperRight_X)),Number(au(l.upperRight_Y))]},vu=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=bu(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+au(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=uu(e);return o.scope=e.scope,o.stream=t.join("\n"),o}},bu=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(e){return e.split("\n")}):i.map(function(e){return[e]});var o=n,a=Uu.internal.getHeight(e)||0;a=a<0?-a:a;var s=Uu.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(t,n,r){if(t+1<i.length){var o=n+" "+i[t+1][0];return wu(o,e,r).width<=s-4}return!1};o++;e:for(;o>0;){t="",o--;var c,u,h=wu("3",e,o).height,d=e.multiline?a-o:(a-h)/2,f=d+=2,p=0,g=0,m=0;if(o<=0){t="(...) Tj\n",t+="% Width of Text: "+wu(t,e,o=12).width+", FieldWidth:"+s+"\n";break}for(var y="",v=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var w=!1;if(1!==i[b].length&&m!==i[b].length-1){if((h+2)*(v+2)+2>a)continue e;y+=i[b][m],w=!0,g=b,b--}else{y=" "==(y+=i[b][m]+" ").substr(y.length-1)?y.substr(0,y.length-1):y;var x=parseInt(b),S=l(x,y,o),_=b>=i.length-1;if(S&&!_){y+=" ",m=0;continue}if(S||_){if(_)g=x;else if(e.multiline&&(h+2)*(v+2)+2>a)continue e}else{if(!e.multiline)continue e;if((h+2)*(v+2)+2>a)continue e;g=x}}for(var k="",A=p;A<=g;A++){var E=i[A];if(e.multiline){if(A===g){k+=E[m]+" ",m=(m+1)%E.length;continue}if(A===p){k+=E[E.length-1]+" ";continue}}k+=E[0]+" "}switch(k=" "==k.substr(k.length-1)?k.substr(0,k.length-1):k,u=wu(k,e,o).width,e.textAlign){case"right":c=s-u-2;break;case"center":c=(s-u)/2;break;default:c=2}t+=au(c)+" "+au(f)+" Td\n",t+="("+iu(k)+") Tj\n",t+=-au(c)+" 0 Td\n",f=-(o+2),u=0,p=w?g:g+1,v++,y=""}break}return r.text=t,r.fontSize=o,r},wu=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},xu={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Su=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},_u=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(Pu.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(xu)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ru=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Iu,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&Su(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var i=e[r],o=[],a=i.Rect;if(i.Rect&&(i.Rect=yu(i.Rect,t)),t.internal.newObjectDeferredBegin(i.objId,!0),i.DA=Uu.createDefaultAppearanceStream(i),"object"===(0,Al.A)(i)&&"function"==typeof i.getKeyValueListForStream&&(o=i.getKeyValueListForStream()),i.Rect=a,i.hasAppearanceStream&&!i.appearanceStreamContent){var s=vu(i);o.push({key:"AP",value:"<</N "+s+">>"}),t.internal.acroformPlugin.xForms.push(s)}if(i.appearanceStreamContent){var l="";for(var c in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(c)){var u=i.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var r in u)if(u.hasOwnProperty(r)){var h=u[r];"function"==typeof h&&(h=h.call(t,i)),l+="/"+r+" "+h+" ",t.internal.acroformPlugin.xForms.indexOf(h)>=0||t.internal.acroformPlugin.xForms.push(h)}}else"function"==typeof(h=u)&&(h=h.call(t,i)),l+="/"+r+" "+h,t.internal.acroformPlugin.xForms.indexOf(h)>=0||t.internal.acroformPlugin.xForms.push(h);l+=">>"}o.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:o,objectId:i.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),"object"===(0,Al.A)(i)&&"function"==typeof i.putStream&&i.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},ku=nu.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var i="[",o=0;o<e.length;o++)switch(0!==o&&(i+=" "),(0,Al.A)(e[o])){case"boolean":case"number":case"object":i+=e[o].toString();break;case"string":"/"!==e[o].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),i+="("+iu(r(e[o].toString()))+")"):i+=e[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Au=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+iu(r(e))+")"},Eu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Eu.prototype.toString=function(){return this.objId+" 0 R"},Eu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Eu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:ku(i,this.objId,this.scope)}):i instanceof Eu?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:r,value:i}))}return e};var Tu=function(){Eu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};lu(Tu,Eu);var Iu=function(){Eu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+iu(t(e))+")"}},set:function(t){e=t}})};lu(Iu,Eu);var Pu=function e(){Eu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(t,3))},set:function(e){!0===Boolean(e)?this.F=gu(t,3):this.F=mu(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Ru)return;o="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+iu(t(o))+")"},set:function(e){o=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(e){o=e}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/ru:c},set:function(e){c=e}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(e){u=e}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Ru||this instanceof Bu))return Au(h,this.objId,this.scope)},set:function(e){e=e.toString(),h=e}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Du==0?Au(d,this.objId,this.scope):d},set:function(e){e=e.toString(),d=this instanceof Du==0?"("===e.substr(0,1)?ou(e.substr(1,e.length-2)):ou(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Du==1?ou(d.substr(1,d.length-1)):d},set:function(e){e=e.toString(),d=this instanceof Du==1?"/"+e:e}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Du==0?Au(f,this.objId,this.scope):f},set:function(e){e=e.toString(),f=this instanceof Du==0?"("===e.substr(0,1)?ou(e.substr(1,e.length-2)):ou(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Du==1?ou(f.substr(1,f.length-1)):f},set:function(e){e=e.toString(),f=this instanceof Du==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(e){e=Boolean(e),g=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(e){p=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,1):this.Ff=mu(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,2):this.Ff=mu(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,3):this.Ff=mu(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');m=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(m){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};lu(Pu,Eu);var Nu=function(){Pu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ku(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,i=[];r=t.exec(e);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,18):this.Ff=mu(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=gu(this.Ff,19):this.Ff=mu(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=gu(this.Ff,20),t.sort()):this.Ff=mu(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,22):this.Ff=mu(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,23):this.Ff=mu(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,27):this.Ff=mu(this.Ff,27)}}),this.hasAppearanceStream=!1};lu(Nu,Pu);var Cu=function(){Nu.call(this),this.fontName="helvetica",this.combo=!1};lu(Cu,Nu);var Ou=function(){Cu.call(this),this.combo=!0};lu(Ou,Cu);var Lu=function(){Ou.call(this),this.edit=!0};lu(Lu,Ou);var Du=function(){Pu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,15):this.Ff=mu(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,16):this.Ff=mu(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,17):this.Ff=mu(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,26):this.Ff=mu(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+iu(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,Al.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};lu(Du,Pu);var ju=function(){Du.call(this),this.pushButton=!0};lu(ju,Du);var Mu=function(){Du.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};lu(Mu,Du);var Ru=function(){var e,t;Pu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+iu(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,Al.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Uu.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};lu(Ru,Pu),Mu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Mu.prototype.createOption=function(e){var t=new Ru;return t.Parent=this,t.optionName=e,this.Kids.push(t),qu.call(this.scope,t),t};var Fu=function(){Du.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Uu.CheckBox.createAppearanceStream()};lu(Fu,Du);var Bu=function(){Pu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,13):this.Ff=mu(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,21):this.Ff=mu(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,23):this.Ff=mu(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,24):this.Ff=mu(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,25):this.Ff=mu(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,26):this.Ff=mu(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};lu(Bu,Pu);var zu=function(){Bu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(pu(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=gu(this.Ff,14):this.Ff=mu(this.Ff,14)}}),this.password=!0};lu(zu,Bu);var Uu={CheckBox:{createAppearanceStream:function(){return{N:{On:Uu.CheckBox.YesNormal},D:{On:Uu.CheckBox.YesPushDown,Off:Uu.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=uu(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=bu(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+au(Uu.internal.getWidth(e))+" "+au(Uu.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+au(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=uu(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],o=Uu.internal.getHeight(e),a=Uu.internal.getWidth(e),s=bu(e,e.caption);return i.push("1 g"),i.push("0 0 "+au(a)+" "+au(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+au(a-1)+" "+au(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+au(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=uu(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+au(Uu.internal.getWidth(e))+" "+au(Uu.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Uu.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Uu.RadioButton.Circle.YesNormal,t.D[e]=Uu.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=uu(e);t.scope=e.scope;var n=[],r=Uu.internal.getWidth(e)<=Uu.internal.getHeight(e)?Uu.internal.getWidth(e)/4:Uu.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Uu.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+su(Uu.internal.getWidth(e)/2)+" "+su(Uu.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=uu(e);t.scope=e.scope;var n=[],r=Uu.internal.getWidth(e)<=Uu.internal.getHeight(e)?Uu.internal.getWidth(e)/4:Uu.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Uu.internal.Bezier_C).toFixed(5)),a=Number((r*Uu.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+su(Uu.internal.getWidth(e)/2)+" "+su(Uu.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+su(Uu.internal.getWidth(e)/2)+" "+su(Uu.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=uu(e);t.scope=e.scope;var n=[],r=Uu.internal.getWidth(e)<=Uu.internal.getHeight(e)?Uu.internal.getWidth(e)/4:Uu.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Uu.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+su(Uu.internal.getWidth(e)/2)+" "+su(Uu.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Uu.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Uu.RadioButton.Cross.YesNormal,t.D[e]=Uu.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=uu(e);t.scope=e.scope;var n=[],r=Uu.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+au(Uu.internal.getWidth(e)-2)+" "+au(Uu.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(au(r.x1.x)+" "+au(r.x1.y)+" m"),n.push(au(r.x2.x)+" "+au(r.x2.y)+" l"),n.push(au(r.x4.x)+" "+au(r.x4.y)+" m"),n.push(au(r.x3.x)+" "+au(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=uu(e);t.scope=e.scope;var n=Uu.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+au(Uu.internal.getWidth(e))+" "+au(Uu.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+au(Uu.internal.getWidth(e)-2)+" "+au(Uu.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(au(n.x1.x)+" "+au(n.x1.y)+" m"),r.push(au(n.x2.x)+" "+au(n.x2.y)+" l"),r.push(au(n.x4.x)+" "+au(n.x4.y)+" m"),r.push(au(n.x3.x)+" "+au(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=uu(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+au(Uu.internal.getWidth(e))+" "+au(Uu.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Uu.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Uu.internal.getWidth(e),n=Uu.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Uu.internal.getWidth=function(e){var t=0;return"object"===(0,Al.A)(e)&&(t=cu(e.Rect[2])),t},Uu.internal.getHeight=function(e){var t=0;return"object"===(0,Al.A)(e)&&(t=cu(e.Rect[3])),t};var qu=nu.addField=function(e){if(_u(this,e),!(e instanceof Pu))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};nu.AcroFormChoiceField=Nu,nu.AcroFormListBox=Cu,nu.AcroFormComboBox=Ou,nu.AcroFormEditBox=Lu,nu.AcroFormButton=Du,nu.AcroFormPushButton=ju,nu.AcroFormRadioButton=Mu,nu.AcroFormCheckBox=Fu,nu.AcroFormTextField=Bu,nu.AcroFormPasswordField=zu,nu.AcroFormAppearance=Uu,nu.AcroForm={ChoiceField:Nu,ListBox:Cu,ComboBox:Ou,EditBox:Lu,Button:Du,PushButton:ju,RadioButton:Mu,CheckBox:Fu,TextField:Bu,PasswordField:zu,Appearance:Uu},tu.AcroForm={ChoiceField:Nu,ListBox:Cu,ComboBox:Ou,EditBox:Lu,Button:Du,PushButton:ju,RadioButton:Mu,CheckBox:Fu,TextField:Bu,PasswordField:zu,Appearance:Uu};tu.AcroForm;function Vu(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(e,r){var i,o,a,s,l,c=t;if("RGBA"===(r=r||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(S(e))for(l in n)for(a=n[l],i=0;i<a.length;i+=1){for(s=!0,o=0;o<a[i].length;o+=1)if(void 0!==a[i][o]&&a[i][o]!==e[o]){s=!1;break}if(!0===s){c=l;break}}else for(l in n)for(a=n[l],i=0;i<a.length;i+=1){for(s=!0,o=0;o<a[i].length;o+=1)if(void 0!==a[i][o]&&a[i][o]!==e.charCodeAt(o)){s=!1;break}if(!0===s){c=l;break}}return c===t&&r!==t&&(c=r),c},i=function e(t){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var o=[];if(o.push({key:"Type",value:"/XObject"}),o.push({key:"Subtype",value:"/Image"}),o.push({key:"Width",value:t.width}),o.push({key:"Height",value:t.height}),t.colorSpace===m.INDEXED?o.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(o.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===m.DEVICE_CMYK&&o.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),o.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&o.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var a="",s=0,l=t.transparency.length;s<l;s++)a+=t.transparency[s]+" "+t.transparency[s]+" ";o.push({key:"Mask",value:"["+a+"]"})}void 0!==t.sMask&&o.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:o,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var u="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,h={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:u,data:t.sMask};"filter"in t&&(h.filter=t.filter),e.call(this,h)}if(t.colorSpace===m.INDEXED){var d=this.internal.newObject();r({data:k(new Uint8Array(t.palette)),objectId:d}),n("endobj")}},o=function(){var e=this.internal.collections.addImage_images;for(var t in e)i.call(this,e[t])},a=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).index,e.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var e=this.internal.collections.addImage_images;return s.call(this),e},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===(0,Al.A)(e)&&1===e.nodeType},d=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return Ic(unescape(r).split("base64,").pop());var i=e.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var o;switch(n){case"PNG":o="image/png";break;case"WEBP":o="image/webp";break;default:o="image/jpeg"}return Ic(t.toDataURL(o,1).split("base64,").pop())}},f=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},p=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,i,o){var a=p.call(this,n,r,i),s=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=l.call(this);if(n=a[0],r=a[1],u[i.index]=i,o){o*=Math.PI/180;var h=Math.cos(o),d=Math.sin(o),f=function(e){return e.toFixed(4)},g=[f(h),f(d),f(-1*d),f(h),0,0,"cm"]}this.internal.write("q"),o?(this.internal.write([1,"0","0",1,s(e),c(t+r),"cm"].join(" ")),this.internal.write(g.join(" ")),this.internal.write([s(n),"0","0",s(r),"0","0","cm"].join(" "))):this.internal.write([s(n),"0","0",s(r),s(e),c(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},m=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(S(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},b=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null},x=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return x()&&e instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(e){return x()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},_=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},k=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=S(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,n,r,i,o,a,l,c,u;if("number"==typeof arguments[1]?(n=t,r=arguments[1],i=arguments[2],o=arguments[3],a=arguments[4],l=arguments[5],c=arguments[6],u=arguments[7]):(n=arguments[1],r=arguments[2],i=arguments[3],o=arguments[4],a=arguments[5],l=arguments[6],c=arguments[7],u=arguments[8]),"object"===(0,Al.A)(e=arguments[0])&&!h(e)&&"imageData"in e){var d=e;e=d.imageData,n=d.format||n||t,r=d.x||r||0,i=d.y||i||0,o=d.w||d.width||o,a=d.h||d.height||a,l=d.alias||l,c=d.compression||c,u=d.rotation||d.angle||u}var f=this.internal.getFilters();if(void 0===c&&-1!==f.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var p=A.call(this,e,n,l,c);return g.call(this,r,i,o,a,p,u),this};var A=function(n,i,o,a){var s,l,p;if("string"==typeof n&&r(n)===t){n=unescape(n);var g=E(n,!1);(""!==g||void 0!==(g=e.loadFile(n,!0)))&&(n=g)}if(h(n)&&(n=d(n,i)),i=r(n,i),!u(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if((null==(p=o)||0===p.length)&&(o=function(e){return"string"==typeof e||S(e)?v(e):S(e.data)?v(e.data):null}(n)),(s=f.call(this,o))||(x()&&(n instanceof Uint8Array||"RGBA"===i||(l=n,n=_(n))),s=this["process"+i.toUpperCase()](n,c.call(this),o,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:y.NONE}(a),l)),!s)throw new Error("An unknown error occurred whilst processing the image.");return s},E=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var i;n=null!==(i=w(e))&&void 0!==i?i:e;try{r=Ic(n)}catch(e){if(t)throw b(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(n){var i,o,a="";if(h(n)&&(n=d(n)),"string"==typeof n&&r(n)===t&&(""===(a=E(n,!1))&&(a=e.loadFile(n)||""),n=a),o=r(n),!u(o))throw new Error("addImage does not support files of type '"+o+"', please ensure that a plugin for '"+o+"' support is added.");if(!x()||n instanceof Uint8Array||(n=_(n)),!(i=this["process"+o.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return i.fileType=o,i}}(tu.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};tu.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,u=0;u<l.length&&!c;u++)switch((n=l[u]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var h=0;h<l.length;h++){n=l[h];var d=this.internal.pdfEscape,f=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(p.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+d(m(n.contents))+")",i+=" /Popup "+g.objId+" 0 R",i+=" /P "+s.objId+" 0 R",i+=" /T ("+d(m(y))+") >>",p.content=i;var v=p.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+v,n.open&&(i+=" /Open true"),i+=" >>",g.content=i,this.internal.write(p.objId,"0 R",g.objId,"0 R");break;case"freetext":r="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var b=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+d(f(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var w=this.annotations._nameMap[n.options.name];n.options.pageNumber=w.page,n.options.top=w.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+d(f(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var x=a(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+x+" "+n.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,i){var o=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:a(e),y:s(t),w:a(e+n),h:s(t+r)},options:i,type:"link"})},e.textWithLink=function(e,t,n,r){var i,o,a=this.getTextWidth(e),s=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){o=r.maxWidth;var l=this.splitTextToSize(e,o).length;i=Math.ceil(s*l)}else o=a,i=s;return this.text(e,t,n,r),n+=.2*s,"center"===r.align&&(t-=a/2),"right"===r.align&&(t-=a),this.link(t,n-s,o,i,r),a},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(tu.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},a=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},s=e.__arabicParser__.isArabicEndLetter=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return a(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return a(e)&&o(e)&&t[e.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return a(e)&&o(e)&&4==t[e.charCodeAt(0)].length},h=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,i="",o=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(o++,"number"==typeof(r=r[e.charCodeAt(t)])&&(i+=String.fromCharCode(r),r=n,o=0),t===e.length-1&&(r=n,i+=e.charAt(t-(o-1)),t-=o-1,o=0)):(r=n,i+=e.charAt(t-o),t-=o,o=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var d=e.__arabicParser__.getCorrectForm=function(e,t,n){return a(e)?!1===o(e)?-1:!c(e)||!a(t)&&!a(n)||!a(n)&&s(t)||s(e)&&!a(t)||s(e)&&l(t)||s(e)&&s(t)?0:u(e)&&a(t)&&!s(t)&&a(n)&&c(n)?3:s(e)||!a(n)?1:2:-1},f=function(e){var n=0,r=0,i=0,o="",s="",l="",c=(e=e||"").split("\\s+"),u=[];for(n=0;n<c.length;n+=1){for(u.push(""),r=0;r<c[n].length;r+=1)o=c[n][r],s=c[n][r-1],l=c[n][r+1],a(o)?(i=d(o,s,l),u[n]+=-1!==i?String.fromCharCode(t[o.charCodeAt(0)][i]):o):u[n]+=o;u[n]=h(u[n])}return u.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([f(t[r][0]),t[r][1],t[r][2]]):n.push([f(t[r])]);e=n}else e=f(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",p])}(tu.API),tu.API.autoPrint=function(e){var t;if("javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")});return this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(tu.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var o=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return o},set:function(e){o=e}});var a=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return a},set:function(e){a=e}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),i=t.font||this.getFont(),o=t.scaleFactor||this.internal.scaleFactor,a=0,s=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var u=t.maxWidth;u>0?"string"==typeof e?e=this.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,u))},[])):e=Array.isArray(e)?e:[e];for(var h=0;h<e.length;h++)a<(l=this.getStringUnitWidth(e[h],{font:i})*n)&&(a=l);return 0!==a&&(s=e.length),{w:a/=o,h:Math.max((s*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/o,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var e;e=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var i=this.internal.__cell__.lastCell,a=this.internal.__cell__.padding,s=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===e.lineNumber?(e.x=(i.x||0)+(i.width||0),e.y=i.y||0):i.y+i.height+e.height+s.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=s.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=i.y+i.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-a,e.y+a,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+a,{align:"center",baseline:"top",maxWidth:e.width-a-a}):this.text(e.text,e.x+a,e.y+a,{align:"left",baseline:"top",maxWidth:e.width-a-a})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,u){if(r.call(this),!l)throw new Error("No data for PDF table.");var h,d,f,p,g=[],m=[],y=[],v={},b={},w=[],x=[],S=(u=u||{}).autoSize||!1,_=!1!==u.printHeaders,k=u.css&&void 0!==u.css["font-size"]?16*u.css["font-size"]:u.fontSize||12,A=u.margins||Object.assign({width:this.getPageWidth()},t),E="number"==typeof u.padding?u.padding:3,T=u.headerBackgroundColor||"#c8c8c8",I=u.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=I,this.setFontSize(k),null==c)m=g=Object.keys(l[0]),y=g.map(function(){return"left"});else if(Array.isArray(c)&&"object"===(0,Al.A)(c[0]))for(g=c.map(function(e){return e.name}),m=c.map(function(e){return e.prompt||e.name||""}),y=c.map(function(e){return e.align||"left"}),h=0;h<c.length;h+=1)b[c[h].name]=c[h].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(m=g=c,y=g.map(function(){return"left"}));if(S||Array.isArray(c)&&"string"==typeof c[0])for(h=0;h<g.length;h+=1){for(v[p=g[h]]=l.map(function(e){return e[p]}),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(m[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=v[p],this.setFont(void 0,"normal"),f=0;f<d.length;f+=1)w.push(this.getTextDimensions(d[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[p]=Math.max.apply(null,w)+E+E,w=[]}if(_){var P={};for(h=0;h<g.length;h+=1)P[g[h]]={},P[g[h]].text=m[h],P[g[h]].align=y[h];var N=s.call(this,P,b);x=g.map(function(t){return new o(e,n,b[t],N,P[t].text,void 0,P[t].align)}),this.setTableHeaderRow(x),this.printHeaderRow(1,!1)}var C=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(h=0;h<l.length;h+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:h,data:l[h]},this);var O=s.call(this,l[h],b);for(f=0;f<g.length;f+=1){var L=l[h][g[f]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:h,col:f,data:L},this),a.call(this,new o(e,n,b[g[f]],O,L,h+2,C[g[f]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var s=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map(function(r){var i=e[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/i+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var s=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(s[0],s[1],s[2],s[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){i=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(i.y=this.internal.__cell__.margins.top||0,l.push(i)),i.lineNumber=e;var u=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,i),this.setTextColor(u)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(tu.API);var Wu={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Hu=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$u=Vu(Hu),Ku=[100,200,300,400,500,600,700,800,900],Gu=Vu(Ku);function Qu(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return Wu[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),i=function(e){return"number"==typeof $u[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function Yu(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var Xu={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ju={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Zu(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function eh(e){return e.trimLeft()}function th(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function nh(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var rh,ih,oh,ah,sh=["times"];!function(e){var t,n,r,i,o,a,s,l,c,u=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new a,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new a,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,a=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var o=0;Object.defineProperty(this,"posY",{get:function(){return o},set:function(e){isNaN(e)||(o=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var a=!1;Object.defineProperty(this,"autoPaging",{get:function(){return a},set:function(e){a=e}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(e){s=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof u&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var h=[];Object.defineProperty(this,"ctxStack",{get:function(){return h},set:function(e){h=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=d(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=d(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var f=null;function p(e,t){if(null===f){var n=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))})}),t}(e.getFontList());f=function(e){for(var t={},n=0;n<e.length;++n){var r=Qu(e[n]),i=r.family,o=r.stretch,a=r.style,s=r.weight;t[i]=t[i]||{},t[i][o]=t[i][o]||{},t[i][o][a]=t[i][o][a]||{},t[i][o][a][s]=r}return t}(n.concat(t))}return f}var g=null;Object.defineProperty(this,"fontFaces",{get:function(){return g},set:function(e){f=null,g=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],i=t[4];t[5];var o=t[6],a=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===a?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===a?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var s=function(e){var t,n,r=[],i=e.trim();if(""===i)return sh;if(i in Ju)return[Ju[i]];for(;""!==i;){switch(n=null,t=(i=eh(i)).charAt(0)){case'"':case"'":n=th(i.substring(1),t);break;default:n=nh(i)}if(null===n)return sh;if(r.push(n[0]),""!==(i=eh(n[1]))&&","!==i.charAt(0))return sh;i=i.replace(/^,/,"")}return r}(o);if(this.fontFaces){var l=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Xu,n.genericFontFamilies||{}),o=null,a=null,s=0;s<t.length;++s)if(i[(o=Qu(t[s])).family]&&(o.family=i[o.family]),e.hasOwnProperty(o.family)){a=e[o.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+Zu(o)+"' and default family '"+r+"'.");if(a=function(e,t){if(t[e])return t[e];var n=$u[e],r=n<=$u.normal?-1:1,i=Yu(t,Hu,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(o.stretch,a),a=function(e,t){if(t[e])return t[e];for(var n=Wu[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(o.style,a),!(a=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=Gu[e],r=Yu(t,Ku,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(o.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Zu(o)+"'.");return a}(p(this.pdf,this.fontFaces),s.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var u="",h={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},d=0;d<s.length;d++){if(void 0!==this.pdf.internal.getFont(s[d],c,{noFallback:!0,disableWarning:!0})){u=s[d];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(s[d],"bold",{noFallback:!0,disableWarning:!0}))u=s[d],c="bold";else if(void 0!==this.pdf.internal.getFont(s[d],"normal",{noFallback:!0,disableWarning:!0})){u=s[d],c="normal";break}}if(""===u)for(var f=0;f<s.length;f++)if(h[s[f]]){u=h[s[f]];break}u=""===u?"Times":u,this.pdf.setFont(u,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,R.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,R.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};h.prototype.setLineDash=function(e){this.lineDash=e},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){w.call(this,"fill",!1)},h.prototype.stroke=function(){w.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw kc.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(e,t)},h.prototype.closePath=function(){var e=new a(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,Al.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new a(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(e.x,e.y)},h.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw kc.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(n.x,n.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},h.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw kc.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new a(n,r)),o=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"qct",x1:o.x,y1:o.y,x:i.x,y:i.y}),this.ctx.lastPoint=new a(i.x,i.y)},h.prototype.bezierCurveTo=function(e,t,n,r,i,o){if(isNaN(i)||isNaN(o)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw kc.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new a(i,o)),l=this.ctx.transform.applyToPoint(new a(e,t)),c=this.ctx.transform.applyToPoint(new a(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:s.x,y:s.y}),this.ctx.lastPoint=new a(s.x,s.y)},h.prototype.arc=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i))throw kc.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new a(e,t));e=s.x,t=s.y;var l=this.ctx.transform.applyToPoint(new a(0,n)),c=this.ctx.transform.applyToPoint(new a(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:i,counterclockwise:o})},h.prototype.arcTo=function(e,t,n,r,i){throw new Error("arcTo not implemented.")},h.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw kc.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},h.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw kc.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},h.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw kc.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},h.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw kc.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},h.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},h.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(e){var t,n,r,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,i=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==o)t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=parseFloat(o[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var a=new Cc(e);e=a.ok?a.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:i,style:e}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};h.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw kc.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!f.call(this)){var i=D(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;I.call(this,{text:e,x:t,y:n,scale:o,angle:i,align:this.textAlign,maxWidth:r})}},h.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw kc.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){r=isNaN(r)?void 0:r;var i=D(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;I.call(this,{text:e,x:t,y:n,scale:o,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},h.prototype.measureText=function(e){if("string"!=typeof e)throw kc.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},h.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw kc.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.rotate=function(e){if(isNaN(e))throw kc.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},h.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw kc.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.transform=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o))throw kc.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new l(e,t,n,r,i,o);this.ctx.transform=this.ctx.transform.multiply(a)},h.prototype.setTransform=function(e,t,n,r,i,o){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,o=isNaN(o)?0:o,this.ctx.transform=new l(e,t,n,r,i,o)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(e,t,n,r,i,o,a,c,u){var h=this.pdf.getImageProperties(e),d=1,f=1,p=1,y=1;void 0!==r&&void 0!==c&&(p=c/r,y=u/i,d=h.width/r*c/r,f=h.height/i*u/i),void 0===o&&(o=t,a=n,t=0,n=0),void 0!==r&&void 0===c&&(c=r,u=i),void 0===r&&void 0===c&&(c=h.width,u=h.height);for(var w,S=this.ctx.transform.decompose(),_=D(S.rotate.shx),k=new l,A=(k=(k=(k=k.multiply(S.translate)).multiply(S.skew)).multiply(S.scale)).applyToRectangle(new s(o-t*p,a-n*y,r*d,i*f)),E=m.call(this,A),T=[],I=0;I<E.length;I+=1)-1===T.indexOf(E[I])&&T.push(E[I]);if(b(T),this.autoPaging)for(var P=T[0],N=T[T.length-1],C=P;C<N+1;C++){this.pdf.setPage(C);var O=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],L=1===C?this.posY+this.margin[0]:this.margin[0],j=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],M=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],R=1===C?0:j+(C-2)*M;if(0!==this.ctx.clip_path.length){var F=this.path;w=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(w,this.posX+this.margin[3],-R+L+this.ctx.prevPageLastElemOffset),x.call(this,"fill",!0),this.path=F}var B=JSON.parse(JSON.stringify(A));B=v([B],this.posX+this.margin[3],-R+L+this.ctx.prevPageLastElemOffset)[0];var z=(C>P||C<N)&&g.call(this);z&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],O,M,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",B.x,B.y,B.w,B.h,null,null,_),z&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",A.x,A.y,A.w,A.h,null,null,_)};var m=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+i)/n)+1);break;case"arc":r.push(Math.floor((e.y+i-e.radius)/n)+1),r.push(Math.floor((e.y+i+e.radius)/n)+1);break;case"qct":var o=j(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((o.y+i)/n)+1),r.push(Math.floor((o.y+o.h+i)/n)+1);break;case"bct":var a=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((a.y+i)/n)+1),r.push(Math.floor((a.y+a.h+i)/n)+1);break;case"rect":r.push(Math.floor((e.y+i)/n)+1),r.push(Math.floor((e.y+e.h+i)/n)+1)}for(var s=0;s<r.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<r[s];)y.call(this);return r},y=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=o},v=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},b=function(e){return e.sort(function(e,t){return e-t})},w=function(e,t){for(var n,r,i=this.fillStyle,o=this.strokeStyle,a=this.lineCap,s=this.lineWidth,l=Math.abs(s*this.ctx.transform.scaleX),c=this.lineJoin,u=JSON.parse(JSON.stringify(this.path)),h=JSON.parse(JSON.stringify(this.path)),d=[],f=0;f<h.length;f++)if(void 0!==h[f].x)for(var p=m.call(this,h[f]),w=0;w<p.length;w+=1)-1===d.indexOf(p[w])&&d.push(p[w]);for(var S=0;S<d.length;S++)for(;this.pdf.internal.getNumberOfPages()<d[S];)y.call(this);if(b(d),this.autoPaging)for(var _=d[0],k=d[d.length-1],A=_;A<k+1;A++){this.pdf.setPage(A),this.fillStyle=i,this.strokeStyle=o,this.lineCap=a,this.lineWidth=l,this.lineJoin=c;var E=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],T=1===A?this.posY+this.margin[0]:this.margin[0],I=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],P=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],N=1===A?0:I+(A-2)*P;if(0!==this.ctx.clip_path.length){var C=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(n,this.posX+this.margin[3],-N+T+this.ctx.prevPageLastElemOffset),x.call(this,e,!0),this.path=C}if(r=JSON.parse(JSON.stringify(u)),this.path=v(r,this.posX+this.margin[3],-N+T+this.ctx.prevPageLastElemOffset),!1===t||0===A){var O=(A>_||A<k)&&g.call(this);O&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],E,P,null).clip().discardPath()),x.call(this,e,t),O&&this.pdf.restoreGraphicsState()}this.lineWidth=s}else this.lineWidth=l,x.call(this,e,t),this.lineWidth=s;this.path=u},x=function(e,t){if(("stroke"!==e||t||!p.call(this))&&("stroke"===e||t||!f.call(this))){for(var n,r,i=[],o=this.path,a=0;a<o.length;a++){var s=o[a];switch(s.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:s,deltas:[],abs:[]});break;case"lt":var l=i.length;if(o[a-1]&&!isNaN(o[a-1].x)&&(n=[s.x-o[a-1].x,s.y-o[a-1].y],l>0))for(;l>=0;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(n),i[l-1].abs.push(s);break}break;case"bct":n=[s.x1-o[a-1].x,s.y1-o[a-1].y,s.x2-o[a-1].x,s.y2-o[a-1].y,s.x-o[a-1].x,s.y-o[a-1].y],i[i.length-1].deltas.push(n);break;case"qct":var c=o[a-1].x+2/3*(s.x1-o[a-1].x),u=o[a-1].y+2/3*(s.y1-o[a-1].y),h=s.x+2/3*(s.x1-s.x),d=s.y+2/3*(s.y1-s.y),g=s.x,m=s.y;n=[c-o[a-1].x,u-o[a-1].y,h-o[a-1].x,d-o[a-1].y,g-o[a-1].x,m-o[a-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(s)}}r=t?null:"stroke"===e?"stroke":"fill";for(var y=!1,v=0;v<i.length;v++)if(i[v].arc)for(var b=i[v].abs,w=0;w<b.length;w++){var x=b[w];"arc"===x.type?k.call(this,x.x,x.y,x.radius,x.startAngle,x.endAngle,x.counterclockwise,void 0,t,!y):P.call(this,x.x,x.y),y=!0}else if(!0===i[v].close)this.pdf.internal.out("h"),y=!1;else if(!0!==i[v].begin){var S=i[v].start.x,_=i[v].start.y;N.call(this,i[v].deltas,S,_),y=!0}r&&A.call(this,r),t&&E.call(this)}},S=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},_=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(e,t,n,r,i,o,a,s,l){for(var c=O.call(this,n,r,i,o),u=0;u<c.length;u++){var h=c[u];0===u&&(l?T.call(this,h.x1+e,h.y1+t):P.call(this,h.x1+e,h.y1+t)),C.call(this,e,t,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}s?E.call(this):A.call(this,a)},A=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},E=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},I=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=S.call(this,e.y),i=_.call(this,r)-n.h,o=this.ctx.transform.applyToPoint(new a(e.x,r)),c=this.ctx.transform.decompose(),u=new l;u=(u=(u=u.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var h,d,f,p=this.ctx.transform.applyToRectangle(new s(e.x,r,n.w,n.h)),y=u.applyToRectangle(new s(e.x,i,n.w,n.h)),w=m.call(this,y),k=[],A=0;A<w.length;A+=1)-1===k.indexOf(w[A])&&k.push(w[A]);if(b(k),this.autoPaging)for(var E=k[0],T=k[k.length-1],I=E;I<T+1;I++){this.pdf.setPage(I);var P=1===I?this.posY+this.margin[0]:this.margin[0],N=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],C=this.pdf.internal.pageSize.height-this.margin[2],O=C-this.margin[0],L=this.pdf.internal.pageSize.width-this.margin[1],D=L-this.margin[3],j=1===I?0:N+(I-2)*O;if(0!==this.ctx.clip_path.length){var M=this.path;h=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(h,this.posX+this.margin[3],-1*j+P),x.call(this,"fill",!0),this.path=M}var R=v([JSON.parse(JSON.stringify(y))],this.posX+this.margin[3],-j+P+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale);var F="text"!==this.autoPaging;if(F||R.y+R.h<=C){if(F||R.y>=P&&R.x<=L){var B=F?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||L-R.x)[0],z=v([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-j+P+this.ctx.prevPageLastElemOffset)[0],U=F&&(I>E||I<T)&&g.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],D,O,null).clip().discardPath()),this.pdf.text(B,z.x,z.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),U&&this.pdf.restoreGraphicsState()}}else R.y<C&&(this.ctx.prevPageLastElemOffset+=C-R.y);e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)}else e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale),this.pdf.text(e.text,o.x+this.posX,o.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)},P=function(e,t,i,o){i=i||0,o=o||0,this.pdf.internal.out(n(e+i)+" "+r(t+o)+" l")},N=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},C=function(e,n,r,a,s,l,c,u){this.pdf.internal.out([t(i(r+e)),t(o(a+n)),t(i(s+e)),t(o(l+n)),t(i(c+e)),t(o(u+n)),"c"].join(" "))},O=function(e,t,n,r){for(var i=2*Math.PI,o=Math.PI/2;t>n;)t-=i;var a=Math.abs(n-t);a<i&&r&&(a=i-a);for(var s=[],l=r?-1:1,c=t;a>1e-5;){var u=c+l*Math.min(a,o);s.push(L.call(this,e,c,u)),a-=Math.abs(u-c),c=u}return s},L=function(e,t,n){var r=(n-t)/2,i=e*Math.cos(r),o=e*Math.sin(r),a=i,s=-o,l=a*a+s*s,c=l+a*i+s*o,u=4/3*(Math.sqrt(2*l*c)-c)/(a*o-s*i),h=a-u*s,d=s+u*a,f=h,p=-d,g=r+t,m=Math.cos(g),y=Math.sin(g);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:h*m-d*y,y2:h*y+d*m,x3:f*m-p*y,y3:f*y+p*m,x4:e*Math.cos(n),y4:e*Math.sin(n)}},D=function(e){return 180*e/Math.PI},j=function(e,t,n,r,i,o){var a=e+.5*(n-e),l=t+.5*(r-t),c=i+.5*(n-i),u=o+.5*(r-o),h=Math.min(e,i,a,c),d=Math.max(e,i,a,c),f=Math.min(t,o,l,u),p=Math.max(t,o,l,u);return new s(h,f,d-h,p-f)},M=function(e,t,n,r,i,o,a,l){var c,u,h,d,f,p,g,m,y,v,b,w,x,S,_=n-e,k=r-t,A=i-n,E=o-r,T=a-i,I=l-o;for(u=0;u<41;u++)y=(g=(h=e+(c=u/40)*_)+c*((f=n+c*A)-h))+c*(f+c*(i+c*T-f)-g),v=(m=(d=t+c*k)+c*((p=r+c*E)-d))+c*(p+c*(o+c*I-p)-m),0==u?(b=y,w=v,x=y,S=v):(b=Math.min(b,y),w=Math.min(w,v),x=Math.max(x,y),S=Math.max(S,v));return new s(Math.round(b),Math.round(w),Math.round(x-b),Math.round(S-w))},R=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(tu.API),function(e){var t=function(e){var t,n,r,i,o,a,s,l,c,u;for(/[^\x00-\xFF]/.test(e),n=[],r=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>r;r+=4)0!==(o=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(a=(o=((o=((o=((o=(o-(u=o%85))/85)-(c=o%85))/85)-(l=o%85))/85)-(s=o%85))/85)%85,n.push(a+33,s+33,l+33,c+33,u+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,i,o,a=String,s="length",l=255,c="charCodeAt",u="slice",h="replace";for(e[u](-2),e=e[u](0,-2)[h](/\s/g,"")[h]("z","!!!!!"),r=[],i=0,o=(e+=t="uuuuu"[u](e[s]%5||5))[s];o>i;i+=5)n=52200625*(e[c](i)-33)+614125*(e[c](i+1)-33)+7225*(e[c](i+2)-33)+85*(e[c](i+3)-33)+(e[c](i+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[s]),a.fromCharCode.apply(a,r)},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},i=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=bc(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,o){var a=0,s=e||"",l=[];for("string"==typeof(o=o||[])&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":s=n(s),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":s=t(s),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":s=r(s),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":s=s.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":s=i(s),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:s,reverseChain:l.reverse().join(" ")}}}(tu.API),(ah=tu.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,i=0,o=function(e){var t=e.length,n=[],r=String.fromCharCode;for(i=0;i<t;i+=1)n.push(r(255&e.charCodeAt(i)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(o(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return o(r.responseText)}(e,t,n)}catch(e){}return r}(e,t,n)},ah.loadImageFile=ah.loadFile,function(e){function t(){return(Sc.html2canvas?Promise.resolve(Sc.html2canvas):n.e(239).then(n.t.bind(n,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(Sc.DOMPurify?Promise.resolve(Sc.DOMPurify):n.e(977).then(n.bind(n,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var i=function(e){var t=(0,Al.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},o=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},a=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(e,t){return e.__proto__=t||a.prototype,e},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(i(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(r).then(function(t){return this.set({src:o("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},a.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(e(i,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var o=0;o<n.length;++o){var a=n[o],s=a.src.find(function(e){return"truetype"===e.format});s&&t.addFont(s.url,a.ref.name,a.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},a.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},a.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},a.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(e){if("object"!==i(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in a.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},a.prototype.get=function(e,t){return this.then(function(){var n=e in a.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},a.prototype.setMargin=function(e){return this.then(function(){switch(i(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},a.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||tu.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},a.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},a.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},a.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:a.convert(Object.assign({},this),Promise.prototype),i=n.call(r,e,t);return a.convert(i,this.__proto__)},a.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},a.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},a.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return a.convert(t,this)},a.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},a.prototype.error=function(e){return this.then(function(){throw new Error(e)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,tu.getPageSize=function(e,t,n){if("object"===(0,Al.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var i,o=(""+n).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+t}var s,l=0,c=0;if(a.hasOwnProperty(o))l=a[o][1]/i,c=a[o][0]/i;else try{l=n[1],c=n[0]}catch(ah){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(s=c,c=l,l=s);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(s=c,c=l,l=s)}return{width:c,height:l,unit:t,k:i,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Qu):null;var n=new a(t);return t.worker?n:n.from(e).doCallback()}}(tu.API),tu.API.addJS=function(e){return oh=e,this.internal.events.subscribe("postPutResources",function(){rh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(rh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ih=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+oh+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==rh&&void 0!==ih&&this.internal.out("/Names <</JavaScript "+rh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),i=0;i<r.length;i++){var o=r[i],a=n.exec(o);if(null!=a){var s=a[1];e.internal.newObjectDeferredBegin(s,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(i=0;i<l;i++){var u=e.internal.newObject();c.push(u);var h=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<c.length;i++)e.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+d+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var i=t.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var a=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var s=0;s<t.children.length;s++)this.renderItems(t.children[s])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(tu.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,i,o,a){var s,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(s=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,o={width:0,height:0,numcomponents:1},a=4;a<i;a+=2){if(a+=r,-1!==t.indexOf(e.charCodeAt(a+1))){n=256*e.charCodeAt(a+5)+e.charCodeAt(a+6),o={width:256*e.charCodeAt(a+7)+e.charCodeAt(a+8),height:n,numcomponents:e.charCodeAt(a+9)};break}r=256*e.charCodeAt(a+2)+e.charCodeAt(a+3)}return o}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:e,width:s.width,height:s.height,colorSpace:a,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(tu.API);var lh,ch,uh,hh,dh,fh=function(){var e,t,n;function r(e){var t,n,r,i,o,a,s,l,c,u,h,d,f,p;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(t=this.readUInt32(),c=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,a.delay=1e3*o/i,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,t-=4),e=(null!=a?a.data:void 0)||this.imgData,d=0;0<=t?d<t:d>t;0<=t?++d:--d)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((u=r-this.transparency.indexed.length)>0)for(f=0;0<=u?f<u:f>u;0<=u?++f:--f)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":s=(h=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,h.slice(0,s)),this.text[l]=String.fromCharCode.apply(String,h.slice(s+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),r=0,i=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function o(o,a,s,l){var c,u,h,d,f,p,g,m,y,v,b,w,x,S,_,k,A,E,T,I,P,N=Math.ceil((i.width-o)/s),C=Math.ceil((i.height-a)/l),O=i.width==N&&i.height==C;for(S=t*N,w=O?n:new Uint8Array(S*C),p=e.length,x=0,u=0;x<C&&r<p;){switch(e[r++]){case 0:for(d=A=0;A<S;d=A+=1)w[u++]=e[r++];break;case 1:for(d=E=0;E<S;d=E+=1)c=e[r++],f=d<t?0:w[u-t],w[u++]=(c+f)%256;break;case 2:for(d=T=0;T<S;d=T+=1)c=e[r++],h=(d-d%t)/t,_=x&&w[(x-1)*S+h*t+d%t],w[u++]=(_+c)%256;break;case 3:for(d=I=0;I<S;d=I+=1)c=e[r++],h=(d-d%t)/t,f=d<t?0:w[u-t],_=x&&w[(x-1)*S+h*t+d%t],w[u++]=(c+Math.floor((f+_)/2))%256;break;case 4:for(d=P=0;P<S;d=P+=1)c=e[r++],h=(d-d%t)/t,f=d<t?0:w[u-t],0===x?_=k=0:(_=w[(x-1)*S+h*t+d%t],k=h&&w[(x-1)*S+(h-1)*t+d%t]),g=f+_-k,m=Math.abs(g-f),v=Math.abs(g-_),b=Math.abs(g-k),y=m<=v&&m<=b?f:v<=b?_:k,w[u++]=(c+y)%256;break;default:throw new Error("Invalid filter algorithm: "+e[r-1])}if(!O){var L=((a+x*l)*i.width+o)*t,D=x*S;for(d=0;d<N;d+=1){for(var j=0;j<t;j+=1)n[L++]=w[D++];L+=(s-1)*t}}x++}}return e=wc(e),1==i.interlaceMethod?(o(0,0,8,8),o(4,0,8,8),o(0,4,4,8),o(2,0,4,4),o(0,2,2,4),o(1,0,2,2),o(0,1,1,2)):o(0,0,1,1),n},r.prototype.decodePalette=function(){var e,t,n,r,i,o,a,s,l;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,e=0,t=a=0,s=n.length;a<s;t=a+=3)i[r++]=n[t],i[r++]=n[t+1],i[r++]=n[t+2],i[r++]=null!=(l=o[e++])?l:255;return i},r.prototype.copyToImageData=function(e,t){var n,r,i,o,a,s,l,c,u,h,d;if(r=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(i=e.data||e).length,a=u||t,o=s=0,1===r)for(;o<c;)l=u?4*t[o/4]:s,h=a[l++],i[o++]=h,i[o++]=h,i[o++]=h,i[o++]=n?a[l++]:255,s=l;else for(;o<c;)l=u?4*t[o/4]:s,i[o++]=a[l++],i[o++]=a[l++],i[o++]=a[l++],i[o++]=n?a[l++]:255,s=l},r.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var i=function(){if("[object Window]"===Object.prototype.toString.call(Sc)){try{t=Sc.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return i(),e=function(e){var r;if(!0===i())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(r=new Image).src=t.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(t){var n,r,i,o,a,s,l,c;if(this.animation){for(c=[],r=a=0,s=(l=this.animation.frames).length;a<s;r=++a)n=l[r],i=t.createImageData(n.width,n.height),o=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,o),n.imageData=i,c.push(n.image=e(i));return c}},r.prototype.renderFrame=function(e,t){var n,r,i;return n=(r=this.animation.frames)[t],i=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?e.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&e.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(e){var t,n,r,i,o,a,s=this;return n=0,a=this.animation,i=a.numFrames,r=a.frames,o=a.numPlays,(t=function(){var a,l;if(a=n++%i,l=r[a],s.renderFrame(e,a),i>1&&n/i<o)return s.animation._timeout=setTimeout(t,l.delay)})()},r.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},r.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},r}();function ph(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,a=1<<1+(7&i);e[t++],e[t++];var s=null,l=null;o&&(s=t,l=a,t+=3*a);var c=!0,u=[],h=0,d=null,f=0,p=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(0===T)break;t+=T}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var g=e[t++];h=e[t++]|e[t++]<<8,d=e[t++],0==(1&g)&&(d=null),f=g>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(0===T)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var m=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++],x=w>>6&1,S=1<<1+(7&w),_=s,k=l,A=!1;w>>7&&(A=!0,_=t,k=S,t+=3*S);var E=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(0===T)break;t+=T}u.push({x:m,y:y,width:v,height:b,has_local_palette:A,palette_offset:_,palette_size:k,data_offset:E,data_length:t-E,transparent_index:d,interlaced:!!x,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||e>=u.length)throw new Error("Frame index out of range.");return u[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,a=new Uint8Array(o);gh(e,i.data_offset,a,o);var s=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,u=n-c,h=c,d=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=d,g=4*u;!0===i.interlaced&&(g+=4*n*7);for(var m=8,y=0,v=a.length;y<v;++y){var b=a[y];if(0===h&&(h=c,(p+=g)>=f&&(g=4*u+4*n*(m-1),p=d+(c+u)*(m<<1),m>>=1)),b===l)p+=4;else{var w=e[s+3*b],x=e[s+3*b+1],S=e[s+3*b+2];r[p++]=S,r[p++]=x,r[p++]=w,r[p++]=255}--h}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,a=new Uint8Array(o);gh(e,i.data_offset,a,o);var s=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,u=n-c,h=c,d=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=d,g=4*u;!0===i.interlaced&&(g+=4*n*7);for(var m=8,y=0,v=a.length;y<v;++y){var b=a[y];if(0===h&&(h=c,(p+=g)>=f&&(g=4*u+4*n*(m-1),p=d+(c+u)*(m<<1),m>>=1)),b===l)p+=4;else{var w=e[s+3*b],x=e[s+3*b+1],S=e[s+3*b+2];r[p++]=w,r[p++]=x,r[p++]=S,r[p++]=255}--h}}}function gh(e,t,n,r){for(var i=e[t++],o=1<<i,a=o+1,s=a+1,l=i+1,c=(1<<l)-1,u=0,h=0,d=0,f=e[t++],p=new Int32Array(4096),g=null;;){for(;u<16&&0!==f;)h|=e[t++]<<u,u+=8,1===f?f=e[t++]:--f;if(u<l)break;var m=h&c;if(h>>=l,u-=l,m!==o){if(m===a)break;for(var y=m<s?m:g,v=0,b=y;b>o;)b=p[b]>>8,++v;var w=b;if(d+v+(y!==m?1:0)>r)return void kc.log("Warning, gif stream longer than expected.");n[d++]=w;var x=d+=v;for(y!==m&&(n[d++]=w),b=y;v--;)b=p[b],n[--x]=255&b,b>>=8;null!==g&&s<4096&&(p[s++]=g<<8|w,s>=c+1&&l<12&&(++l,c=c<<1|1)),g=m}else s=a+1,c=(1<<(l=i+1))-1,g=null}return d!==r&&kc.log("Warning, gif stream shorter than expected."),n}function mh(e){var t,n,r,i,o,a=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),p=new Array(64),g=[],m=0,y=7,v=new Array(64),b=new Array(64),w=new Array(64),x=new Array(256),S=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],C=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(e,t){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=e[o];a++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=o,r++,n++;n*=2}return i}function L(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(m|=1<<y),n--,--y<0&&(255==m?(D(255),D(0)):D(m),y=7,m=0)}function D(e){g.push(e)}function j(e){D(e>>8&255),D(255&e)}function M(e,t,n,r,i){for(var o,a=i[0],s=i[240],l=function(e,t){var n,r,i,o,a,s,l,c,u,h,d=0;for(u=0;u<8;++u){n=e[d],r=e[d+1],i=e[d+2],o=e[d+3],a=e[d+4],s=e[d+5],l=e[d+6];var p=n+(c=e[d+7]),g=n-c,m=r+l,y=r-l,v=i+s,b=i-s,w=o+a,x=o-a,S=p+w,_=p-w,k=m+v,A=m-v;e[d]=S+k,e[d+4]=S-k;var E=.707106781*(A+_);e[d+2]=_+E,e[d+6]=_-E;var T=.382683433*((S=x+b)-(A=y+g)),I=.5411961*S+T,P=1.306562965*A+T,N=.707106781*(k=b+y),C=g+N,O=g-N;e[d+5]=O+I,e[d+3]=O-I,e[d+1]=C+P,e[d+7]=C-P,d+=8}for(d=0,u=0;u<8;++u){n=e[d],r=e[d+8],i=e[d+16],o=e[d+24],a=e[d+32],s=e[d+40],l=e[d+48];var L=n+(c=e[d+56]),D=n-c,j=r+l,M=r-l,R=i+s,F=i-s,B=o+a,z=o-a,U=L+B,q=L-B,V=j+R,W=j-R;e[d]=U+V,e[d+32]=U-V;var H=.707106781*(W+q);e[d+16]=q+H,e[d+48]=q-H;var $=.382683433*((U=z+F)-(W=M+D)),K=.5411961*U+$,G=1.306562965*W+$,Q=.707106781*(V=F+M),Y=D+Q,X=D-Q;e[d+40]=X+K,e[d+24]=X-K,e[d+8]=Y+G,e[d+56]=Y-G,d++}for(u=0;u<64;++u)h=e[u]*t[u],f[u]=h>0?h+.5|0:h-.5|0;return f}(e,t),c=0;c<64;++c)p[_[c]]=l[c];var u=p[0]-n;n=p[0],0==u?L(r[0]):(L(r[d[o=32767+u]]),L(h[o]));for(var g=63;g>0&&0==p[g];)g--;if(0==g)return L(a),n;for(var m,y=1;y<=g;){for(var v=y;0==p[y]&&y<=g;)++y;var b=y-v;if(b>=16){m=b>>4;for(var w=1;w<=m;++w)L(s);b&=15}o=32767+p[y],L(i[(b<<4)+d[o]]),L(h[o]),y++}return 63!=g&&L(a),n}function R(e){e=Math.min(Math.max(e,1),100),o!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),s[_[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var h=a((i[o]*e+50)/100);h=Math.min(Math.max(h,1),255),l[_[o]]=h}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var g=0;g<8;g++)c[f]=1/(s[_[f]]*d[p]*d[g]*8),u[f]=1/(l[_[f]]*d[p]*d[g]*8),f++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),o=e)}this.encode=function(e,o){o&&R(o),g=new Array,m=0,y=7,j(65496),j(65504),j(16),D(74),D(70),D(73),D(70),D(0),D(1),D(1),D(0),j(1),j(1),D(0),D(0),function(){j(65499),j(132),D(0);for(var e=0;e<64;e++)D(s[e]);D(1);for(var t=0;t<64;t++)D(l[t])}(),function(e,t){j(65472),j(17),D(8),j(t),j(e),D(3),D(1),D(17),D(0),D(2),D(17),D(1),D(3),D(17),D(1)}(e.width,e.height),function(){j(65476),j(418),D(0);for(var e=0;e<16;e++)D(k[e+1]);for(var t=0;t<=11;t++)D(A[t]);D(16);for(var n=0;n<16;n++)D(E[n+1]);for(var r=0;r<=161;r++)D(T[r]);D(1);for(var i=0;i<16;i++)D(I[i+1]);for(var o=0;o<=11;o++)D(P[o]);D(17);for(var a=0;a<16;a++)D(N[a+1]);for(var s=0;s<=161;s++)D(C[s])}(),j(65498),j(12),D(3),D(1),D(0),D(2),D(17),D(3),D(17),D(0),D(63),D(0);var a=0,h=0,d=0;m=0,y=7,this.encode.displayName="_encode_";for(var f,p,x,_,O,F,B,z,U,q=e.data,V=e.width,W=e.height,H=4*V,$=0;$<W;){for(f=0;f<H;){for(O=H*$+f,B=-1,z=0,U=0;U<64;U++)F=O+(z=U>>3)*H+(B=4*(7&U)),$+z>=W&&(F-=H*($+1+z-W)),f+B>=H&&(F-=f+B-H+4),p=q[F++],x=q[F++],_=q[F++],v[U]=(S[p]+S[x+256|0]+S[_+512|0]>>16)-128,b[U]=(S[p+768|0]+S[x+1024|0]+S[_+1280|0]>>16)-128,w[U]=(S[p+1280|0]+S[x+1536|0]+S[_+1792|0]>>16)-128;a=M(v,c,a,t,r),h=M(b,u,h,n,i),d=M(w,u,d,n,i),f+=32}$+=8}if(y>=0){var K=[];K[1]=y+1,K[0]=(1<<y+1)-1,L(K)}return j(65497),new Uint8Array(g)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)x[t]=e(t)}(),t=O(k,A),n=O(I,P),r=O(E,T),i=O(N,C),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)d[32767+r]=n,h[32767+r]=[],h[32767+r][1]=n,h[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)d[32767+i]=n,h[32767+i]=[],h[32767+i][1]=n,h[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)S[e]=19595*e,S[e+256|0]=38470*e,S[e+512|0]=7471*e+32768,S[e+768|0]=-11059*e,S[e+1024|0]=-21709*e,S[e+1280|0]=32768*e+8421375,S[e+1536|0]=-27439*e,S[e+1792|0]=-5329*e}(),R(e)}function yh(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vh(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,i){for(var o=0;o<i;o++)e[t+o]=n[r+o]}function i(e,t,n,r){for(var i=0;i<r;i++)e[t+i]=n}function o(e){return new Int32Array(e)}function a(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function s(e,t){var n=[];return function e(n,r,i){for(var o=i[r],a=0;a<o&&(n.push(i.length>r+1?[]:new t),!(i.length<r+1));a++)e(n[a],r+1,i)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,i,o){t(!(i%r));do{e[n+(i-=r)]=o}while(0<i)}function u(e,n,r,i,a){if(t(2328>=a),512>=a)var s=o(512);else if(null==(s=o(a)))return 0;return function(e,n,r,i,a,s){var u,d,f=n,p=1<<r,g=o(16),m=o(16);for(t(0!=a),t(null!=i),t(null!=e),t(0<r),d=0;d<a;++d){if(15<i[d])return 0;++g[i[d]]}if(g[0]==a)return 0;for(m[1]=0,u=1;15>u;++u){if(g[u]>1<<u)return 0;m[u+1]=m[u]+g[u]}for(d=0;d<a;++d)u=i[d],0<i[d]&&(s[m[u]++]=d);if(1==m[15])return(i=new h).g=0,i.value=s[0],c(e,f,1,p,i),p;var y,v=-1,b=p-1,w=0,x=1,S=1,_=1<<r;for(d=0,u=1,a=2;u<=r;++u,a<<=1){if(x+=S<<=1,0>(S-=g[u]))return 0;for(;0<g[u];--g[u])(i=new h).g=u,i.value=s[d++],c(e,f+w,a,_,i),w=l(w,u)}for(u=r+1,a=2;15>=u;++u,a<<=1){if(x+=S<<=1,0>(S-=g[u]))return 0;for(;0<g[u];--g[u]){if(i=new h,(w&b)!=v){for(f+=_,y=1<<(v=u)-r;15>v&&!(0>=(y-=g[v]));)++v,y<<=1;p+=_=1<<(y=v-r),e[n+(v=w&b)].g=y+r,e[n+v].value=f-n-v}i.g=u-r,i.value=s[d++],c(e,f+(w>>r),a,_,i),w=l(w,u)}}return x!=2*m[15]-1?0:p}(e,n,r,i,a,s)}function h(){this.value=this.g=0}function d(){this.value=this.g=0}function f(){this.G=a(5,h),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Bn,d)}function p(e,n,r,i){t(null!=e),t(null!=n),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+i,e.Zc=4<=i?r+i-4+1:r,E(e)}function g(e,t){for(var n=0;0<t--;)n|=I(e,128)<<t;return n}function m(e,t){var n=g(e,t);return T(e)?-n:n}function y(e,n,r,i){var o,a=0;for(t(null!=e),t(null!=n),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),o=0;o<i;++o)a+=n[r+o]<<8*o;e.Ra=a,e.bb=i,e.oa=n,e.pa=r}function v(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<qn-8>>>0,++e.bb,e.u-=8;_(e)&&(e.h=1,e.u=0)}function b(e,n){if(t(0<=n),!e.h&&n<=Un){var r=S(e)&zn[n];return e.u+=n,v(e),r}return e.h=1,e.u=0}function w(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function x(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function S(e){return e.Ra>>>(e.u&qn-1)>>>0}function _(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>qn}function k(e,t){e.u=t,e.h=_(e)}function A(e){e.u>=Vn&&(t(e.u>=Vn),v(e))}function E(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function T(e){return g(e,1)}function I(e,t){var n=e.Ca;0>e.b&&E(e);var r=e.b,i=n*t>>>8,o=(e.I>>>r>i)+0;for(o?(n-=i,e.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+Wn[r],e.b-=r,e.Ca=(n<<r)-1,o}function P(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function N(e,t){return e[t+0]|e[t+1]<<8}function C(e,t){return N(e,t)|e[t+2]<<16}function O(e,t){return N(e,t)|N(e,t+2)<<16}function L(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=o(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function D(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function j(){this.X=[],this.Xa=this.Mb=0}function M(e,n,r,i){t(null!=r),t(null!=i);var o=r[0],a=i[0];return 0==o&&(o=(e*a+n/2)/n),0==a&&(a=(n*o+e/2)/e),0>=o||0>=a?0:(r[0]=o,i[0]=a,1)}function R(e,t){return e+(1<<t)-1>>>t}function F(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function B(t,n){e[n]=function(n,r,i,o,a,s,l){var c;for(c=0;c<a;++c){var u=e[t](s[l+c-1],i,o+c);s[l+c]=F(n[r+c],u)}}}function z(){this.ud=this.hd=this.jd=0}function U(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function q(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function V(e,t){return q(e+(e-t+.5>>1))}function W(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function H(e,t,n,r,i,o,a){for(r=o[a-1],n=0;n<i;++n)o[a+n]=r=F(e[t+n],r)}function $(e,t,n,r,i){var o;for(o=0;o<n;++o){var a=e[t+o],s=a>>8&255,l=16711935&(l=(l=16711935&a)+((s<<16)+s));r[i+o]=(4278255360&a)+l>>>0}}function K(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function G(e,t,n,r,i,o){var a;for(a=0;a<r;++a){var s=t[n+a],l=s>>>8,c=s,u=255&(u=(u=s>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(u<<24>>24)>>>5)),i[o+a]=(4278255360&s)+(u<<16)+c}}function Q(t,n,r,i,o){e[n]=function(e,t,n,r,a,s,l,c,u){for(r=l;r<c;++r)for(l=0;l<u;++l)a[s++]=o(n[i(e[t++])])},e[t]=function(t,n,a,s,l,c,u){var h=8>>t.b,d=t.Ea,f=t.K[0],p=t.w;if(8>h)for(t=(1<<t.b)-1,p=(1<<h)-1;n<a;++n){var g,m=0;for(g=0;g<d;++g)g&t||(m=i(s[l++])),c[u++]=o(f[m&p]),m>>=h}else e["VP8LMapColor"+r](s,l,f,p,c,u,n,a,d)}}function Y(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=255&o}}function X(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=255&o,r[i++]=o>>24&255}}function J(e,t,n,r,i){for(n=t+n;t<n;){var o=(a=e[t++])>>16&240|a>>12&15,a=240&a|a>>28&15;r[i++]=o,r[i++]=a}}function Z(e,t,n,r,i){for(n=t+n;t<n;){var o=(a=e[t++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;r[i++]=o,r[i++]=a}}function ee(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=255&o,r[i++]=o>>8&255,r[i++]=o>>16&255}}function te(e,t,n,i,o,a){if(0==a)for(n=t+n;t<n;)P(i,((a=e[t++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),o+=32;else r(i,o,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Vr||e==Wr||e==Hr||e==$r}function ie(){this.eb=[],this.size=this.A=this.fb=0}function oe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ae(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new oe,this.sd=null}function se(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function ue(e,t){var n=e.T,i=t.ba.f.RGBA,o=i.eb,a=i.fb+e.ka*i.A,s=yi[t.ba.S],l=e.y,c=e.O,u=e.f,h=e.N,d=e.ea,f=e.W,p=t.cc,g=t.dc,m=t.Mc,y=t.Nc,v=e.ka,b=e.ka+e.T,w=e.U,x=w+1>>1;for(0==v?s(l,c,null,null,u,h,d,f,u,h,d,f,o,a,null,null,w):(s(t.ec,t.fc,l,c,p,g,m,y,u,h,d,f,o,a-i.A,o,a,w),++n);v+2<b;v+=2)p=u,g=h,m=d,y=f,h+=e.Rc,f+=e.Rc,a+=2*i.A,s(l,(c+=2*e.fa)-e.fa,l,c,p,g,m,y,u,h,d,f,o,a-i.A,o,a,w);return c+=e.fa,e.j+b<e.o?(r(t.ec,t.fc,l,c,w),r(t.cc,t.dc,u,h,x),r(t.Mc,t.Nc,d,f,x),n--):1&b||s(l,c,null,null,u,h,d,f,u,h,d,f,o,a+i.A,null,null,w),n}function he(e,n,r){var i=e.F,o=[e.J];if(null!=i){var a=e.U,s=n.ba.S,l=s==zr||s==Hr;n=n.ba.f.RGBA;var c=[0],u=e.ka;c[0]=e.T,e.Kb&&(0==u?--c[0]:(--u,o[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-u));var h=n.eb;u=n.fb+u*n.A,e=Ar(i,o[0],e.width,a,c,h,u+(l?0:3),n.A),t(r==c),e&&re(s)&&_r(h,u,l,a,c,n.A)}return 0}function de(e){var t=e.ma,n=t.ba.S,r=11>n,i=n==Rr||n==Br||n==zr||n==Ur||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Mn(t.Oa,e,i?11:12))return 0;if(i&&re(n)&&bn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=o(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=ue,bn()}}else alert("todo:EmitYUV");i&&(t.Jb=he,r&&yn())}if(r&&!Ci){for(e=0;256>e;++e)Oi[e]=89858*(e-128)+Ei>>Ai,ji[e]=-22014*(e-128)+Ei,Di[e]=-45773*(e-128),Li[e]=113618*(e-128)+Ei>>Ai;for(e=Ti;e<Ii;++e)t=76283*(e-16)+Ei>>Ai,Mi[e-Ti]=He(t,255),Ri[e-Ti]=He(t+8>>4,15);Ci=1}return 1}function fe(e){var n=e.ma,r=e.U,i=e.T;return t(!(1&e.ka)),0>=r||0>=i?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function pe(e){e.ma.memory=null}function ge(e,t,n,r){return 47!=b(e,8)?0:(t[0]=b(e,14)+1,n[0]=b(e,14)+1,r[0]=b(e,1),0!=b(e,3)?0:!e.h)}function me(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+b(t,n)+1}function ye(e,t){return 120<t?t-120:1<=(n=((n=Jr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ve(e,t,n){var r=S(n),i=e[t+=255&r].g-8;return 0<i&&(k(n,n.u+8),r=S(n),t+=e[t].value,t+=r&(1<<i)-1),k(n,n.u+e[t].g),e[t].value}function be(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function we(e,n,r){var i=e.xc;return t((n=0==i?0:e.vc[e.md*(r>>i)+(n>>i)])<e.Wb),e.Ya[n]}function xe(e,n,i,o){var a=e.ab,s=e.c*n,l=e.C;n=l+n;var c=i,u=o;for(o=e.Ta,i=e.Ua;0<a--;){var h=e.gc[a],d=l,f=n,p=c,g=u,m=(u=o,c=i,h.Ea);switch(t(d<f),t(f<=h.nc),h.hc){case 2:Kn(p,g,(f-d)*m,u,c);break;case 0:var y=d,v=f,b=u,w=c,x=(E=h).Ea;0==y&&(Hn(p,g,null,null,1,b,w),H(p,g+1,0,0,x-1,b,w+1),g+=x,w+=x,++y);for(var S=1<<E.b,_=S-1,k=R(x,E.b),A=E.K,E=E.w+(y>>E.b)*k;y<v;){var T=A,I=E,P=1;for($n(p,g,b,w-x,1,b,w);P<x;){var N=(P&~_)+S;N>x&&(N=x),(0,Jn[T[I++]>>8&15])(p,g+ +P,b,w+P-x,N-P,b,w+P),P=N}g+=x,w+=x,++y&_||(E+=k)}f!=h.nc&&r(u,c-m,u,c+(f-d-1)*m,m);break;case 1:for(m=p,v=g,x=(p=h.Ea)-(w=p&~(b=(g=1<<h.b)-1)),y=R(p,h.b),S=h.K,h=h.w+(d>>h.b)*y;d<f;){for(_=S,k=h,A=new z,E=v+w,T=v+p;v<E;)K(_[k++],A),Zn(A,m,v,g,u,c),v+=g,c+=g;v<T&&(K(_[k++],A),Zn(A,m,v,x,u,c),v+=x,c+=x),++d&b||(h+=y)}break;case 3:if(p==u&&g==c&&0<h.b){for(v=u,p=m=c+(f-d)*m-(w=(f-d)*R(h.Ea,h.b)),g=u,b=c,y=[],w=(x=w)-1;0<=w;--w)y[w]=g[b+w];for(w=x-1;0<=w;--w)v[p+w]=y[w];Gn(h,d,f,u,m,u,c)}else Gn(h,d,f,p,g,u,c)}c=o,u=i}u!=i&&r(o,i,c,u,s)}function Se(e,n){var r=e.V,i=e.Ba+e.c*e.C,o=n-e.C;if(t(n<=e.l.o),t(16>=o),0<o){var a=e.l,s=e.Ta,l=e.Ua,c=a.width;if(xe(e,o,r,i),o=l=[l],t((r=e.C)<(i=n)),t(a.v<a.va),i>a.o&&(i=a.o),r<a.j){var u=a.j-r;r=a.j,o[0]+=u*c}if(r>=i?r=0:(o[0]+=4*a.v,a.ka=r-a.j,a.U=a.va-a.v,a.T=i-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var h=r.f.RGBA,d=(i=r.S,o=a.U,a=a.T,u=h.eb,h.A),f=a;for(h=h.fb+e.Ma*h.A;0<f--;){var p=s,g=l,m=o,y=u,v=h;switch(i){case Mr:er(p,g,m,y,v);break;case Rr:tr(p,g,m,y,v);break;case Vr:tr(p,g,m,y,v),_r(y,v,0,m,1,0);break;case Fr:ir(p,g,m,y,v);break;case Br:te(p,g,m,y,v,1);break;case Wr:te(p,g,m,y,v,1),_r(y,v,0,m,1,0);break;case zr:te(p,g,m,y,v,0);break;case Hr:te(p,g,m,y,v,0),_r(y,v,1,m,1,0);break;case Ur:nr(p,g,m,y,v);break;case $r:nr(p,g,m,y,v),kr(y,v,m,1,0);break;case qr:rr(p,g,m,y,v);break;default:t(0)}l+=c,h+=d}e.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function _e(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function ke(e,n,r,i,o,a){if(0!=e.Z){var s=e.qd,l=e.rd;for(t(null!=mi[e.Z]);n<r;++n)mi[e.Z](s,l,i,o,i,o,a),s=i,l=o,o+=a;e.qd=s,e.rd=l}}function Ae(e,n){var r=e.l.ma,i=0==r.Z||1==r.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(n<=e.l.o),n>i){var o=e.l.width,a=r.ca,s=r.tb+o*i,l=e.V,c=e.Ba+e.c*i,u=e.gc;t(1==e.ab),t(3==u[0].hc),Yn(u[0],i,n,l,c,a,s),ke(r,i,n,a,s,o)}e.C=e.Ma=n}function Ee(e,n,r,i,o,a,s){var l=e.$/i,c=e.$%i,u=e.m,h=e.s,d=r+e.$,f=d;o=r+i*o;var p=r+i*a,g=280+h.ua,m=e.Pb?l:16777216,y=0<h.ua?h.Wa:null,v=h.wc,b=d<p?we(h,c,l):null;t(e.C<a),t(p<=o);var w=!1;e:for(;;){for(;w||d<p;){var x=0;if(l>=m){var E=d-r;t((m=e).Pb),m.wd=m.m,m.xd=E,0<m.s.ua&&D(m.s.Wa,m.s.vb),m=l+ei}if(c&v||(b=we(h,c,l)),t(null!=b),b.Qb&&(n[d]=b.qb,w=!0),!w)if(A(u),b.jc){x=u,E=n;var T=d,I=b.pd[S(x)&Bn-1];t(b.jc),256>I.g?(k(x,x.u+I.g),E[T]=I.value,x=0):(k(x,x.u+I.g-256),t(256<=I.value),x=I.value),0==x&&(w=!0)}else x=ve(b.G[0],b.H[0],u);if(u.h)break;if(w||256>x){if(!w)if(b.nd)n[d]=(b.qb|x<<8)>>>0;else{if(A(u),w=ve(b.G[1],b.H[1],u),A(u),E=ve(b.G[2],b.H[2],u),T=ve(b.G[3],b.H[3],u),u.h)break;n[d]=(T<<24|w<<16|x<<8|E)>>>0}if(w=!1,++d,++c>=i&&(c=0,++l,null!=s&&l<=a&&!(l%16)&&s(e,l),null!=y))for(;f<d;)x=n[f++],y.X[(506832829*x&4294967295)>>>y.Mb]=x}else if(280>x){if(x=me(x-256,u),E=ve(b.G[4],b.H[4],u),A(u),E=ye(i,E=me(E,u)),u.h)break;if(d-r<E||o-d<x)break e;for(T=0;T<x;++T)n[d+T]=n[d+T-E];for(d+=x,c+=x;c>=i;)c-=i,++l,null!=s&&l<=a&&!(l%16)&&s(e,l);if(t(d<=o),c&v&&(b=we(h,c,l)),null!=y)for(;f<d;)x=n[f++],y.X[(506832829*x&4294967295)>>>y.Mb]=x}else{if(!(x<g))break e;for(w=x-280,t(null!=y);f<d;)x=n[f++],y.X[(506832829*x&4294967295)>>>y.Mb]=x;x=d,t(!(w>>>(E=y).Xa)),n[x]=E.X[w],w=!0}w||t(u.h==_(u))}if(e.Pb&&u.h&&d<o)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&D(e.s.vb,e.s.Wa);else{if(u.h)break e;null!=s&&s(e,l>a?a:l),e.a=0,e.$=d-r}return 1}return e.a=3,0}function Te(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Ie(){var t=new sn;return null==t?null:(t.a=0,t.xb=gi,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Kn=$,Zn=G,er=Y,tr=X,nr=J,rr=Z,ir=ee,e.VP8LMapColor32b=Qn,e.VP8LMapColor8b=Xn,t)}function Pe(e,n,r,s,l){var c=1,d=[e],p=[n],g=s.m,m=s.s,y=null,v=0;e:for(;;){if(r)for(;c&&b(g,1);){var w=d,x=p,_=s,E=1,T=_.m,I=_.gc[_.ab],P=b(T,2);if(_.Oc&1<<P)c=0;else{switch(_.Oc|=1<<P,I.hc=P,I.Ea=w[0],I.nc=x[0],I.K=[null],++_.ab,t(4>=_.ab),P){case 0:case 1:I.b=b(T,3)+2,E=Pe(R(I.Ea,I.b),R(I.nc,I.b),0,_,I.K),I.K=I.K[0];break;case 3:var N,C=b(T,8)+1,O=16<C?0:4<C?1:2<C?2:3;if(w[0]=R(I.Ea,O),I.b=O,N=E=Pe(C,1,0,_,I.K)){var D,j=C,M=I,B=1<<(8>>M.b),z=o(B);if(null==z)N=0;else{var U=M.K[0],q=M.w;for(z[0]=M.K[0][0],D=1;D<1*j;++D)z[D]=F(U[q+D],z[D-1]);for(;D<4*B;++D)z[D]=0;M.K[0]=null,M.K[0]=z,N=1}}E=N;break;case 2:break;default:t(0)}c=E}}if(d=d[0],p=p[0],c&&b(g,1)&&!(c=1<=(v=b(g,4))&&11>=v)){s.a=3;break e}var V;if(V=c)t:{var W,H,$,K=s,G=d,Q=p,Y=v,X=r,J=K.m,Z=K.s,ee=[null],te=1,ne=0,re=Zr[Y];n:for(;;){if(X&&b(J,1)){var ie=b(J,3)+2,oe=R(G,ie),ae=R(Q,ie),se=oe*ae;if(!Pe(oe,ae,0,K,ee))break n;for(ee=ee[0],Z.xc=ie,W=0;W<se;++W){var le=ee[W]>>8&65535;ee[W]=le,le>=te&&(te=le+1)}}if(J.h)break n;for(H=0;5>H;++H){var ce=Qr[H];!H&&0<Y&&(ce+=1<<Y),ne<ce&&(ne=ce)}var ue=a(te*re,h),he=te,de=a(he,f);if(null==de)var fe=null;else t(65536>=he),fe=de;var pe=o(ne);if(null==fe||null==pe||null==ue){K.a=1;break n}var ge=ue;for(W=$=0;W<te;++W){var me=fe[W],ye=me.G,ve=me.H,we=0,xe=1,Se=0;for(H=0;5>H;++H){ce=Qr[H],ye[H]=ge,ve[H]=$,!H&&0<Y&&(ce+=1<<Y);r:{var _e,ke=ce,Ae=K,Ie=pe,Ne=ge,Ce=$,Oe=0,Le=Ae.m,De=b(Le,1);if(i(Ie,0,0,ke),De){var je=b(Le,1)+1,Me=b(Le,1),Re=b(Le,0==Me?1:8);Ie[Re]=1,2==je&&(Ie[Re=b(Le,8)]=1);var Fe=1}else{var Be=o(19),ze=b(Le,4)+4;if(19<ze){Ae.a=3;var Ue=0;break r}for(_e=0;_e<ze;++_e)Be[Xr[_e]]=b(Le,3);var qe=void 0,Ve=void 0,We=Ae,He=Be,$e=ke,Ke=Ie,Ge=0,Qe=We.m,Ye=8,Xe=a(128,h);i:for(;u(Xe,0,7,He,19);){if(b(Qe,1)){var Je=2+2*b(Qe,3);if((qe=2+b(Qe,Je))>$e)break i}else qe=$e;for(Ve=0;Ve<$e&&qe--;){A(Qe);var Ze=Xe[0+(127&S(Qe))];k(Qe,Qe.u+Ze.g);var et=Ze.value;if(16>et)Ke[Ve++]=et,0!=et&&(Ye=et);else{var tt=16==et,nt=et-16,rt=Gr[nt],it=b(Qe,Kr[nt])+rt;if(Ve+it>$e)break i;for(var ot=tt?Ye:0;0<it--;)Ke[Ve++]=ot}}Ge=1;break i}Ge||(We.a=3),Fe=Ge}(Fe=Fe&&!Le.h)&&(Oe=u(Ne,Ce,8,Ie,ke)),Fe&&0!=Oe?Ue=Oe:(Ae.a=3,Ue=0)}if(0==Ue)break n;if(xe&&1==Yr[H]&&(xe=0==ge[$].g),we+=ge[$].g,$+=Ue,3>=H){var at,st=pe[0];for(at=1;at<ce;++at)pe[at]>st&&(st=pe[at]);Se+=st}}if(me.nd=xe,me.Qb=0,xe&&(me.qb=(ye[3][ve[3]+0].value<<24|ye[1][ve[1]+0].value<<16|ye[2][ve[2]+0].value)>>>0,0==we&&256>ye[0][ve[0]+0].value&&(me.Qb=1,me.qb+=ye[0][ve[0]+0].value<<8)),me.jc=!me.Qb&&6>Se,me.jc){var lt,ct=me;for(lt=0;lt<Bn;++lt){var ut=lt,ht=ct.pd[ut],dt=ct.G[0][ct.H[0]+ut];256<=dt.value?(ht.g=dt.g+256,ht.value=dt.value):(ht.g=0,ht.value=0,ut>>=be(dt,8,ht),ut>>=be(ct.G[1][ct.H[1]+ut],16,ht),ut>>=be(ct.G[2][ct.H[2]+ut],0,ht),be(ct.G[3][ct.H[3]+ut],24,ht))}}}Z.vc=ee,Z.Wb=te,Z.Ya=fe,Z.yc=ue,V=1;break t}V=0}if(!(c=V)){s.a=3;break e}if(0<v){if(m.ua=1<<v,!L(m.Wa,v)){s.a=1,c=0;break e}}else m.ua=0;var ft=s,pt=d,gt=p,mt=ft.s,yt=mt.xc;if(ft.c=pt,ft.i=gt,mt.md=R(pt,yt),mt.wc=0==yt?-1:(1<<yt)-1,r){s.xb=pi;break e}if(null==(y=o(d*p))){s.a=1,c=0;break e}c=(c=Ee(s,y,0,d,p,p,null))&&!g.h;break e}return c?(null!=l?l[0]=y:(t(null==y),t(r)),s.$=0,r||Te(m)):Te(m),c}function Ne(e,n){var r=e.c*e.i,i=r+n+16*n;return t(e.c<=n),e.V=o(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Ce(e,n){var r=e.C,i=n-r,o=e.V,a=e.Ba+e.c*r;for(t(n<=e.l.o);0<i;){var s=16<i?16:i,l=e.l.ma,c=e.l.width,u=c*s,h=l.ca,d=l.tb+c*r,f=e.Ta,p=e.Ua;xe(e,s,o,a),Er(f,p,h,d,u),ke(l,r,r+s,h,d,c),i-=s,o+=s*e.c,r+=s}t(r==n),e.C=e.Ma=n}function Oe(){this.ub=this.yd=this.td=this.Rb=0}function Le(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function De(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function je(){this.Yb=function(){var e=[];return function e(t,n,r){for(var i=r[n],o=0;o<i&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));o++)e(t[o],n+1,r)}(e,0,[3,11]),e}()}function Me(){this.jb=o(3),this.Wc=s([4,8],je),this.Xc=s([4,17],je)}function Re(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Fe(){this.ld=this.La=this.dd=this.tc=0}function Be(){this.Na=this.la=0}function ze(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ue(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qe(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fe),this.Y=0,this.ya=Array(new Ue),this.aa=0,this.l=new $e}function Ve(){this.y=o(16),this.f=o(8),this.ea=o(8)}function We(){this.cb=this.a=0,this.sc="",this.m=new w,this.Od=new Oe,this.Kc=new Le,this.ed=new Re,this.Qa=new De,this.Ic=this.$c=this.Aa=0,this.D=new qe,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,w),this.ia=0,this.pb=a(4,ze),this.Pa=new Me,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ve),this.Hd=0,this.rb=Array(new Be),this.sb=0,this.wa=Array(new Fe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ue),this.L=this.aa=0,this.gd=s([4,2],Fe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function He(e,t){return 0>e?0:e>t?t:e}function $e(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ke(){var e=new We;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ri||(ri=Xe)),e}function Ge(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Qe(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Ye(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ge(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,o=n.w,a=n.ha;if(4>a)return Ge(e,7,"Truncated header.");var s=r[o+0]|r[o+1]<<8|r[o+2]<<16,l=e.Od;if(l.Rb=!(1&s),l.td=s>>1&7,l.yd=s>>4&1,l.ub=s>>5,3<l.td)return Ge(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ge(e,4,"Frame not displayable.");o+=3,a-=3;var c=e.Kc;if(l.Rb){if(7>a)return Ge(e,7,"cannot parse picture header");if(!Qe(r,o,a))return Ge(e,3,"Bad code word");c.c=16383&(r[o+4]<<8|r[o+3]),c.Td=r[o+4]>>6,c.i=16383&(r[o+6]<<8|r[o+5]),c.Ud=r[o+6]>>6,o+=7,a-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((s=e.Pa).jb,0,255,s.jb.length),t(null!=(s=e.Qa)),s.Cb=0,s.Bb=0,s.Fb=1,i(s.Zb,0,0,s.Zb.length),i(s.Lb,0,0,s.Lb)}if(l.ub>a)return Ge(e,7,"bad partition length");p(s=e.m,r,o,l.ub),o+=l.ub,a-=l.ub,l.Rb&&(c.Ld=T(s),c.Kd=T(s)),c=e.Qa;var u,h=e.Pa;if(t(null!=s),t(null!=c),c.Cb=T(s),c.Cb){if(c.Bb=T(s),T(s)){for(c.Fb=T(s),u=0;4>u;++u)c.Zb[u]=T(s)?m(s,7):0;for(u=0;4>u;++u)c.Lb[u]=T(s)?m(s,6):0}if(c.Bb)for(u=0;3>u;++u)h.jb[u]=T(s)?g(s,8):255}else c.Bb=0;if(s.Ka)return Ge(e,3,"cannot parse segment header");if((c=e.ed).zd=T(s),c.Tb=g(s,6),c.wb=g(s,3),c.Pc=T(s),c.Pc&&T(s)){for(h=0;4>h;++h)T(s)&&(c.vd[h]=m(s,6));for(h=0;4>h;++h)T(s)&&(c.od[h]=m(s,6))}if(e.L=0==c.Tb?0:c.zd?1:2,s.Ka)return Ge(e,3,"cannot parse filter header");var d=a;if(a=u=o,o=u+d,c=d,e.Xb=(1<<g(e.m,2))-1,d<3*(h=e.Xb))r=7;else{for(u+=3*h,c-=3*h,d=0;d<h;++d){var f=r[a+0]|r[a+1]<<8|r[a+2]<<16;f>c&&(f=c),p(e.Jc[+d],r,u,f),u+=f,c-=f,a+=3}p(e.Jc[+h],r,u,c),r=u<o?0:5}if(0!=r)return Ge(e,r,"cannot parse partitions");for(r=g(u=e.m,7),a=T(u)?m(u,4):0,o=T(u)?m(u,4):0,c=T(u)?m(u,4):0,h=T(u)?m(u,4):0,u=T(u)?m(u,4):0,d=e.Qa,f=0;4>f;++f){if(d.Cb){var y=d.Zb[f];d.Fb||(y+=r)}else{if(0<f){e.pb[f]=e.pb[0];continue}y=r}var v=e.pb[f];v.Sc[0]=ti[He(y+a,127)],v.Sc[1]=ni[He(y+0,127)],v.Eb[0]=2*ti[He(y+o,127)],v.Eb[1]=101581*ni[He(y+c,127)]>>16,8>v.Eb[1]&&(v.Eb[1]=8),v.Qc[0]=ti[He(y+h,117)],v.Qc[1]=ni[He(y+u,127)],v.lc=y+u}if(!l.Rb)return Ge(e,4,"Not a key frame.");for(T(s),l=e.Pa,r=0;4>r;++r){for(a=0;8>a;++a)for(o=0;3>o;++o)for(c=0;11>c;++c)h=I(s,ci[r][a][o][c])?g(s,8):si[r][a][o][c],l.Wc[r][a].Yb[o][c]=h;for(a=0;17>a;++a)l.Xc[r][a]=l.Wc[r][ui[a]]}return e.kc=T(s),e.kc&&(e.Bd=g(s,8)),e.cb=1}function Xe(e,t,n,r,i,o,a){var s=t[i].Yb[n];for(n=0;16>i;++i){if(!I(e,s[n+0]))return i;for(;!I(e,s[n+1]);)if(s=t[++i].Yb[0],n=0,16==i)return 16;var l=t[i+1].Yb;if(I(e,s[n+2])){var c=e,u=0;if(I(c,(d=s)[(h=n)+3]))if(I(c,d[h+6])){for(s=0,h=2*(u=I(c,d[h+8]))+(d=I(c,d[h+9+u])),u=0,d=ii[h];d[s];++s)u+=u+I(c,d[s]);u+=3+(8<<h)}else I(c,d[h+7])?(u=7+2*I(c,165),u+=I(c,145)):u=5+I(c,159);else u=I(c,d[h+4])?3+I(c,d[h+5]):2;s=l[2]}else u=1,s=l[1];l=a+oi[i],0>(c=e).b&&E(c);var h,d=c.b,f=(h=c.Ca>>1)-(c.I>>d)>>31;--c.b,c.Ca+=f,c.Ca|=1,c.I-=(h+1&f)<<d,o[l]=((u^f)-f)*r[(0<i)+0]}return 16}function Je(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,n){if(null==e)return 0;if(null==n)return Ge(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Ye(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var s=Bi[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-s>>4,e.zb=n.j-s>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+s>>4,e.Hb=n.va+15+s>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(s=0;4>s;++s){var c;if(e.Qa.Cb){var u=e.Qa.Lb[s];e.Qa.Fb||(u+=l.Tb)}else u=l.Tb;for(c=0;1>=c;++c){var h=e.gd[s][c],d=u;if(l.Pc&&(d+=l.vd[0],c&&(d+=l.od[0])),0<(d=0>d?0:63<d?63:d)){var f=d;0<l.wb&&(f=4<l.wb?f>>2:f>>1)>9-l.wb&&(f=9-l.wb),1>f&&(f=1),h.dd=f,h.tc=2*d+f,h.ld=40<=d?2:15<=d?1:0}else h.tc=0;h.La=c}}}s=0}else Ge(e,6,"Frame setup failed"),s=e.a;if(s=0==s){if(s){e.$c=0,0<e.Aa||(e.Ic=Ui);e:{s=e.Ic,l=4*(f=e.za);var p=32*f,g=f+1,m=0<e.L?f*(0<e.Aa?2:1):0,y=(2==e.Aa?2:1)*f;if((h=l+832+(c=3*(16*s+Bi[e.L])/2*p)+(u=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=h)s=0;else{if(h>e.Vb){if(e.Vb=0,e.Ec=o(h),e.Fc=0,null==e.Ec){s=Ge(e,1,"no memory during frame initialization.");break e}e.Vb=h}h=e.Ec,d=e.Fc,e.Ac=h,e.Bc=d,d+=l,e.Gd=a(p,Ve),e.Hd=0,e.rb=a(g+1,Be),e.sb=1,e.wa=m?a(m,Fe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=f),t(!0),e.oc=h,e.pc=d,d+=832,e.ya=a(y,Ue),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=f),e.R=16*f,e.B=8*f,f=(p=Bi[e.L])*e.R,p=p/2*e.B,e.sa=h,e.ta=d+f,e.qa=e.sa,e.ra=e.ta+16*s*e.R+p,e.Ha=e.qa,e.Ia=e.ra+8*s*e.B+p,e.$c=0,d+=c,e.mb=u?h:null,e.nb=u?d:null,t(d+u<=e.Fc+e.Vb),Je(e),i(e.Ac,e.Bc,0,l),s=1}}if(s){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Cr){for(s=-255;255>=s;++s)Tr[255+s]=0>s?-s:s;for(s=-1020;1020>=s;++s)Ir[1020+s]=-128>s?-128:127<s?127:s;for(s=-112;112>=s;++s)Pr[112+s]=-16>s?-16:15<s?15:s;for(s=-255;510>=s;++s)Nr[255+s]=0>s?0:255<s?255:s;Cr=1}or=ct,ar=ot,lr=at,cr=st,ur=lt,sr=it,hr=Gt,dr=Qt,fr=Jt,pr=Zt,gr=Yt,mr=Xt,yr=en,vr=tn,br=qt,wr=Vt,xr=Wt,Sr=Ht,di[0]=kt,di[1]=ht,di[2]=St,di[3]=_t,di[4]=At,di[5]=Tt,di[6]=Et,di[7]=It,di[8]=Nt,di[9]=Pt,hi[0]=yt,hi[1]=ft,hi[2]=pt,hi[3]=gt,hi[4]=vt,hi[5]=bt,hi[6]=wt,fi[0]=Dt,fi[1]=dt,fi[2]=Ct,fi[3]=Ot,fi[4]=Mt,fi[5]=jt,fi[6]=Rt,s=1}else s=0}s&&(s=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var a,s=e.Jc[e.M&e.Xb],l=e.m,c=e;for(a=0;a<c.za;++a){var u=l,h=c,d=h.Ac,f=h.Bc+4*a,p=h.zc,g=h.ya[h.aa+a];if(h.Qa.Bb?g.$b=I(u,h.Pa.jb[0])?2+I(u,h.Pa.jb[2]):I(u,h.Pa.jb[1]):g.$b=0,h.kc&&(g.Ad=I(u,h.Bd)),g.Za=!I(u,145)+0,g.Za){var m=g.Ob,y=0;for(h=0;4>h;++h){var v,b=p[0+h];for(v=0;4>v;++v){b=li[d[f+v]][b];for(var w=ai[I(u,b[0])];0<w;)w=ai[2*w+I(u,b[w])];b=-w,d[f+v]=b}r(m,y,d,f,4),y+=4,p[0+h]=b}}else b=I(u,156)?I(u,128)?1:3:I(u,163)?2:0,g.Ob[0]=b,i(d,f,b,4),i(p,0,b,4);g.Dd=I(u,142)?I(u,114)?I(u,183)?1:3:2:0}if(c.m.Ka)return Ge(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=s,u=(l=e).rb[l.sb-1],d=l.rb[l.sb+l.ja],a=l.ya[l.aa+l.ja],f=l.kc?a.Ad:0)u.la=d.la=0,a.Za||(u.Na=d.Na=0),a.Hc=0,a.Gc=0,a.ia=0;else{var x,S;if(u=d,d=c,f=l.Pa.Xc,p=l.ya[l.aa+l.ja],g=l.pb[p.$b],h=p.ad,m=0,y=l.rb[l.sb-1],b=v=0,i(h,m,0,384),p.Za)var _=0,k=f[3];else{w=o(16);var A=u.Na+y.Na;if(A=ri(d,f[1],A,g.Eb,0,w,0),u.Na=y.Na=(0<A)+0,1<A)or(w,0,h,m);else{var E=w[0]+3>>3;for(w=0;256>w;w+=16)h[m+w]=E}_=1,k=f[0]}var T=15&u.la,P=15&y.la;for(w=0;4>w;++w){var N=1&P;for(E=S=0;4>E;++E)T=T>>1|(N=(A=ri(d,k,A=N+(1&T),g.Sc,_,h,m))>_)<<7,S=S<<2|(3<A?3:1<A?2:0!=h[m+0]),m+=16;T>>=4,P=P>>1|N<<7,v=(v<<8|S)>>>0}for(k=T,_=P>>4,x=0;4>x;x+=2){for(S=0,T=u.la>>4+x,P=y.la>>4+x,w=0;2>w;++w){for(N=1&P,E=0;2>E;++E)A=N+(1&T),T=T>>1|(N=0<(A=ri(d,f[2],A,g.Qc,0,h,m)))<<3,S=S<<2|(3<A?3:1<A?2:0!=h[m+0]),m+=16;T>>=2,P=P>>1|N<<5}b|=S<<4*x,k|=T<<4<<x,_|=(240&P)<<x}u.la=k,y.la=_,p.Hc=v,p.Gc=b,p.ia=43690&b?0:g.ia,f=!(v|b)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[a.$b][a.Za],l.wa[l.Y+l.ja].La|=!f),c.Ka)return Ge(e,7,"Premature end-of-file encountered.")}if(Je(e),l=n,c=1,a=(s=e).D,u=0<s.L&&s.M>=s.zb&&s.M<=s.Va,0==s.Aa)e:{if(a.M=s.M,a.uc=u,Dn(s,a),c=1,a=(S=s.D).Nb,u=(b=Bi[s.L])*s.R,d=b/2*s.B,w=16*a*s.R,E=8*a*s.B,f=s.sa,p=s.ta-u+w,g=s.qa,h=s.ra-d+E,m=s.Ha,y=s.Ia-d+E,P=0==(T=S.M),v=T>=s.Va-1,2==s.Aa&&Dn(s,S),S.uc)for(N=(A=s).D.M,t(A.D.uc),S=A.yb;S<A.Hb;++S){_=S,k=N;var C=(O=(U=A).D).Nb;x=U.R;var O=O.wa[O.Y+_],L=U.sa,D=U.ta+16*C*x+16*_,j=O.dd,M=O.tc;if(0!=M)if(t(3<=M),1==U.L)0<_&&wr(L,D,x,M+4),O.La&&Sr(L,D,x,M),0<k&&br(L,D,x,M+4),O.La&&xr(L,D,x,M);else{var R=U.B,F=U.qa,B=U.ra+8*C*R+8*_,z=U.Ha,U=U.Ia+8*C*R+8*_;C=O.ld,0<_&&(dr(L,D,x,M+4,j,C),pr(F,B,z,U,R,M+4,j,C)),O.La&&(mr(L,D,x,M,j,C),vr(F,B,z,U,R,M,j,C)),0<k&&(hr(L,D,x,M+4,j,C),fr(F,B,z,U,R,M+4,j,C)),O.La&&(gr(L,D,x,M,j,C),yr(F,B,z,U,R,M,j,C))}}if(s.ia&&alert("todo:DitherRow"),null!=l.put){if(S=16*T,T=16*(T+1),P?(l.y=s.sa,l.O=s.ta+w,l.f=s.qa,l.N=s.ra+E,l.ea=s.Ha,l.W=s.Ia+E):(S-=b,l.y=f,l.O=p,l.f=g,l.N=h,l.ea=m,l.W=y),v||(T-=b),T>l.o&&(T=l.o),l.F=null,l.J=null,null!=s.Fa&&0<s.Fa.length&&S<T&&(l.J=dn(s,l,S,T-S),l.F=s.mb,null==l.F&&0==l.F.length)){c=Ge(s,3,"Could not decode alpha data.");break e}S<l.j&&(b=l.j-S,S=l.j,t(!(1&b)),l.O+=s.R*b,l.N+=s.B*(b>>1),l.W+=s.B*(b>>1),null!=l.F&&(l.J+=l.width*b)),S<T&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=S-l.j,l.U=l.va-l.v,l.T=T-S,c=l.put(l))}a+1!=s.Ic||v||(r(s.sa,s.ta-u,f,p+16*s.R,u),r(s.qa,s.ra-d,g,h+8*s.B,d),r(s.Ha,s.Ia-d,m,y+8*s.B,d))}if(!c)return Ge(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),s&=1}return s?(e.cb=0,s):0}function et(e,t,n,r,i){i=e[t+n+32*r]+(i>>3),e[t+n+32*r]=-256&i?0>i?0:255:i}function tt(e,t,n,r,i,o){et(e,t,0,n,r+i),et(e,t,1,n,r+o),et(e,t,2,n,r-o),et(e,t,3,n,r-i)}function nt(e){return(20091*e>>16)+e}function rt(e,t,n,r){var i,a=0,s=o(16);for(i=0;4>i;++i){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],u=(35468*e[t+4]>>16)-nt(e[t+12]),h=nt(e[t+4])+(35468*e[t+12]>>16);s[a+0]=l+h,s[a+1]=c+u,s[a+2]=c-u,s[a+3]=l-h,a+=4,t++}for(i=a=0;4>i;++i)l=(e=s[a+0]+4)+s[a+8],c=e-s[a+8],u=(35468*s[a+4]>>16)-nt(s[a+12]),et(n,r,0,0,l+(h=nt(s[a+4])+(35468*s[a+12]>>16))),et(n,r,1,0,c+u),et(n,r,2,0,c-u),et(n,r,3,0,l-h),a++,r+=32}function it(e,t,n,r){var i=e[t+0]+4,o=35468*e[t+4]>>16,a=nt(e[t+4]),s=35468*e[t+1]>>16;tt(n,r,0,i+a,e=nt(e[t+1]),s),tt(n,r,1,i+o,e,s),tt(n,r,2,i-o,e,s),tt(n,r,3,i-a,e,s)}function ot(e,t,n,r,i){rt(e,t,n,r),i&&rt(e,t+16,n,r+4)}function at(e,t,n,r){ar(e,t+0,n,r,1),ar(e,t+32,n,r+128,1)}function st(e,t,n,r){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)et(n,r,t,i,e)}function lt(e,t,n,r){e[t+0]&&cr(e,t+0,n,r),e[t+16]&&cr(e,t+16,n,r+4),e[t+32]&&cr(e,t+32,n,r+128),e[t+48]&&cr(e,t+48,n,r+128+4)}function ct(e,t,n,r){var i,a=o(16);for(i=0;4>i;++i){var s=e[t+0+i]+e[t+12+i],l=e[t+4+i]+e[t+8+i],c=e[t+4+i]-e[t+8+i],u=e[t+0+i]-e[t+12+i];a[0+i]=s+l,a[8+i]=s-l,a[4+i]=u+c,a[12+i]=u-c}for(i=0;4>i;++i)s=(e=a[0+4*i]+3)+a[3+4*i],l=a[1+4*i]+a[2+4*i],c=a[1+4*i]-a[2+4*i],u=e-a[3+4*i],n[r+0]=s+l>>3,n[r+16]=u+c>>3,n[r+32]=s-l>>3,n[r+48]=u-c>>3,r+=64}function ut(e,t,n){var r,i=t-32,o=Dr,a=255-e[i-1];for(r=0;r<n;++r){var s,l=o,c=a+e[t-1];for(s=0;s<n;++s)e[t+s]=l[c+e[i+s]];t+=32}}function ht(e,t){ut(e,t,4)}function dt(e,t){ut(e,t,8)}function ft(e,t){ut(e,t,16)}function pt(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function gt(e,t){var n;for(n=16;0<n;--n)i(e,t,e[t-1],16),t+=32}function mt(e,t,n){var r;for(r=0;16>r;++r)i(t,n+32*r,e,16)}function yt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];mt(r>>5,e,t)}function vt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];mt(r>>4,e,t)}function bt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];mt(r>>4,e,t)}function wt(e,t){mt(128,e,t)}function xt(e,t,n){return e+2*t+n+2>>2}function St(e,t){var n,i=t-32;for(i=new Uint8Array([xt(e[i-1],e[i+0],e[i+1]),xt(e[i+0],e[i+1],e[i+2]),xt(e[i+1],e[i+2],e[i+3]),xt(e[i+2],e[i+3],e[i+4])]),n=0;4>n;++n)r(e,t+32*n,i,0,i.length)}function _t(e,t){var n=e[t-1],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];P(e,t+0,16843009*xt(e[t-1-32],n,r)),P(e,t+32,16843009*xt(n,r,i)),P(e,t+64,16843009*xt(r,i,o)),P(e,t+96,16843009*xt(i,o,o))}function kt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)i(e,t+32*n,r,4)}function At(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],a=e[t+0-32],s=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=xt(r,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=xt(n,r,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=xt(o,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=xt(a,o,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=xt(s,a,o),e[t+3+32]=e[t+2+0]=xt(l,s,a),e[t+3+0]=xt(c,l,s)}function Et(e,t){var n=e[t+1-32],r=e[t+2-32],i=e[t+3-32],o=e[t+4-32],a=e[t+5-32],s=e[t+6-32],l=e[t+7-32];e[t+0+0]=xt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=xt(n,r,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=xt(r,i,o),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=xt(i,o,a),e[t+3+32]=e[t+2+64]=e[t+1+96]=xt(o,a,s),e[t+3+64]=e[t+2+96]=xt(a,s,l),e[t+3+96]=xt(s,l,l)}function Tt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],a=e[t+0-32],s=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=o+a+1>>1,e[t+1+0]=e[t+2+64]=a+s+1>>1,e[t+2+0]=e[t+3+64]=s+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=xt(i,r,n),e[t+0+64]=xt(r,n,o),e[t+0+32]=e[t+1+96]=xt(n,o,a),e[t+1+32]=e[t+2+96]=xt(o,a,s),e[t+2+32]=e[t+3+96]=xt(a,s,l),e[t+3+32]=xt(s,l,c)}function It(e,t){var n=e[t+0-32],r=e[t+1-32],i=e[t+2-32],o=e[t+3-32],a=e[t+4-32],s=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+i+1>>1,e[t+2+0]=e[t+1+64]=i+o+1>>1,e[t+3+0]=e[t+2+64]=o+a+1>>1,e[t+0+32]=xt(n,r,i),e[t+1+32]=e[t+0+96]=xt(r,i,o),e[t+2+32]=e[t+1+96]=xt(i,o,a),e[t+3+32]=e[t+2+96]=xt(o,a,s),e[t+3+64]=xt(a,s,l),e[t+3+96]=xt(s,l,c)}function Pt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+i+1>>1,e[t+2+32]=e[t+0+64]=i+o+1>>1,e[t+1+0]=xt(n,r,i),e[t+3+0]=e[t+1+32]=xt(r,i,o),e[t+3+32]=e[t+1+64]=xt(i,o,o),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=o}function Nt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96],a=e[t-1-32],s=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+a+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=i+r+1>>1,e[t+0+96]=o+i+1>>1,e[t+3+0]=xt(s,l,c),e[t+2+0]=xt(a,s,l),e[t+1+0]=e[t+3+32]=xt(n,a,s),e[t+1+32]=e[t+3+64]=xt(r,n,a),e[t+1+64]=e[t+3+96]=xt(i,r,n),e[t+1+96]=xt(o,i,r)}function Ct(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Ot(e,t){var n;for(n=0;8>n;++n)i(e,t,e[t-1],8),t+=32}function Lt(e,t,n){var r;for(r=0;8>r;++r)i(t,n+32*r,e,8)}function Dt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Lt(r>>4,e,t)}function jt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Lt(r>>3,e,t)}function Mt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Lt(r>>3,e,t)}function Rt(e,t){Lt(128,e,t)}function Ft(e,t,n){var r=e[t-n],i=e[t+0],o=3*(i-r)+Or[1020+e[t-2*n]-e[t+n]],a=Lr[112+(o+4>>3)];e[t-n]=Dr[255+r+Lr[112+(o+3>>3)]],e[t+0]=Dr[255+i-a]}function Bt(e,t,n,r){var i=e[t+0],o=e[t+n];return jr[255+e[t-2*n]-e[t-n]]>r||jr[255+o-i]>r}function zt(e,t,n,r){return 4*jr[255+e[t-n]-e[t+0]]+jr[255+e[t-2*n]-e[t+n]]<=r}function Ut(e,t,n,r,i){var o=e[t-3*n],a=e[t-2*n],s=e[t-n],l=e[t+0],c=e[t+n],u=e[t+2*n],h=e[t+3*n];return 4*jr[255+s-l]+jr[255+a-c]>r?0:jr[255+e[t-4*n]-o]<=i&&jr[255+o-a]<=i&&jr[255+a-s]<=i&&jr[255+h-u]<=i&&jr[255+u-c]<=i&&jr[255+c-l]<=i}function qt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)zt(e,t+r,n,i)&&Ft(e,t+r,n)}function Vt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)zt(e,t+r*n,1,i)&&Ft(e,t+r*n,1)}function Wt(e,t,n,r){var i;for(i=3;0<i;--i)qt(e,t+=4*n,n,r)}function Ht(e,t,n,r){var i;for(i=3;0<i;--i)Vt(e,t+=4,n,r)}function $t(e,t,n,r,i,o,a,s){for(o=2*o+1;0<i--;){if(Ut(e,t,n,o,a))if(Bt(e,t,n,s))Ft(e,t,n);else{var l=e,c=t,u=n,h=l[c-2*u],d=l[c-u],f=l[c+0],p=l[c+u],g=l[c+2*u],m=27*(v=Or[1020+3*(f-d)+Or[1020+h-p]])+63>>7,y=18*v+63>>7,v=9*v+63>>7;l[c-3*u]=Dr[255+l[c-3*u]+v],l[c-2*u]=Dr[255+h+y],l[c-u]=Dr[255+d+m],l[c+0]=Dr[255+f-m],l[c+u]=Dr[255+p-y],l[c+2*u]=Dr[255+g-v]}t+=r}}function Kt(e,t,n,r,i,o,a,s){for(o=2*o+1;0<i--;){if(Ut(e,t,n,o,a))if(Bt(e,t,n,s))Ft(e,t,n);else{var l=e,c=t,u=n,h=l[c-u],d=l[c+0],f=l[c+u],p=Lr[112+(4+(g=3*(d-h))>>3)],g=Lr[112+(g+3>>3)],m=p+1>>1;l[c-2*u]=Dr[255+l[c-2*u]+m],l[c-u]=Dr[255+h+g],l[c+0]=Dr[255+d-p],l[c+u]=Dr[255+f-m]}t+=r}}function Gt(e,t,n,r,i,o){$t(e,t,n,1,16,r,i,o)}function Qt(e,t,n,r,i,o){$t(e,t,1,n,16,r,i,o)}function Yt(e,t,n,r,i,o){var a;for(a=3;0<a;--a)Kt(e,t+=4*n,n,1,16,r,i,o)}function Xt(e,t,n,r,i,o){var a;for(a=3;0<a;--a)Kt(e,t+=4,1,n,16,r,i,o)}function Jt(e,t,n,r,i,o,a,s){$t(e,t,i,1,8,o,a,s),$t(n,r,i,1,8,o,a,s)}function Zt(e,t,n,r,i,o,a,s){$t(e,t,1,i,8,o,a,s),$t(n,r,1,i,8,o,a,s)}function en(e,t,n,r,i,o,a,s){Kt(e,t+4*i,i,1,8,o,a,s),Kt(n,r+4*i,i,1,8,o,a,s)}function tn(e,t,n,r,i,o,a,s){Kt(e,t+4,1,i,8,o,a,s),Kt(n,r+4,1,i,8,o,a,s)}function nn(){this.ba=new ae,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function on(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new j,this.vb=new j,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new h}function sn(){this.xb=this.a=0,this.l=new $e,this.ca=new ae,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new x,this.Pb=0,this.wd=new x,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=a(4,on),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $e,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cn(e,t,n,r,i,o,a){for(e=null==e?0:e[t+0],t=0;t<a;++t)i[o+t]=e+n[r+t]&255,e=i[o+t]}function un(e,t,n,r,i,o,a){var s;if(null==e)cn(null,null,n,r,i,o,a);else for(s=0;s<a;++s)i[o+s]=e[t+s]+n[r+s]&255}function hn(e,t,n,r,i,o,a){if(null==e)cn(null,null,n,r,i,o,a);else{var s,l=e[t+0],c=l,u=l;for(s=0;s<a;++s)c=u+(l=e[t+s])-c,u=n[r+s]+(-256&c?0>c?0:255:c)&255,c=l,i[o+s]=u}}function dn(e,n,i,a){var s=n.width,l=n.o;if(t(null!=e&&null!=n),0>i||0>=a||i+a>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new ln,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=o(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var u=e.Fa,h=e.P,d=e.qc,f=e.mb,p=e.nb,g=h+1,m=d-1,v=c.l;if(t(null!=u&&null!=f&&null!=n),mi[0]=null,mi[1]=cn,mi[2]=un,mi[3]=hn,c.ca=f,c.tb=p,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=d)n=0;else if(c.$a=3&u[h+0],c.Z=u[h+0]>>2&3,c.Lc=u[h+0]>>4&3,h=u[h+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||h)n=0;else if(v.put=fe,v.ac=de,v.bc=pe,v.ma=c,v.width=n.width,v.height=n.height,v.Da=n.Da,v.v=n.v,v.va=n.va,v.j=n.j,v.o=n.o,c.$a)e:{t(1==c.$a),n=Ie();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,y(n.m,u,g,m),!Pe(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&_e(n.s)?(c.ic=1,u=n.c*n.i,n.Ta=null,n.Ua=0,n.V=o(u),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Ne(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=m>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:a=l-i}t(null!=e.ga),t(i+a<=l);e:{if(n=(u=e.ga).c,l=u.l.o,0==u.$a){if(g=e.rc,m=e.Vc,v=e.Fa,h=e.P+1+i*n,d=e.mb,f=e.nb+i*n,t(h<=e.P+e.qc),0!=u.Z)for(t(null!=mi[u.Z]),c=0;c<a;++c)mi[u.Z](g,m,v,h,d,f,n),g=d,m=f,f+=n,h+=n;else for(c=0;c<a;++c)r(d,f,v,h,n),g=d,m=f,f+=n,h+=n;e.rc=g,e.Vc=m}else{if(t(null!=u.mc),n=i+a,t(null!=(c=u.mc)),t(n<=c.i),c.C>=n)n=1;else if(u.ic||yn(),u.ic){u=c.V,g=c.Ba,m=c.c;var b=c.i,w=(v=1,h=c.$/m,d=c.$%m,f=c.m,p=c.s,c.$),x=m*b,S=m*n,k=p.wc,E=w<S?we(p,d,h):null;t(w<=x),t(n<=b),t(_e(p));t:for(;;){for(;!f.h&&w<S;){if(d&k||(E=we(p,d,h)),t(null!=E),A(f),256>(b=ve(E.G[0],E.H[0],f)))u[g+w]=b,++w,++d>=m&&(d=0,++h<=n&&!(h%16)&&Ae(c,h));else{if(!(280>b)){v=0;break t}b=me(b-256,f);var T,I=ve(E.G[4],E.H[4],f);if(A(f),!(w>=(I=ye(m,I=me(I,f)))&&x-w>=b)){v=0;break t}for(T=0;T<b;++T)u[g+w+T]=u[g+w+T-I];for(w+=b,d+=b;d>=m;)d-=m,++h<=n&&!(h%16)&&Ae(c,h);w<S&&d&k&&(E=we(p,d,h))}t(f.h==_(f))}Ae(c,h>n?n:h);break t}!v||f.h&&w<x?(v=0,c.a=f.h?5:3):c.$=w,n=v}else n=Ee(c,c.V,c.Ba,c.c,c.i,n,Ce);if(!n){a=0;break e}}i+a>=l&&(e.Cc=1),a=1}if(!a)return null;if(e.Cc&&(null!=(a=e.ga)&&(a.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*s}function fn(e,t,n,r,i,o){for(;0<i--;){var a,s=e,l=t+(n?1:0),c=e,u=t+(n?0:3);for(a=0;a<r;++a){var h=c[u+4*a];255!=h&&(h*=32897,s[l+4*a+0]=s[l+4*a+0]*h>>23,s[l+4*a+1]=s[l+4*a+1]*h>>23,s[l+4*a+2]=s[l+4*a+2]*h>>23)}t+=o}}function pn(e,t,n,r,i){for(;0<r--;){var o;for(o=0;o<n;++o){var a=e[t+2*o+0],s=15&(c=e[t+2*o+1]),l=4369*s,c=(240&c|c>>4)*l>>16;e[t+2*o+0]=(240&a|a>>4)*l>>16&240|(15&a|a<<4)*l>>16>>4&15,e[t+2*o+1]=240&c|s}t+=i}}function gn(e,t,n,r,i,o,a,s){var l,c,u=255;for(c=0;c<i;++c){for(l=0;l<r;++l){var h=e[t+l];o[a+4*l]=h,u&=h}t+=n,a+=s}return 255!=u}function mn(e,t,n,r,i){var o;for(o=0;o<i;++o)n[r+o]=e[t+o]>>8}function yn(){_r=fn,kr=pn,Ar=gn,Er=mn}function vn(n,r,i){e[n]=function(e,n,o,a,s,l,c,u,h,d,f,p,g,m,y,v,b){var w,x=b-1>>1,S=s[l+0]|c[u+0]<<16,_=h[d+0]|f[p+0]<<16;t(null!=e);var k=3*S+_+131074>>2;for(r(e[n+0],255&k,k>>16,g,m),null!=o&&(k=3*_+S+131074>>2,r(o[a+0],255&k,k>>16,y,v)),w=1;w<=x;++w){var A=s[l+w]|c[u+w]<<16,E=h[d+w]|f[p+w]<<16,T=S+A+_+E+524296,I=T+2*(A+_)>>3;k=I+S>>1,S=(T=T+2*(S+E)>>3)+A>>1,r(e[n+2*w-1],255&k,k>>16,g,m+(2*w-1)*i),r(e[n+2*w-0],255&S,S>>16,g,m+(2*w-0)*i),null!=o&&(k=T+_>>1,S=I+E>>1,r(o[a+2*w-1],255&k,k>>16,y,v+(2*w-1)*i),r(o[a+2*w+0],255&S,S>>16,y,v+(2*w+0)*i)),S=A,_=E}1&b||(k=3*S+_+131074>>2,r(e[n+b-1],255&k,k>>16,g,m+(b-1)*i),null!=o&&(k=3*_+S+131074>>2,r(o[a+b-1],255&k,k>>16,y,v+(b-1)*i)))}}function bn(){yi[Mr]=vi,yi[Rr]=wi,yi[Fr]=bi,yi[Br]=xi,yi[zr]=Si,yi[Ur]=_i,yi[qr]=ki,yi[Vr]=wi,yi[Wr]=xi,yi[Hr]=Si,yi[$r]=_i}function wn(e){return e&~Ni?0>e?0:255:e>>Pi}function xn(e,t){return wn((19077*e>>8)+(26149*t>>8)-14234)}function Sn(e,t,n){return wn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function _n(e,t){return wn((19077*e>>8)+(33050*t>>8)-17685)}function kn(e,t,n,r,i){r[i+0]=xn(e,n),r[i+1]=Sn(e,t,n),r[i+2]=_n(e,t)}function An(e,t,n,r,i){r[i+0]=_n(e,t),r[i+1]=Sn(e,t,n),r[i+2]=xn(e,n)}function En(e,t,n,r,i){var o=Sn(e,t,n);t=o<<3&224|_n(e,t)>>3,r[i+0]=248&xn(e,n)|o>>5,r[i+1]=t}function Tn(e,t,n,r,i){var o=240&_n(e,t)|15;r[i+0]=240&xn(e,n)|Sn(e,t,n)>>4,r[i+1]=o}function In(e,t,n,r,i){r[i+0]=255,kn(e,t,n,r,i+1)}function Pn(e,t,n,r,i){An(e,t,n,r,i),r[i+3]=255}function Nn(e,t,n,r,i){kn(e,t,n,r,i),r[i+3]=255}function He(e,t){return 0>e?0:e>t?t:e}function Cn(t,n,r){e[t]=function(e,t,i,o,a,s,l,c,u){for(var h=c+(-2&u)*r;c!=h;)n(e[t+0],i[o+0],a[s+0],l,c),n(e[t+1],i[o+0],a[s+0],l,c+r),t+=2,++o,++s,c+=2*r;1&u&&n(e[t+0],i[o+0],a[s+0],l,c)}}function On(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Ln(e,t,n,r,i){switch(e>>>30){case 3:ar(t,n,r,i,0);break;case 2:sr(t,n,r,i);break;case 1:cr(t,n,r,i)}}function Dn(e,t){var n,o,a=t.M,s=t.Nb,l=e.oc,c=e.pc+40,u=e.oc,h=e.pc+584,d=e.oc,f=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)u[h+32*n-1]=129,d[f+32*n-1]=129;for(0<a?l[c-1-32]=u[h-1-32]=d[f-1-32]=129:(i(l,c-32-1,127,21),i(u,h-32-1,127,9),i(d,f-32-1,127,9)),o=0;o<e.za;++o){var p=t.ya[t.aa+o];if(0<o){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(u,h+32*n-4,u,h+32*n+4,4),r(d,f+32*n-4,d,f+32*n+4,4)}var g=e.Gd,m=e.Hd+o,y=p.ad,v=p.Hc;if(0<a&&(r(l,c-32,g[m].y,0,16),r(u,h-32,g[m].f,0,8),r(d,f-32,g[m].ea,0,8)),p.Za){var b=l,w=c-32+16;for(0<a&&(o>=e.za-1?i(b,w,g[m].y[15],4):r(b,w,g[m+1].y,0,4)),n=0;4>n;n++)b[w+128+n]=b[w+256+n]=b[w+384+n]=b[w+0+n];for(n=0;16>n;++n,v<<=2)b=l,w=c+Fi[n],di[p.Ob[n]](b,w),Ln(v,y,16*+n,b,w)}else if(b=On(o,a,p.Ob[0]),hi[b](l,c),0!=v)for(n=0;16>n;++n,v<<=2)Ln(v,y,16*+n,l,c+Fi[n]);for(n=p.Gc,b=On(o,a,p.Dd),fi[b](u,h),fi[b](d,f),v=y,b=u,w=h,255&(p=n|0)&&(170&p?lr(v,256,b,w):ur(v,256,b,w)),p=d,v=f,255&(n>>=8)&&(170&n?lr(y,320,p,v):ur(y,320,p,v)),a<e.Ub-1&&(r(g[m].y,0,l,c+480,16),r(g[m].f,0,u,h+224,8),r(g[m].ea,0,d,f+224,8)),n=8*s*e.B,g=e.sa,m=e.ta+16*o+16*s*e.R,y=e.qa,p=e.ra+8*o+n,v=e.Ha,b=e.Ia+8*o+n,n=0;16>n;++n)r(g,m+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(y,p+n*e.B,u,h+32*n,8),r(v,b+n*e.B,d,f+32*n,8)}}function jn(e,r,i,o,a,s,l,c,u){var h=[0],d=[0],f=0,p=null!=u?u.kd:0,g=null!=u?u:new rn;if(null==e||12>i)return 7;g.data=e,g.w=r,g.ha=i,r=[r],i=[i],g.gb=[g.gb];e:{var m=r,v=i,b=g.gb;if(t(null!=e),t(null!=v),t(null!=b),b[0]=0,12<=v[0]&&!n(e,m[0],"RIFF")){if(n(e,m[0]+8,"WEBP")){b=3;break e}var w=O(e,m[0]+4);if(12>w||4294967286<w){b=3;break e}if(p&&w>v[0]-8){b=7;break e}b[0]=w,m[0]+=12,v[0]-=12}b=0}if(0!=b)return b;for(w=0<g.gb[0],i=i[0];;){e:{var S=e;v=r,b=i;var _=h,k=d,A=m=[0];if((I=f=[f])[0]=0,8>b[0])b=7;else{if(!n(S,v[0],"VP8X")){if(10!=O(S,v[0]+4)){b=3;break e}if(18>b[0]){b=7;break e}var E=O(S,v[0]+8),T=1+C(S,v[0]+12);if(2147483648<=T*(S=1+C(S,v[0]+15))){b=3;break e}null!=A&&(A[0]=E),null!=_&&(_[0]=T),null!=k&&(k[0]=S),v[0]+=18,b[0]-=18,I[0]=1}b=0}}if(f=f[0],m=m[0],0!=b)return b;if(v=!!(2&m),!w&&f)return 3;if(null!=s&&(s[0]=!!(16&m)),null!=l&&(l[0]=v),null!=c&&(c[0]=0),l=h[0],m=d[0],f&&v&&null==u){b=0;break}if(4>i){b=7;break}if(w&&f||!w&&!f&&!n(e,r[0],"ALPH")){i=[i],g.na=[g.na],g.P=[g.P],g.Sa=[g.Sa];e:{E=e,b=r,w=i;var I=g.gb;_=g.na,k=g.P,A=g.Sa,T=22,t(null!=E),t(null!=w),S=b[0];var P=w[0];for(t(null!=_),t(null!=A),_[0]=null,k[0]=null,A[0]=0;;){if(b[0]=S,w[0]=P,8>P){b=7;break e}var N=O(E,S+4);if(4294967286<N){b=3;break e}var L=8+N+1&-2;if(T+=L,0<I&&T>I){b=3;break e}if(!n(E,S,"VP8 ")||!n(E,S,"VP8L")){b=0;break e}if(P[0]<L){b=7;break e}n(E,S,"ALPH")||(_[0]=E,k[0]=S+8,A[0]=N),S+=L,P-=L}}if(i=i[0],g.na=g.na[0],g.P=g.P[0],g.Sa=g.Sa[0],0!=b)break}i=[i],g.Ja=[g.Ja],g.xa=[g.xa];e:if(I=e,b=r,w=i,_=g.gb[0],k=g.Ja,A=g.xa,E=b[0],S=!n(I,E,"VP8 "),T=!n(I,E,"VP8L"),t(null!=I),t(null!=w),t(null!=k),t(null!=A),8>w[0])b=7;else{if(S||T){if(I=O(I,E+4),12<=_&&I>_-12){b=3;break e}if(p&&I>w[0]-8){b=7;break e}k[0]=I,b[0]+=8,w[0]-=8,A[0]=T}else A[0]=5<=w[0]&&47==I[E+0]&&!(I[E+4]>>5),k[0]=w[0];b=0}if(i=i[0],g.Ja=g.Ja[0],g.xa=g.xa[0],r=r[0],0!=b)break;if(4294967286<g.Ja)return 3;if(null==c||v||(c[0]=g.xa?2:1),l=[l],m=[m],g.xa){if(5>i){b=7;break}c=l,p=m,v=s,null==e||5>i?e=0:5<=i&&47==e[r+0]&&!(e[r+4]>>5)?(w=[0],I=[0],_=[0],y(k=new x,e,r,i),ge(k,w,I,_)?(null!=c&&(c[0]=w[0]),null!=p&&(p[0]=I[0]),null!=v&&(v[0]=_[0]),e=1):e=0):e=0}else{if(10>i){b=7;break}c=m,null==e||10>i||!Qe(e,r+3,i-3)?e=0:(p=e[r+0]|e[r+1]<<8|e[r+2]<<16,v=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=g.Ja||!v||!e?e=0:(l&&(l[0]=v),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],m=m[0],f&&(h[0]!=l||d[0]!=m))return 3;null!=u&&(u[0]=g,u.offset=r-u.w,t(4294967286>r-u.w),t(u.offset==u.ha-i));break}return 0==b||7==b&&f&&null==u?(null!=s&&(s[0]|=null!=g.na&&0<g.na.length),null!=o&&(o[0]=l),null!=a&&(a[0]=m),0):b}function Mn(e,t,n){var r=t.width,i=t.height,o=0,a=0,s=r,l=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(s=e.cd,l=e.bd,o=e.v,a=e.j,11>n||(o&=-2,a&=-2),0>o||0>a||0>=s||0>=l||o+s>r||a+l>i))return 0;if(t.v=o,t.j=a,t.va=o+s,t.o=a+l,t.U=s,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!M(s,l,n=[e.ib],o=[e.hb]))return 0;t.ib=n[0],t.hb=o[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*i/4,t.Kb=0),1}function Rn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Fn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var i=n.cd,a=n.bd,s=-2&n.v,l=-2&n.j;if(0>s||0>l||0>=i||0>=a||s+i>e||l+a>t)return 2;e=i,t=a}if(n.da){if(!M(e,t,i=[n.ib],a=[n.hb]))return 2;e=i[0],t=a[0]}}r.width=e,r.height=t;e:{var c=r.width,u=r.height;if(e=r.S,0>=c||0>=u||!(e>=Mr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){s=a=i=t=0;var h=(l=c*qi[e])*u;if(11>e||(a=(u+1)/2*(t=(c+1)/2),12==e&&(s=(i=c)*u)),null==(u=o(h+2*a+s))){e=1;break e}r.sd=u,11>e?((c=r.f.RGBA).eb=u,c.fb=0,c.A=l,c.size=h):((c=r.f.kb).y=u,c.O=0,c.fa=l,c.Fd=h,c.f=u,c.N=0+h,c.Ab=t,c.Cd=a,c.ea=u,c.W=0+h+a,c.Db=t,c.Ed=a,12==e&&(c.F=u,c.J=0+h+2*a),c.Tc=s,c.lb=i)}if(t=1,i=r.S,a=r.width,s=r.height,i>=Mr&&13>i)if(11>i)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(s-1)+a<=e.size,t&=l>=a*qi[i],t&=null!=e.eb;else{e=r.f.kb,l=(a+1)/2,h=(s+1)/2,c=Math.abs(e.fa),u=Math.abs(e.Ab);var d=Math.abs(e.Db),f=Math.abs(e.lb),p=f*(s-1)+a;t&=c*(s-1)+a<=e.Fd,t&=u*(h-1)+l<=e.Cd,t=(t&=d*(h-1)+l<=e.Ed)&c>=a&u>=l&d>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=f>=a,t&=p<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Rn(r)),e}var Bn=64,zn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Un=24,qn=32,Vn=8,Wn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];B("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return U(U(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return U(e,t[n-1])},e.Predictor7=function(e,t,n){return U(e,t[n+0])},e.Predictor8=function(e,t,n){return U(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return U(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return U(U(e,t[n-1]),U(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=W(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+W(r>>16&255,e>>16&255,t>>16&255)+W(r>>8&255,e>>8&255,t>>8&255)+W(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(q((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|q((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|q((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|q((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(V((e=U(e,t[n+0]))>>24&255,r>>24&255)<<24|V(e>>16&255,r>>16&255)<<16|V(e>>8&255,r>>8&255)<<8|V(255&e,255&r))>>>0};var Hn=e.PredictorAdd0;e.PredictorAdd1=H,B("Predictor2","PredictorAdd2"),B("Predictor3","PredictorAdd3"),B("Predictor4","PredictorAdd4"),B("Predictor5","PredictorAdd5"),B("Predictor6","PredictorAdd6"),B("Predictor7","PredictorAdd7"),B("Predictor8","PredictorAdd8"),B("Predictor9","PredictorAdd9"),B("Predictor10","PredictorAdd10"),B("Predictor11","PredictorAdd11"),B("Predictor12","PredictorAdd12"),B("Predictor13","PredictorAdd13");var $n=e.PredictorAdd2;Q("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),Q("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Kn,Gn=e.ColorIndexInverseTransform,Qn=e.MapARGB,Yn=e.VP8LColorIndexInverseTransformAlpha,Xn=e.MapAlpha,Jn=e.VP8LPredictorsAdd=[];Jn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Zn,er,tr,nr,rr,ir,or,ar,sr,lr,cr,ur,hr,dr,fr,pr,gr,mr,yr,vr,br,wr,xr,Sr,_r,kr,Ar,Er,Tr=o(511),Ir=o(2041),Pr=o(225),Nr=o(767),Cr=0,Or=Ir,Lr=Pr,Dr=Nr,jr=Tr,Mr=0,Rr=1,Fr=2,Br=3,zr=4,Ur=5,qr=6,Vr=7,Wr=8,Hr=9,$r=10,Kr=[2,3,7],Gr=[3,3,11],Qr=[280,256,256,256,40],Yr=[0,1,1,1,0],Xr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ei=8,ti=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ri=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ai=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],si=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],li=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ci=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ui=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hi=[],di=[],fi=[],pi=1,gi=2,mi=[],yi=[];vn("UpsampleRgbLinePair",kn,3),vn("UpsampleBgrLinePair",An,3),vn("UpsampleRgbaLinePair",Nn,4),vn("UpsampleBgraLinePair",Pn,4),vn("UpsampleArgbLinePair",In,4),vn("UpsampleRgba4444LinePair",Tn,2),vn("UpsampleRgb565LinePair",En,2);var vi=e.UpsampleRgbLinePair,bi=e.UpsampleBgrLinePair,wi=e.UpsampleRgbaLinePair,xi=e.UpsampleBgraLinePair,Si=e.UpsampleArgbLinePair,_i=e.UpsampleRgba4444LinePair,ki=e.UpsampleRgb565LinePair,Ai=16,Ei=1<<Ai-1,Ti=-227,Ii=482,Pi=6,Ni=(256<<Pi)-1,Ci=0,Oi=o(256),Li=o(256),Di=o(256),ji=o(256),Mi=o(Ii-Ti),Ri=o(Ii-Ti);Cn("YuvToRgbRow",kn,3),Cn("YuvToBgrRow",An,3),Cn("YuvToRgbaRow",Nn,4),Cn("YuvToBgraRow",Pn,4),Cn("YuvToArgbRow",In,4),Cn("YuvToRgba4444Row",Tn,2),Cn("YuvToRgb565Row",En,2);var Fi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bi=[0,2,8],zi=[8,7,6,4,4,2,2,2,1,1,1,1],Ui=1;this.WebPDecodeRGBA=function(e,n,r,i,o){var a=Rr,s=new nn,l=new ae;s.ba=l,l.S=a,l.width=[l.width],l.height=[l.height];var c=l.width,u=l.height,h=new se;if(null==h||null==e)var d=2;else t(null!=h),d=jn(e,n,r,h.width,h.height,h.Pd,h.Qd,h.format,null);if(0!=d?c=0:(null!=c&&(c[0]=h.width[0]),null!=u&&(u[0]=h.height[0]),c=1),c){l.width=l.width[0],l.height=l.height[0],null!=i&&(i[0]=l.width),null!=o&&(o[0]=l.height);e:{if(i=new $e,(o=new rn).data=e,o.w=n,o.ha=r,o.kd=1,n=[0],t(null!=o),(0==(e=jn(o.data,o.w,o.ha,null,null,null,n,null,o))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=s),i.data=o.data,i.w=o.w+o.offset,i.ha=o.ha-o.offset,i.put=fe,i.ac=de,i.bc=pe,i.ma=s,o.xa){if(null==(e=Ie())){s=1;break e}if(function(e,n){var r=[0],i=[0],o=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,y(e.m,n.data,n.w,n.ha),!ge(e.m,r,i,o)){e.a=3;break t}if(e.xb=gi,n.width=r[0],n.height=i[0],!Pe(r[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,i)){if(i=0==(n=Fn(i.width,i.height,s.Oa,s.ba))){t:{i=e;n:for(;;){if(null==i){i=0;break t}if(t(null!=i.s.yc),t(null!=i.s.Ya),t(0<i.s.Wb),t(null!=(r=i.l)),t(null!=(o=r.ma)),0!=i.xb){if(i.ca=o.ba,i.tb=o.tb,t(null!=i.ca),!Mn(o.Oa,r,Br)){i.a=2;break n}if(!Ne(i,r.width))break n;if(r.da)break n;if((r.da||re(i.ca.S))&&yn(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&yn()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!L(i.s.vb,i.s.Wa.Xa)){i.a=1;break n}i.xb=0}if(!Ee(i,i.V,i.Ba,i.c,i.i,r.o,Se))break n;o.Dc=i.Ma,i=1;break t}t(0!=i.a),i=0}i=!i}i&&(n=e.a)}else n=e.a}else{if(null==(e=new Ke)){s=1;break e}if(e.Fa=o.na,e.P=o.P,e.qc=o.Sa,Ye(e,i)){if(0==(n=Fn(i.width,i.height,s.Oa,s.ba))){if(e.Aa=0,r=s.Oa,t(null!=(o=e)),null!=r){if(0<(c=0>(c=r.Md)?0:100<c?255:255*c/100)){for(u=h=0;4>u;++u)12>(d=o.pb[u]).lc&&(d.ia=c*zi[0>d.lc?0:d.lc]>>3),h|=d.ia;h&&(alert("todo:VP8InitRandom"),o.ia=1)}o.Ga=r.Id,100<o.Ga?o.Ga=100:0>o.Ga&&(o.Ga=0)}Ze(e,i)||(n=e.a)}}else n=e.a}0==n&&null!=s.Oa&&s.Oa.fd&&(n=Rn(s.ba))}s=n}a=0!=s?null:11>a?l.f.RGBA.eb:l.f.kb.y}else a=null;return a};var qi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var d=[0],f=[0],p=[],g=new l,m=e,y=function(e,t){var n={},r=0,i=!1,o=0,a=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(h(e,t+=4),t+=8;t<e.length;){var s=c(e,t),l=h(e,t+=4);t+=4;var d=l+(1&l);switch(s){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(g=n.frames[r]).src_off=i?a:t-8,g.src_size=o+l+8,r++,i&&(i=!1,o=0,a=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var f=t+4;g.canvas_width=1+u(e,f),f+=3,g.canvas_height=1+u(e,f),f+=3;break;case"ALPH":i=!0,o=d+8,a=t-8;break;case"ANIM":(g=n.header).bgcolor=h(e,t),f=t+4,g.loop_count=(m=e)[(y=f)+0]|m[y+1]<<8,f+=2;break;case"ANMF":var p,g;(g=n.frames[r]={}).offset_x=2*u(e,t),t+=3,g.offset_y=2*u(e,t),t+=3,g.width=1+u(e,t),t+=3,g.height=1+u(e,t),t+=3,g.duration=u(e,t),t+=3,p=e[t++],g.dispose=1&p,g.blend=p>>1&1}"ANMF"!=s&&(t+=d)}var m,y;return n}}(m,0);y.response=m,y.rgbaoutput=!0,y.dataurl=!1;var v=y.header?y.header:null,b=y.frames?y.frames:null;if(v){v.loop_counter=v.loop_count,d=[v.canvas_height],f=[v.canvas_width];for(var w=0;w<b.length&&0!=b[w].blend;w++);}var x=b[0],S=g.WebPDecodeRGBA(m,x.src_off,x.src_size,f,d);x.rgba=S,x.imgwidth=f[0],x.imgheight=d[0];for(var _=0;_<f[0]*d[0]*4;_++)p[_]=S[_];return this.width=f,this.height=d,this.data=p,this}!function(e){var t=function(t,r,l,c){var u=4,h=o;switch(c){case e.image_compression.FAST:u=1,h=i;break;case e.image_compression.MEDIUM:u=6,h=a;break;case e.image_compression.SLOW:u=9,h=s}var d=bc(t=n(t,r,l,h),{level:u});return e.__addimage__.arrayBufferToBinaryString(d)},n=function(e,t,n,r){for(var i,o,a,s=e.length/t,l=new Uint8Array(e.length+s),h=c(),d=0;d<s;d+=1){if(a=d*t,i=e.subarray(a,a+t),r)l.set(r(i,n,o),a+d);else{for(var f,p=h.length,g=[];f<p;f+=1)g[f]=h[f](i,n,o);var m=u(g.concat());l.set(g[m],a+d)}o=i}return l},r=function(e){var t=Array.apply([],e);return t.unshift(0),t},i=function(e,t){var n,r=[],i=e.length;r[0]=1;for(var o=0;o<i;o+=1)n=e[o-t]||0,r[o+1]=e[o]-n+256&255;return r},o=function(e,t,n){var r,i=[],o=e.length;i[0]=2;for(var a=0;a<o;a+=1)r=n&&n[a]||0,i[a+1]=e[a]-r+256&255;return i},a=function(e,t,n){var r,i,o=[],a=e.length;o[0]=3;for(var s=0;s<a;s+=1)r=e[s-t]||0,i=n&&n[s]||0,o[s+1]=e[s]+256-(r+i>>>1)&255;return o},s=function(e,t,n){var r,i,o,a,s=[],c=e.length;s[0]=4;for(var u=0;u<c;u+=1)r=e[u-t]||0,i=n&&n[u]||0,o=n&&n[u-t]||0,a=l(r,i,o),s[u+1]=e[u]-a+256&255;return s},l=function(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),o=Math.abs(e+t-n-n);return r<=i&&r<=o?e:i<=o?t:n},c=function(){return[r,i,o,a,s]},u=function(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(n,r,i,o){var a,s,l,c,u,h,d,f,p,g,m,y,v,b,w,x=this.decode.FLATE_DECODE,S="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new fh(n)).imgData,s=l.bits,a=l.colorSpace,u=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){p=(f=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,m=new Uint8Array(p*l.colors),g=new Uint8Array(p);var _,k=l.pixelBitlength-l.bits;for(b=0,w=0;b<p;b++){for(v=f[b],_=0;_<k;)m[w++]=v>>>_&255,_+=l.bits;g[b]=v>>>_&255}}if(16===l.bits){p=(f=new Uint32Array(l.decodePixels().buffer)).length,m=new Uint8Array(p*(32/l.pixelBitlength)*l.colors),g=new Uint8Array(p*(32/l.pixelBitlength)),y=l.colors>1,b=0,w=0;for(var A=0;b<p;)v=f[b++],m[w++]=v>>>0&255,y&&(m[w++]=v>>>16&255,v=f[b++],m[w++]=v>>>0&255),g[A++]=v>>>16&255;s=8}o!==e.image_compression.NONE?(n=t(m,l.width*l.colors,l.colors,o),d=t(g,l.width,1,o)):(n=m,d=g,x=void 0)}if(3===l.colorType&&(a=this.color_spaces.INDEXED,h=l.palette,l.transparency.indexed)){var E=l.transparency.indexed,T=0;for(b=0,p=E.length;b<p;++b)T+=E[b];if((T/=255)===p-1&&-1!==E.indexOf(0))c=[E.indexOf(0)];else if(T!==p){for(f=l.decodePixels(),g=new Uint8Array(f.length),b=0,p=f.length;b<p;b++)g[b]=E[f[b]];d=t(g,l.width,1)}}var I=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(o);return x===this.decode.FLATE_DECODE&&(S="/Predictor "+I+" "),S+="/Colors "+u+" /BitsPerComponent "+s+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:i,data:n,index:r,filter:x,decodeParameters:S,transparency:c,palette:h,sMask:d,predictor:I,width:l.width,height:l.height,bitsPerComponent:s,colorSpace:a}}}}(tu.API),function(e){e.processGIF89A=function(t,n,r,i){var o=new ph(t),a=o.width,s=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:s},u=new mh(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)},e.processGIF87A=e.processGIF89A}(tu.API),yh.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},yh.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){kc.log("bit decode error:"+e)}},yh.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[o>>7-s&1];this.data[a+4*s]=l.blue,this.data[a+4*s+1]=l.green,this.data[a+4*s+2]=l.red,this.data[a+4*s+3]=255}0!==n&&(this.pos+=4-n)}},yh.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,s=o>>4,l=15&o,c=this.palette[s];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},yh.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==e&&(this.pos+=4-e)}},yh.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,s=(o>>5&t)/t*255|0,l=(o>>10&t)/t*255|0,c=o>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=c}this.pos+=e}},yh.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/t*255|0,u=i*this.width*4+4*o;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=s,this.data[u+3]=255}this.pos+=e}},yh.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},yh.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=a}},yh.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var o=new yh(t,!1),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new mh(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(tu.API),vh.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var o=new vh(t),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new mh(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(tu.API),tu.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,o=new Uint8Array(i/4*3),a=new Uint8Array(i/4),s=0,l=0,c=0;c<i;c+=4){var u=r[c],h=r[c+1],d=r[c+2],f=r[c+3];o[s++]=u,o[s++]=h,o[s++]=d,a[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:p,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},tu.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},lh=tu.API,ch=lh.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=!1!==t.doKerning,d=0,f=e.length,p=0,g=s[0]||l,m=[];for(n=0;n<f;n++)r=e.charCodeAt(n),"function"==typeof i.metadata.widthOfString?m.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/o)||0)/1e3):(d=h&&"object"===(0,Al.A)(c[r])&&!isNaN(parseInt(c[r][p],10))?c[r][p]/u:0,m.push((s[r]||g)/l+d)),p=r;return m},uh=lh.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return lh.processArabic&&(e=lh.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,i)/n:ch.apply(this,arguments).reduce(function(e,t){return e+t},0)},hh=function(e,t,n,r){for(var i=[],o=0,a=e.length,s=0;o!==a&&s+t[o]<n;)s+=t[o],o++;i.push(e.slice(0,o));var l=o;for(s=0;o!==a;)s+t[o]>r&&(i.push(e.slice(l,o)),s=0,l=o),s+=t[o],o++;return l!==o&&i.push(e.slice(l,o)),i},dh=function(e,t,n){n||(n={});var r,i,o,a,s,l,c,u=[],h=[u],d=n.textIndent||0,f=0,p=0,g=e.split(" "),m=ch.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?g[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),v=[];g.map(function(e){(e=e.split(/\s*\n/)).length>1?v=v.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):v.push(e[0])}),g=v,l=uh.apply(this,[y,n])}for(o=0,a=g.length;o<a;o++){var b=0;if(r=g[o],l&&"\n"==r[0]&&(r=r.substr(1),b=1),d+f+(p=(i=ch.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||b){if(p>t){for(s=hh.apply(this,[r,i,t-(d+f),t]),u.push(s.shift()),u=[s.pop()];s.length;)h.push([s.shift()]);p=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(e,t){return e+t},0)}else u=[r];h.push(u),d=p+l,f=m}else u.push(r),d+=f+p,f=m}return c=l?function(e,t){return(t?y:"")+e.join(" ")}:function(e){return e.join(" ")},h.map(c)},lh.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var s,l,c=[];for(s=0,l=r.length;s<l;s++)c=c.concat(dh.apply(this,[r[s],a,o]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<16;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var o=function(e){return"0x"+parseInt(e,10).toString(16)},a=e.__fontmetrics__.compress=function(e){var t,n,i,s,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=o(c).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof t)t<0?(i=o(t).slice(3),s="-"):(i=o(t).slice(2),s=""),i=s+i.slice(0,-1)+r[i.slice(-1)];else{if("object"!==(0,Al.A)(t))throw new Error("Don't know what to do with value type "+(0,Al.A)(t)+".");i=a(t)}l.push(n+i)}return l.push("}"),l.join("")},s=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,i,o,a={},s=1,l=a,c=[],u="",h="",d=e.length-1,f=1;f<d;f+=1)"'"==(o=e[f])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(o):"{"==o?(c.push([l,i]),l={},i=void 0):"}"==o?((r=c.pop())[0][r[1]]=l,i=void 0,l=r[0]):"-"==o?s=-1:void 0===i?n.hasOwnProperty(o)?(u+=n[o],i=parseInt(u,16)*s,s=1,u=""):u+=o:n.hasOwnProperty(o)?(h+=n[o],l[i]=parseInt(h,16)*s,s=1,i=void 0,h=""):h+=o;return a},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=c.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(tu.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(Ic(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}(tu),function(){function e(){return(Sc.canvg?Promise.resolve(Sc.canvg):n.e(732).then(n.bind(n,3732))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}tu.API.addSvgAsImage=function(t,n,r,i,o,a,s,l){if(isNaN(n)||isNaN(r))throw kc.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw kc.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=o;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return e().then(function(e){return e.fromString(u,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(h)}).then(function(){d.addImage(c.toDataURL("image/jpeg",1),n,r,i,o,s,l)})}}(),tu.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},tu.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(a),l=[],c=0,u=0,h=0;function d(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var f=s.length;for(h=0;h<f;h+=1)n[s[h]].value=n[s[h]].defaultValue,n[s[h]].explicitSet=!1}if("object"===(0,Al.A)(e))for(i in e)if(o=e[i],d(s,i)&&void 0!==o){if("boolean"===n[i].type&&"boolean"==typeof o)n[i].value=o;else if("name"===n[i].type&&d(n[i].valueSet,o))n[i].value=o;else if("integer"===n[i].type&&Number.isInteger(o))n[i].value=o;else if("array"===n[i].type){for(c=0;c<o.length;c+=1)if(r=!0,1===o[c].length&&"number"==typeof o[c][0])l.push(String(o[c]-1));else if(o[c].length>1){for(u=0;u<o[c].length;u+=1)"number"!=typeof o[c][u]&&(r=!1);!0===r&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),a=n.length+r.length+i.length+t.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+i+o),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(tu.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,i=["","0","00","000","0000"],o=[""],a=0,s=e.length;a<s;++a){if(n=t.metadata.characterToGlyph(e.charCodeAt(a)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(a),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return o.join("");n=n.toString(16),o.push(i[4-n.length],n)}return o.join("")},r=function(e){var t,n,r,i,o,a,s;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],a=0,s=(n=Object.keys(e).sort(function(e,t){return e-t})).length;a<s;a++)t=n[a],r.length>=100&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+i+">"));return r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),o+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var s=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",u=0;u<l.length;u++)c+=String.fromCharCode(l[u]);var h=o();a({data:c,addLength1:!0,objectId:h}),i("endobj");var d=o();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),i("endobj");var f=o();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+Qc(n.fontName)),i("/FontFile2 "+h+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var p=o();i("<<"),i("/Type /Font"),i("/BaseFont /"+Qc(n.fontName)),i("/FontDescriptor "+f+" 0 R"),i("/W "+e.API.PDFObject.convert(s)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=o(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+d+" 0 R"),i("/BaseFont /"+Qc(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+p+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,a=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var s=n.metadata.rawData,l="",c=0;c<s.length;c++)l+=String.fromCharCode(s[c]);var u=o();a({data:l,addLength1:!0,objectId:u}),i("endobj");var h=o();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var d=o();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+u+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+Qc(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=o();for(var f=0;f<n.metadata.hmtx.widths.length;f++)n.metadata.hmtx.widths[f]=parseInt(n.metadata.hmtx.widths[f]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+h+" 0 R/BaseFont/"+Qc(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,r=e.text||"",i=e.x,o=e.y,a=e.options||{},s=e.mutex||{},l=s.pdfEscape,c=s.activeFontKey,u=s.fonts,h=c,d="",f=0,p="",g=u[h].encoding;if("Identity-H"!==u[h].encoding)return{text:r,x:i,y:o,options:a,mutex:s};for(p=r,h=c,Array.isArray(r)&&(p=r[0]),f=0;f<p.length;f+=1)u[h].metadata.hasOwnProperty("cmap")&&(t=u[h].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),t||p[f].charCodeAt(0)<256&&u[h].metadata.hasOwnProperty("Unicode")?d+=p[f]:d+="";var m="";return parseInt(h.slice(1))<14||"WinAnsiEncoding"===g?m=l(d,h).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===g&&(m=n(d,u[h])),s.isHex=!0,{text:m,x:i,y:o,options:a,mutex:s}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var o=0;for(o=0;o<t.length;o+=1)Array.isArray(t[o])&&3===t[o].length?n.push([i(Object.assign({},r,{text:t[o][0]})).text,t[o][1],t[o][2]]):n.push(i(Object.assign({},r,{text:t[o]})).text);e.text=n}else e.text=i(Object.assign({},r,{text:t})).text}])}(tu),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(tu.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,i,o,a,s,l,c=t,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,y=0;this.__bidiEngine__={};var v=function(e){var t=e.charCodeAt(),n=t>>8,r=f[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":g.test(n)?"L":8===n?"R":"N"},b=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=v(e.charAt(n))))return!1;if("R"===t)return!0}return!1},w=function(e,t,a,s){var l,c,u,h,d=t[s];switch(d){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"N":case"AN":break;case"EN":m&&(d="AN");break;case"AL":m=!0,d="R";break;case"WS":case"BN":d="N";break;case"CS":s<1||s+1>=t.length||"EN"!==(l=a[s-1])&&"AN"!==l||"EN"!==(c=t[s+1])&&"AN"!==c?d="N":m&&(c="AN"),d=c===l?c:"N";break;case"ES":d="EN"===(l=s>0?a[s-1]:"B")&&s+1<t.length&&"EN"===t[s+1]?"EN":"N";break;case"ET":if(s>0&&"EN"===a[s-1]){d="EN";break}if(m){d="N";break}for(u=s+1,h=t.length;u<h&&"ET"===t[u];)u++;d=u<h&&"EN"===t[u]?"EN":"N";break;case"NSM":if(i&&!o){for(h=t.length,u=s+1;u<h&&"NSM"===t[u];)u++;if(u<h){var f=e[s],p=f>=1425&&f<=2303||64286===f;if(l=t[u],p&&("R"===l||"AL"===l)){d="R";break}}}d=s<1||"B"===(l=t[s-1])?"N":a[s-1];break;case"B":m=!1,n=!0,d=y;break;case"S":r=!0,d="N"}return d},x=function(e,t,n){var r=e.split("");return n&&S(r,n,{hiLevel:y}),r.reverse(),t&&t.reverse(),r.join("")},S=function(e,t,i){var o,a,s,l,c,f=-1,p=e.length,g=0,b=[],x=y?h:u,S=[];for(m=!1,n=!1,r=!1,a=0;a<p;a++)S[a]=v(e[a]);for(s=0;s<p;s++){if(c=g,b[s]=w(e,S,b,s),o=240&(g=x[c][d[b[s]]]),g&=15,t[s]=l=x[g][5],o>0)if(16===o){for(a=f;a<s;a++)t[a]=1;f=-1}else f=-1;if(x[g][6])-1===f&&(f=s);else if(f>-1){for(a=f;a<s;a++)t[a]=l;f=-1}"B"===S[s]&&(t[s]=0),i.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=y;for(var i=r-1;i>=0&&"WS"===e[i];i--)t[i]=y}}(S,t,p)},_=function(e,t,r,i,o){if(!(o.hiLevel<e)){if(1===e&&1===y&&!n)return t.reverse(),void(r&&r.reverse());for(var a,s,l,c,u=t.length,h=0;h<u;){if(i[h]>=e){for(l=h+1;l<u&&i[l]>=e;)l++;for(c=h,s=l-1;c<s;c++,s--)a=t[c],t[c]=t[s],t[s]=a,r&&(a=r[c],r[c]=r[s],r[s]=a);h=l}h++}}},k=function(e,t,n){var r=e.split(""),i={hiLevel:y};return n||(n=[]),S(r,n,i),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,i=0;i<e.length;i++)1===t[i]&&(r=p.indexOf(e[i]))>=0&&(e[i]=p[r+1])}(r,n,i),_(2,r,t,n,i),_(1,r,t,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===o&&(o=b(e)),void 0===s&&(s=b(e))}(e,t),i||!a||s)if(i&&a&&o^s)y=o?1:0,e=x(e,t,n);else if(!i&&a&&s)y=o?1:0,e=k(e,t,n),e=x(e,t);else if(!i||o||a||s){if(i&&!a&&o^s)e=x(e,t),o?(y=0,e=k(e,t,n)):(y=1,e=k(e,t,n),e=x(e,t));else if(i&&o&&!a&&s)y=1,e=k(e,t,n),e=x(e,t);else if(!i&&!a&&o^s){var r=l;o?(y=1,e=k(e,t,n),y=0,l=!1,e=k(e,t,n),l=r):(y=0,e=k(e,t,n),e=x(e,t),y=1,l=!1,e=k(e,t,n),l=r,e=x(e,t))}}else y=0,e=k(e,t,n);else y=o?1:0,e=k(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,a=e.isOutputVisual,o=e.isInputRtl,s=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var i=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var o=0;for(i=[],o=0;o<t.length;o+=1)"[object Array]"===Object.prototype.toString.call(t[o])?i.push([n.doBidiReorder(t[o][0]),t[o][1],t[o][2]]):i.push([n.doBidiReorder(t[o])]);e.text=i}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(tu),tu.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new wh(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Bh(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new xh(this.contents),this.head=new kh(this),this.name=new Ch(this),this.cmap=new Eh(this),this.toUnicode={},this.hhea=new Th(this),this.maxp=new Oh(this),this.hmtx=new Lh(this),this.post=new Ph(this),this.os2=new Ih(this),this.loca=new Fh(this),this.glyf=new jh(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,i;for(i=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(t=r>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,i,o,a;for(o=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)r=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return o*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var bh,wh=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,i,o,a,s;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^s)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*i+65536*o+256*a+s},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.writeByte(t));return i},e}(),xh=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,i,o,a,s,l,c,u,h,d,f,p;for(p in d=Object.keys(t).length,s=Math.log(2),u=16*Math.floor(Math.log(d)/s),o=Math.floor(u/s),c=16*d-u,(r=new wh).writeInt(this.scalarType),r.writeShort(d),r.writeShort(u),r.writeShort(o),r.writeShort(c),i=16*d,l=r.pos+i,a=null,f=[],t)for(h=t[p],r.writeString(p),r.writeInt(e(h)),r.writeInt(l),r.writeInt(h.length),f=f.concat(h),"head"===p&&(a=l),l+=h.length;l%4;)f.push(0),l++;return r.write(f),n=2981146554-e(r.data),r.pos=a+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,i;for(e=Dh.call(e);e.length%4;)e.push(0);for(r=new wh(e),n=0,t=0,i=e.length;t<i;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),Sh={}.hasOwnProperty,_h=function(e,t){for(var n in t)Sh.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};bh=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var kh=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,bh),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new wh).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),Ah=function(){function e(e,t){var n,r,i,o,a,s,l,c,u,h,d,f,p,g,m,y,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=e.readByte();break;case 4:for(d=e.readUInt16(),h=d/2,e.pos+=6,i=function(){var t,n;for(n=[],s=t=0;0<=h?t<h:t>h;s=0<=h?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,p=function(){var t,n;for(n=[],s=t=0;0<=h?t<h:t>h;s=0<=h?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],s=t=0;0<=h?t<h:t>h;s=0<=h?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],s=t=0;0<=h?t<h:t>h;s=0<=h?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,a=function(){var t,n;for(n=[],s=t=0;0<=r?t<r:t>r;s=0<=r?++t:--t)n.push(e.readUInt16());return n}(),s=m=0,v=i.length;m<v;s=++m)for(g=i[s],n=y=f=p[s];f<=g?y<=g:y>=g;n=f<=g?++y:--y)0===c[s]?o=n+l[s]:0!==(o=a[c[s]/2+(n-f)-(h-s)]||0)&&(o+=l[s]),this.codeMap[n]=65535&o}e.pos=u}return e.encode=function(e,t){var n,r,i,o,a,s,l,c,u,h,d,f,p,g,m,y,v,b,w,x,S,_,k,A,E,T,I,P,N,C,O,L,D,j,M,R,F,B,z,U,q,V,W,H,$,K;switch(P=new wh,o=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(p=0,g=function(){var e=[];for(f=0;f<256;++f)e.push(0);return e}(),y={0:0},i={},N=0,D=o.length;N<D;N++)null==y[W=e[r=o[N]]]&&(y[W]=++p),i[r]={old:e[r],new:y[e[r]]},g[r]=y[e[r]];return P.writeUInt16(1),P.writeUInt16(0),P.writeUInt32(12),P.writeUInt16(0),P.writeUInt16(262),P.writeUInt16(0),P.write(g),{charMap:i,subtable:P.data,maxGlyphID:p+1};case"unicode":for(T=[],u=[],v=0,y={},n={},m=l=null,C=0,j=o.length;C<j;C++)null==y[w=e[r=o[C]]]&&(y[w]=++v),n[r]={old:w,new:y[w]},a=y[w]-r,null!=m&&a===l||(m&&u.push(m),T.push(r),l=a),m=r;for(m&&u.push(m),u.push(65535),T.push(65535),A=2*(k=T.length),_=2*Math.pow(Math.log(k)/Math.LN2,2),h=Math.log(_/2)/Math.LN2,S=2*k-_,s=[],x=[],d=[],f=O=0,M=T.length;O<M;f=++O){if(E=T[f],c=u[f],65535===E){s.push(0),x.push(0);break}if(E-(I=n[E].new)>=32768)for(s.push(0),x.push(2*(d.length+k-f)),r=L=E;E<=c?L<=c:L>=c;r=E<=c?++L:--L)d.push(n[r].new);else s.push(I-E),x.push(0)}for(P.writeUInt16(3),P.writeUInt16(1),P.writeUInt32(12),P.writeUInt16(4),P.writeUInt16(16+8*k+2*d.length),P.writeUInt16(0),P.writeUInt16(A),P.writeUInt16(_),P.writeUInt16(h),P.writeUInt16(S),q=0,R=u.length;q<R;q++)r=u[q],P.writeUInt16(r);for(P.writeUInt16(0),V=0,F=T.length;V<F;V++)r=T[V],P.writeUInt16(r);for(H=0,B=s.length;H<B;H++)a=s[H],P.writeUInt16(a);for($=0,z=x.length;$<z;$++)b=x[$],P.writeUInt16(b);for(K=0,U=d.length;K<U;K++)p=d[K],P.writeUInt16(p);return{charMap:n,subtable:P.data,maxGlyphID:v+1}}},e}(),Eh=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,bh),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new Ah(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=Ah.encode(e,t),(r=new wh).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),Th=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,bh),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),Ih=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,bh),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),Ph=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,bh),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],i=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),Nh=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Ch=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,bh),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,i,o,a,s,l,c,u,h;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(s={},i=c=0,u=n.length;c<u;i=++c)r=n[i],e.pos=r.offset,l=e.readString(r.length),o=new Nh(l,r),null==s[h=r.nameID]&&(s[h]=[]),s[r.nameID].push(o);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},e}(),Oh=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,bh),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),Lh=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,bh),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,i,o,a,s;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)i=n[e],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],s=[],t=o=0;0<=r?o<r:o>r;t=0<=r?++o:--o)s.push(this.widths.push(n));return s},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),Dh=[].slice,jh=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,bh),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,i,o,a,s,l,c,u;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),0===(r=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,o=(a=new wh(t.read(r))).readShort(),l=a.readShort(),u=a.readShort(),s=a.readShort(),c=a.readShort(),this.cache[e]=-1===o?new Rh(a,l,u,s,c):new Mh(a,o,l,u,s,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,i,o,a,s;for(o=[],i=[],a=0,s=t.length;a<s;a++)r=e[t[a]],i.push(o.length),r&&(o=o.concat(r.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),Mh=function(){function e(e,t,n,r,i,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Rh=function(){function e(e,t,n,r,i){var o,a;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new wh(Dh.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Fh=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _h(e,bh),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,o=0;o<n.length;++o)if(n[o]=r,i<t.length&&t[i]==o){++i,n[o]=r;var a=this.offsets[o],s=this.offsets[o+1]-a;s>0&&(r+=s)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),Bh=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,i;for(t in r=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,i,o,a,s;for(r={},o=0,a=e.length;o<a;o++)r[i=e[o]]=this.font.glyf.glyphFor(i);for(i in t=[],r)(null!=(n=r[i])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in s=this.glyphsFor(t))n=s[i],r[i]=n;return r},e.prototype.encode=function(e,t){var n,r,i,o,a,s,l,c,u,h,d,f,p,g,m;for(r in n=Eh.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),d={0:0},m=n.charMap)d[(s=m[r]).old]=s.new;for(f in h=n.maxGlyphID,o)f in d||(d[f]=h++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(d),u=Object.keys(c).sort(function(e,t){return e-t}),p=function(){var e,t,n;for(n=[],e=0,t=u.length;e<t;e++)a=u[e],n.push(c[a]);return n}(),i=this.font.glyf.encode(o,p,d),l=this.font.loca.encode(i.offsets,p),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},e}();function zh(e,t,n,r,i){r=r||{};var o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,s=a*(i.getLineHeightFactor?i.getLineHeightFactor():1.15),l="",c=1;if("middle"!==r.valign&&"bottom"!==r.valign&&"center"!==r.halign&&"right"!==r.halign||(c=(l="string"===typeof e?e.split(/\r\n|\r|\n/g):e).length||1),n+=a*(2-1.15),"middle"===r.valign?n-=c/2*s:"bottom"===r.valign&&(n-=c*s),"center"===r.halign||"right"===r.halign){var u=a;if("center"===r.halign&&(u*=.5),l&&c>=1){for(var h=0;h<l.length;h++)i.text(l[h],t-i.getStringUnitWidth(l[h])*u,n),n+=s;return i}t-=i.getStringUnitWidth(e)*u}return"justify"===r.halign?i.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(e,t,n),i}tu.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,i,o,a;if(Array.isArray(n))return"["+function(){var e,i,o;for(o=[],e=0,i=n.length;e<i;e++)r=n[e],o.push(t.convert(r));return o}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in o=["<<"],n)a=n[i],o.push("/"+i+" "+t.convert(a));return o.push(">>"),o.join("\n")}return""+n},t}();var Uh={},qh=function(){function e(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(e,t){void 0===t&&(t=null),t?t.__autoTableDocumentDefaults=e:Uh=e},e.unifyColor=function(e){return Array.isArray(e)?e:"number"===typeof e?[e,e,e]:"string"===typeof e?[e]:null},e.prototype.applyStyles=function(t,n){var r,i,o;void 0===n&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var a=this.jsPDFDocument.internal.getFont(),s=a.fontStyle,l=a.fontName;if(t.font&&(l=t.font),t.fontStyle){s=t.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(s)&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),s=c[0])}if(this.jsPDFDocument.setFont(l,s),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var u=e.unifyColor(t.fillColor);u&&(r=this.jsPDFDocument).setFillColor.apply(r,u),(u=e.unifyColor(t.textColor))&&(i=this.jsPDFDocument).setTextColor.apply(i,u),(u=e.unifyColor(t.lineColor))&&(o=this.jsPDFDocument).setDrawColor.apply(o,u),"number"===typeof t.lineWidth&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},e.prototype.rect=function(e,t,n,r,i){return this.jsPDFDocument.rect(e,t,n,r,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Uh||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return null==e.width&&(e={width:e.getWidth(),height:e.getHeight()}),e},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),Vh=function(e,t){return Vh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Vh(e,t)};function Wh(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Vh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}"function"===typeof SuppressedError&&SuppressedError;var Hh=function(e){function t(t){var n=e.call(this)||this;return n._element=t,n}return Wh(t,e),t}(Array);function $h(e,t,n){n.applyStyles(t,!0);var r=(Array.isArray(e)?e:[e]).map(function(e){return n.getTextWidth(e)}).reduce(function(e,t){return Math.max(e,t)},0);return r}function Kh(e,t,n,r){var i=t.settings.tableLineWidth,o=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:o});var a=Gh(i,!1);a&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,a)}function Gh(e,t){var n=e>0,r=t||0===t;return n&&r?"DF":n?"S":r?"F":null}function Qh(e,t){var n,r,i,o;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(3===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e=1===e.length?e[0]:t}return"object"===typeof e?("number"===typeof e.vertical&&(e.top=e.vertical,e.bottom=e.vertical),"number"===typeof e.horizontal&&(e.right=e.horizontal,e.left=e.horizontal),{left:null!==(n=e.left)&&void 0!==n?n:t,top:null!==(r=e.top)&&void 0!==r?r:t,right:null!==(i=e.right)&&void 0!==i?i:t,bottom:null!==(o=e.bottom)&&void 0!==o?o:t}):("number"!==typeof e&&(e=t),{top:e,right:e,bottom:e,left:e})}function Yh(e,t){var n=Qh(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function Xh(e,t,n,r,i){var o={},a=96/72,s=Jh(t,function(e){return i.getComputedStyle(e).backgroundColor});null!=s&&(o.fillColor=s);var l=Jh(t,function(e){return i.getComputedStyle(e).color});null!=l&&(o.textColor=l);var c=function(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,o=n.map(function(e){return parseInt(e||"0")/r}),a=Qh(o,0);i>a.top&&(a.top=i);i>a.bottom&&(a.bottom=i);return a}(r,n);c&&(o.cellPadding=c);var u="borderTopColor",h=a*n,d=r.borderTopWidth;if(r.borderBottomWidth===d&&r.borderRightWidth===d&&r.borderLeftWidth===d){var f=(parseFloat(d)||0)/h;f&&(o.lineWidth=f)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},o.lineWidth.top||(o.lineWidth.right?u="borderRightColor":o.lineWidth.bottom?u="borderBottomColor":o.lineWidth.left&&(u="borderLeftColor"));var p=Jh(t,function(e){return i.getComputedStyle(e)[u]});null!=p&&(o.lineColor=p);var g=["left","right","center","justify"];-1!==g.indexOf(r.textAlign)&&(o.halign=r.textAlign),-1!==(g=["middle","bottom","top"]).indexOf(r.verticalAlign)&&(o.valign=r.verticalAlign);var m=parseInt(r.fontSize||"");isNaN(m)||(o.fontSize=m/a);var y=function(e){var t="";("bold"===e.fontWeight||"bolder"===e.fontWeight||parseInt(e.fontWeight)>=700)&&(t="bold");"italic"!==e.fontStyle&&"oblique"!==e.fontStyle||(t+="italic");return t}(r);y&&(o.fontStyle=y);var v=(r.fontFamily||"").toLowerCase();return-1!==e.indexOf(v)&&(o.font=v),o}function Jh(e,t){var n=Zh(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];return 0===parseInt(r[4])||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Zh(e,t){var n=t(e);return"rgba(0, 0, 0, 0)"===n||"transparent"===n||"initial"===n||"inherit"===n?null==e.parentElement?null:Zh(e.parentElement,t):n}function ed(e,t,n,r,i){var o,a,s;void 0===r&&(r=!1),void 0===i&&(i=!1),s="string"===typeof t?n.document.querySelector(t):t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],h=[],d=[];if(!s)return console.error("Html table could not be found with input: ",t),{head:u,body:h,foot:d};for(var f=0;f<s.rows.length;f++){var p=s.rows[f],g=null===(a=null===(o=null===p||void 0===p?void 0:p.parentElement)||void 0===o?void 0:o.tagName)||void 0===a?void 0:a.toLowerCase(),m=td(l,c,n,p,r,i);m&&("thead"===g?u.push(m):"tfoot"===g?d.push(m):h.push(m))}return{head:u,body:h,foot:d}}function td(e,t,n,r,i,o){for(var a=new Hh(r),s=0;s<r.cells.length;s++){var l=r.cells[s],c=n.getComputedStyle(l);if(i||"none"!==c.display){var u=void 0;o&&(u=Xh(e,l,t,c,n)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:nd(l)})}}var h=n.getComputedStyle(r);if(a.length>0&&(i||"none"!==h.display))return a}function nd(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join("\n"),t.innerText||t.textContent||""}function rd(e,t,n,r,i){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),a=1;a<arguments.length;a++){var s=arguments[a];if(null!=s)for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o}function id(e,t){var n=new qh(e),r=n.getDocumentOptions(),i=n.getGlobalOptions();!function(e,t,n){for(var r=0,i=[e,t,n];r<i.length;r++){var o=i[r];o&&"object"!==typeof o&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&"number"!==typeof o.startY&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}(i,r,t);var o,a=rd({},i,r,t);"undefined"!==typeof window&&(o=window);var s=function(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(i){if("columnStyles"===i){var o=e[i],a=t[i],s=n[i];r.columnStyles=rd({},o,a,s)}else{var l=[e,t,n].map(function(e){return e[i]||{}});r[i]=rd({},l[0],l[1],l[2])}},o=0,a=Object.keys(r);o<a.length;o++){i(a[o])}return r}(i,r,t),l=function(e,t,n){for(var r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=[e,t,n];i<o.length;i++){var a=o[i];a.didParseCell&&r.didParseCell.push(a.didParseCell),a.willDrawCell&&r.willDrawCell.push(a.willDrawCell),a.didDrawCell&&r.didDrawCell.push(a.didDrawCell),a.willDrawPage&&r.willDrawPage.push(a.willDrawPage),a.didDrawPage&&r.didDrawPage.push(a.didDrawPage)}return r}(i,r,t),c=function(e,t){var n,r,i,o,a,s,l,c,u,h,d,f,p,g,m=Qh(t.margin,40/e.scaleFactor()),y=null!==(n=function(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),i=e.pageNumber(),o=!1;if(n&&n.startPageNumber){o=n.startPageNumber+n.pageNumber-1===i}if("number"===typeof t)return t;if((null==t||!1===t)&&o&&null!=(null===n||void 0===n?void 0:n.finalY))return n.finalY+20/r;return null}(e,t.startY))&&void 0!==n?n:m.top;p=!0===t.showFoot?"everyPage":!1===t.showFoot?"never":null!==(r=t.showFoot)&&void 0!==r?r:"everyPage";g=!0===t.showHead?"everyPage":!1===t.showHead?"never":null!==(i=t.showHead)&&void 0!==i?i:"everyPage";var v=null!==(o=t.useCss)&&void 0!==o&&o,b=t.theme||(v?"plain":"striped"),w=!!t.horizontalPageBreak,x=null!==(a=t.horizontalPageBreakRepeat)&&void 0!==a?a:null;return{includeHiddenHtml:null!==(s=t.includeHiddenHtml)&&void 0!==s&&s,useCss:v,theme:b,startY:y,margin:m,pageBreak:null!==(l=t.pageBreak)&&void 0!==l?l:"auto",rowPageBreak:null!==(c=t.rowPageBreak)&&void 0!==c?c:"auto",tableWidth:null!==(u=t.tableWidth)&&void 0!==u?u:"auto",showHead:g,showFoot:p,tableLineWidth:null!==(h=t.tableLineWidth)&&void 0!==h?h:0,tableLineColor:null!==(d=t.tableLineColor)&&void 0!==d?d:200,horizontalPageBreak:w,horizontalPageBreakRepeat:x,horizontalPageBreakBehaviour:null!==(f=t.horizontalPageBreakBehaviour)&&void 0!==f?f:"afterAllRows"}}(n,a),u=function(e,t,n){var r=t.head||[],i=t.body||[],o=t.foot||[];if(t.html){var a=t.includeHiddenHtml;if(n){var s=ed(e,t.html,n,a,t.useCss)||{};r=s.head||r,i=s.body||r,o=s.foot||r}else console.error("Cannot parse html in non browser environment")}var l=t.columns||function(e,t,n){var r=e[0]||t[0]||n[0]||[],i=[];return Object.keys(r).filter(function(e){return"_element"!==e}).forEach(function(e){var t,n=1;"object"!==typeof(t=Array.isArray(r)?r[parseInt(e)]:r[e])||Array.isArray(t)||(n=(null===t||void 0===t?void 0:t.colSpan)||1);for(var o=0;o<n;o++){var a={dataKey:Array.isArray(r)?i.length:e+(o>0?"_".concat(o):"")};i.push(a)}}),i}(r,i,o);return{columns:l,head:r,body:i,foot:o}}(n,a,o);return{id:t.tableId,content:u,hooks:l,styles:s,settings:c}}var od,ad=function(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()},sd=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t,n,a)||this;return s.cell=r,s.row=i,s.column=o,s.section=i.section,s}return Wh(t,e),t}(ad),ld=function(){function e(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},e.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(e,t,n,r,i,o){for(var a=0,s=t;a<s.length;a++){var l=!1===(0,s[a])(new sd(e,this,n,r,i,o));if(n.text=Array.isArray(n.text)?n.text:[n.text],l)return!1}return!0},e.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++){(0,r[n])(new ad(e,this,t))}},e.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++){(0,r[n])(new ad(e,this,t))}},e.prototype.getWidth=function(e){if("number"===typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(e,t){return e+t.wrappedWidth},0);var t=this.settings.margin;return e-t.left-t.right},e}(),cd=function(){function e(e,t,n,r,i){void 0===i&&(i=!1),this.height=0,this.raw=e,e instanceof Hh&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=r,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(e,n){var r;return Math.max(e,(null===(r=t.cells[n.index])||void 0===r?void 0:r.height)||0)},0)},e.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(e){var n=t.cells[e.index];return!!n&&n.rowSpan>1}).length>0},e.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},e.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(e,r){var i=n.cells[r.index];if(!i)return 0;var o=t.getLineHeight(i.styles.fontSize),a=i.padding("vertical")+o;return a>e?a:e},0)},e}(),ud=function(){function e(e,t,n){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var i=e;null==e||"object"!==typeof e||Array.isArray(e)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=null!==(r=e.content)&&void 0!==r?r:e,e._element&&(this.raw=e._element));var o=null!=i?""+i:"";this.text=o.split(/\r\n|\r|\n/g)}return e.prototype.getTextPos=function(){var e,t;if("top"===this.styles.valign)e=this.y+this.padding("top");else if("bottom"===this.styles.valign)e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}if("right"===this.styles.halign)t=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var r=this.width-this.padding("horizontal");t=this.x+r/2+this.padding("left")}else t=this.x+this.padding("left");return{x:t,y:e}},e.prototype.getContentHeight=function(e,t){void 0===t&&(t=1.15);var n=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/e*t)+this.padding("vertical");return Math.max(n,this.styles.minCellHeight)},e.prototype.padding=function(e){var t=Qh(this.styles.cellPadding,0);return"vertical"===e?t.top+t.bottom:"horizontal"===e?t.left+t.right:t[e]},e}(),hd=function(){function e(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return e.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,r=e.allRows();n<r.length;n++){var i=r[n].cells[this.index];i&&"number"===typeof i.styles.cellWidth&&(t=Math.max(t,i.styles.cellWidth))}return t},e}();function dd(e,t){!function(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,i=Yh(e,t);t.allRows().forEach(function(o){for(var a=0,s=t.columns;a<s.length;a++){var l=s[a],c=o.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,o,l,null);var h=c.padding("horizontal");c.contentWidth=$h(c.text,c.styles,e)+h;var d=$h(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=d+c.padding("horizontal"),"number"===typeof c.styles.cellWidth)c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if("wrap"===c.styles.cellWidth||!0===r)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var f=10/n;c.minWidth=c.styles.minCellWidth||f,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(e){for(var n=0,r=t.columns;n<r.length;n++){var i=r[n],o=e.cells[i.index];if(o&&1===o.colSpan)i.wrappedWidth=Math.max(i.wrappedWidth,o.wrappedWidth),i.minWidth=Math.max(i.minWidth,o.minWidth),i.minReadableWidth=Math.max(i.minReadableWidth,o.minReadableWidth);else{var a=t.styles.columnStyles[i.dataKey]||t.styles.columnStyles[i.index]||{},s=a.cellWidth||a.minCellWidth;s&&"number"===typeof s&&(i.minWidth=s,i.wrappedWidth=s)}o&&(o.colSpan>1&&!i.minWidth&&(i.minWidth=o.minWidth),o.colSpan>1&&!i.wrappedWidth&&(i.wrappedWidth=o.minWidth))}})}(e,t);var n=[],r=0;t.columns.forEach(function(e){var i=e.getMaxCustomCellWidth(t);i?e.width=i:(e.width=e.wrappedWidth,n.push(e)),r+=e.width});var i=t.getWidth(e.pageSize().width)-r;i&&(i=fd(n,i,function(e){return Math.max(e.minReadableWidth,e.minWidth)})),i&&(i=fd(n,i,function(e){return e.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),function(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],i=null,o=0,a=0,s=0;s<e.columns.length;s++){var l=e.columns[s];if((a-=1)>1&&e.columns[s+1])o+=l.width,delete r.cells[l.index];else if(i){var c=i;delete r.cells[l.index],i=null,c.width=l.width+o}else{if(!(c=r.cells[l.index]))continue;if(a=c.colSpan,o=0,c.colSpan>1){i=c,o+=l.width;continue}c.width=l.width+o}}}(t),function(e,t){for(var n={count:0,height:0},r=0,i=e.allRows();r<i.length;r++){for(var o=i[r],a=0,s=e.columns;a<s.length;a++){var l=s[a],c=o.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if("linebreak"===c.styles.overflow)c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if("ellipsize"===c.styles.overflow)c.text=pd(c.text,u,c.styles,t,"...");else if("hidden"===c.styles.overflow)c.text=pd(c.text,u,c.styles,t,"");else if("function"===typeof c.styles.overflow){var h=c.styles.overflow(c.text,u);c.text="string"===typeof h?[h]:h}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var d=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<d*c.rowSpan?n={height:d,count:c.rowSpan}:n&&n.count>0&&n.height>d&&(d=n.height),d>o.height&&(o.height=d)}}n.count--}}(t,e),function(e){for(var t={},n=1,r=e.allRows(),i=0;i<r.length;i++)for(var o=r[i],a=0,s=e.columns;a<s.length;a++){var l=s[a],c=t[l.index];if(n>1)n--,delete o.cells[l.index];else if(c)c.cell.height+=o.height,n=c.cell.colSpan,delete o.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=o.cells[l.index];if(!u)continue;if(u.height=o.height,u.rowSpan>1){var h=r.length-i,d=u.rowSpan>h?h:u.rowSpan;t[l.index]={cell:u,left:d,row:o}}}}}(t)}function fd(e,t,n){for(var r=t,i=e.reduce(function(e,t){return e+t.wrappedWidth},0),o=0;o<e.length;o++){var a=e[o],s=r*(a.wrappedWidth/i),l=a.width+s,c=n(a),u=l<c?c:l;t-=u-a.width,a.width=u}if(t=Math.round(1e10*t)/1e10){var h=e.filter(function(e){return!(t<0)||e.width>n(e)});h.length&&(t=fd(h,t,n))}return t}function pd(e,t,n,r,i){return e.map(function(e){return function(e,t,n,r,i){var o=1e4*r.scaleFactor();if(t=Math.ceil(t*o)/o,t>=$h(e,n,r))return e;for(;t<$h(e+i,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}(e,t,n,r,i)})}function gd(e,t){var n=new qh(e),r=function(e,t){var n=e.content,r=function(e){return e.map(function(e,t){var n,r;return r="object"===typeof e&&null!==(n=e.dataKey)&&void 0!==n?n:t,new hd(r,e,t)})}(n.columns);if(0===n.head.length){(i=yd(r,"head"))&&n.head.push(i)}if(0===n.foot.length){var i;(i=yd(r,"foot"))&&n.foot.push(i)}var o=e.settings.theme,a=e.styles;return{columns:r,head:md("head",n.head,r,a,o,t),body:md("body",n.body,r,a,o,t),foot:md("foot",n.foot,r,a,o,t)}}(t,n.scaleFactor()),i=new ld(t,r);return dd(n,i),n.applyStyles(n.userStyles),i}function md(e,t,n,r,i,o){var a={};return t.map(function(t,s){for(var l=0,c={},u=0,h=0,d=0,f=n;d<f.length;d++){var p=f[d];if(null==a[p.index]||0===a[p.index].left)if(0===h){var g=void 0,m={};"object"!==typeof(g=Array.isArray(t)?t[p.index-u-l]:t[p.dataKey])||Array.isArray(g)||(m=(null===g||void 0===g?void 0:g.styles)||{});var y=vd(e,p,s,i,r,o,m),v=new ud(g,y,e);c[p.dataKey]=v,c[p.index]=v,h=v.colSpan-1,a[p.index]={left:v.rowSpan-1,times:h}}else h--,u++;else a[p.index].left--,h=a[p.index].times,l++}return new cd(t,s,e,c)})}function yd(e,t){var n={};return e.forEach(function(e){if(null!=e.raw){var r=function(e,t){if("head"===e){if("object"===typeof t)return t.header||null;if("string"===typeof t||"number"===typeof t)return t}else if("foot"===e&&"object"===typeof t)return t.footer;return null}(t,e.raw);null!=r&&(n[e.dataKey]=r)}}),Object.keys(n).length>0?n:null}function vd(e,t,n,r,i,o,a){var s,l={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[r];"head"===e?s=i.headStyles:"body"===e?s=i.bodyStyles:"foot"===e&&(s=i.footStyles);var c=rd({},l.table,l[e],i.styles,s),u=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},h="body"===e?u:{},d="body"===e&&n%2===0?rd({},l.alternateRow,i.alternateRowStyles):{},f=function(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}(o),p=rd({},f,c,d,h);return rd(p,a)}function bd(e,t,n){var r;void 0===n&&(n={});var i=Yh(e,t),o=new Map,a=[],s=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:"string"!==typeof t.settings.horizontalPageBreakRepeat&&"number"!==typeof t.settings.horizontalPageBreakRepeat||(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(e){var n=t.columns.find(function(t){return t.dataKey===e||t.index===e});n&&!o.has(n.index)&&(o.set(n.index,!0),a.push(n.index),s.push(t.columns[n.index]),i-=n.wrappedWidth)});for(var c=!0,u=null!==(r=null===n||void 0===n?void 0:n.start)&&void 0!==r?r:0;u<t.columns.length;)if(o.has(u))u++;else{var h=t.columns[u].wrappedWidth;if(!(c||i>=h))break;c=!1,a.push(u),s.push(t.columns[u]),i-=h,u++}return{colIndexes:a,columns:s,lastIndex:u-1}}function wd(e,t){var n=t.settings,r=n.startY,i=n.margin,o={x:i.left,y:r},a=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),s=r+i.bottom+a;"avoid"===n.pageBreak&&(s+=t.body.reduce(function(e,t){return e+t.height},0));var l=new qh(e);("always"===n.pageBreak||null!=n.startY&&s>l.pageSize().height)&&(Nd(l),o.y=i.top),t.callWillDrawPageHooks(l,o);var c=rd({},o);t.startPageNumber=l.pageNumber(),n.horizontalPageBreak?function(e,t,n,r){var i=function(e,t){for(var n=[],r=0;r<t.columns.length;r++){var i=bd(e,t,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}(e,t),o=t.settings;if("afterAllRows"===o.horizontalPageBreakBehaviour)i.forEach(function(i,o){e.applyStyles(e.userStyles),o>0?Pd(e,t,n,r,i.columns,!0):xd(e,t,r,i.columns),function(e,t,n,r,i){e.applyStyles(e.userStyles),t.body.forEach(function(o,a){var s=a===t.body.length-1;Ad(e,t,o,s,n,r,i)})}(e,t,n,r,i.columns),_d(e,t,r,i.columns)});else for(var a=-1,s=i[0],l=function(){var o=a;if(s){e.applyStyles(e.userStyles);var l=s.columns;a>=0?Pd(e,t,n,r,l,!0):xd(e,t,r,l),o=Sd(e,t,a+1,r,l),_d(e,t,r,l)}var c=o-a;i.slice(1).forEach(function(i){e.applyStyles(e.userStyles),Pd(e,t,n,r,i.columns,!0),Sd(e,t,a+1,r,i.columns,c),_d(e,t,r,i.columns)}),a=o};a<t.body.length-1;)l()}(l,t,c,o):(l.applyStyles(l.userStyles),"firstPage"!==n.showHead&&"everyPage"!==n.showHead||t.head.forEach(function(e){return Ed(l,t,e,o,t.columns)}),l.applyStyles(l.userStyles),t.body.forEach(function(e,n){var r=n===t.body.length-1;Ad(l,t,e,r,c,o,t.columns)}),l.applyStyles(l.userStyles),"lastPage"!==n.showFoot&&"everyPage"!==n.showFoot||t.foot.forEach(function(e){return Ed(l,t,e,o,t.columns)})),Kh(l,t,c,o),t.callEndPageHooks(l,o),t.finalY=o.y,e.lastAutoTable=t,l.applyStyles(l.userStyles)}function xd(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),"firstPage"!==i.showHead&&"everyPage"!==i.showHead||t.head.forEach(function(i){return Ed(e,t,i,n,r)})}function Sd(e,t,n,r,i,o){e.applyStyles(e.userStyles),o=null!==o&&void 0!==o?o:t.body.length;var a=Math.min(n+o,t.body.length),s=-1;return t.body.slice(n,a).forEach(function(o,a){var l=n+a===t.body.length-1,c=Id(e,t,l,r);o.canEntireRowFit(c,i)&&(Ed(e,t,o,r,i),s=n+a)}),s}function _d(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),"lastPage"!==i.showFoot&&"everyPage"!==i.showFoot||t.foot.forEach(function(i){return Ed(e,t,i,n,r)})}function kd(e,t,n){var r=n.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),o=Math.floor((t-i)/r);return Math.max(0,o)}function Ad(e,t,n,r,i,o,a){var s=Id(e,t,r,o);if(n.canEntireRowFit(s,a))Ed(e,t,n,o,a);else if(function(e,t,n,r){var i=e.pageSize().height,o=r.settings.margin,a=i-(o.top+o.bottom);"body"===t.section&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var s=t.getMinimumRowHeight(r.columns,e),l=s<n;if(s>a)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var c=t.hasRowSpan(r.columns);return t.getMaxCellHeight(r.columns)>a?(c&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!c&&"avoid"!==r.settings.rowPageBreak}(e,n,s,t)){var l=function(e,t,n,r){var i={};e.spansMultiplePages=!0,e.height=0;for(var o=0,a=0,s=n.columns;a<s.length;a++){var l=s[a];if(m=e.cells[l.index]){Array.isArray(m.text)||(m.text=[m.text]),(g=rd(g=new ud(m.raw,m.styles,m.section),m)).text=[];var c=kd(m,t,r);m.text.length>c&&(g.text=m.text.splice(c,m.text.length));var u=r.scaleFactor(),h=r.getLineHeightFactor();m.contentHeight=m.getContentHeight(u,h),m.contentHeight>=t&&(m.contentHeight=t,g.styles.minCellHeight-=t),m.contentHeight>e.height&&(e.height=m.contentHeight),g.contentHeight=g.getContentHeight(u,h),g.contentHeight>o&&(o=g.contentHeight),i[l.index]=g}}var d=new cd(e.raw,-1,e.section,i,!0);d.height=o;for(var f=0,p=n.columns;f<p.length;f++){var g,m;l=p[f],(g=d.cells[l.index])&&(g.height=d.height),(m=e.cells[l.index])&&(m.height=e.height)}return d}(n,s,t,e);Ed(e,t,n,o,a),Pd(e,t,i,o,a),Ad(e,t,l,r,i,o,a)}else Pd(e,t,i,o,a),Ad(e,t,n,r,i,o,a)}function Ed(e,t,n,r,i){r.x=t.settings.margin.left;for(var o=0,a=i;o<a.length;o++){var s=a[o],l=n.cells[s.index];if(l)if(e.applyStyles(l.styles),l.x=r.x,l.y=r.y,!1!==t.callCellHooks(e,t.hooks.willDrawCell,l,n,s,r)){Td(e,l,r);var c=l.getTextPos();zh(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,n,s,r),r.x+=s.width}else r.x+=s.width;else r.x+=s.width}r.y+=n.height}function Td(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),"number"===typeof r.lineWidth){var i=Gh(r.lineWidth,r.fillColor);i&&e.rect(t.x,n.y,t.width,t.height,i)}else"object"===typeof r.lineWidth&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),function(e,t,n,r){var i,o,a,s;r.top&&(i=n.x,o=n.y,a=n.x+t.width,s=n.y,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,o,a,s));r.bottom&&(i=n.x,o=n.y+t.height,a=n.x+t.width,s=n.y+t.height,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,o,a,s));r.left&&(i=n.x,o=n.y,a=n.x,s=n.y+t.height,r.top&&(o-=.5*r.top),r.bottom&&(s+=.5*r.bottom),l(r.left,i,o,a,s));r.right&&(i=n.x+t.width,o=n.y,a=n.x+t.width,s=n.y+t.height,r.top&&(o-=.5*r.top),r.bottom&&(s+=.5*r.bottom),l(r.right,i,o,a,s));function l(t,n,r,i,o){e.getDocument().setLineWidth(t),e.getDocument().line(n,r,i,o,"S")}}(e,t,n,r.lineWidth))}function Id(e,t,n,r){var i=t.settings.margin.bottom,o=t.settings.showFoot;return("everyPage"===o||"lastPage"===o&&n)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-i}function Pd(e,t,n,r,i,o){void 0===i&&(i=[]),void 0===o&&(o=!1),e.applyStyles(e.userStyles),"everyPage"!==t.settings.showFoot||o||t.foot.forEach(function(n){return Ed(e,t,n,r,i)}),t.callEndPageHooks(e,r);var a=t.settings.margin;Kh(e,t,n,r),Nd(e),t.pageNumber++,r.x=a.left,r.y=a.top,n.y=a.top,t.callWillDrawPageHooks(e,r),"everyPage"===t.settings.showHead&&(t.head.forEach(function(n){return Ed(e,t,n,r,i)}),e.applyStyles(e.userStyles))}function Nd(e){var t=e.pageNumber();return e.setPage(t+1),e.pageNumber()===t&&(e.addPage(),!0)}try{if("undefined"!==typeof window&&window){var Cd=window,Od=Cd.jsPDF||(null===(od=Cd.jspdf)||void 0===od?void 0:od.jsPDF);Od&&function(e){e.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return wd(this,gd(this,id(this,e[0]))),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(e,t,n,r){zh(e,t,n,r,this)},e.API.autoTableSetDefaults=function(e){return qh.setDefaults(e,this),this},e.autoTableSetDefaults=function(e,t){qh.setDefaults(e,t)},e.API.autoTableHtmlToJson=function(e,t){var n;if(void 0===t&&(t=!1),"undefined"===typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=ed(new qh(this),e,window,t,!1),i=r.head,o=r.body,a=(null===(n=i[0])||void 0===n?void 0:n.map(function(e){return e.content}))||[];return{columns:a,rows:o,data:o}}}(Od)}}catch(pR){console.error("Could not apply autoTable plugin",pR)}const Ld=function(){const{user:e}=eR(),[t,n]=(0,r.useState)(""),[i,o]=(0,r.useState)("Medium"),[a,s]=(0,r.useState)("Software"),[l,c]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[d,f]=(0,r.useState)([]),[p,g]=(0,r.useState)(null),[m,y]=(0,r.useState)(""),[v,b]=(0,r.useState)({}),[w,x]=(0,r.useState)(null),[S,_]=(0,r.useState)(null),k=wl(),[A,E]=(0,r.useState)(""),[T,I]=(0,r.useState)(""),[P,N]=(0,r.useState)(""),[C,O]=(0,r.useState)(!1),[L,D]=(0,r.useState)(!1),[j,M]=(0,r.useState)("date_desc");(0,r.useEffect)(()=>{if(!e)return;const t=(0,hi.query)((0,hi.collection)(Uo,"tickets"),(0,hi.where)("uid","==",e.uid),(0,hi.orderBy)("createdAt","desc"));return(0,hi.onSnapshot)(t,e=>{f(e.docs.map(e=>({id:e.id,...e.data()})))})},[e]);const R=async t=>{if(!m.trim()&&!S)return void wa.error("Comment or file required.");let n="";if(S)try{const t=bl(k,`comment_attachments/${e.uid}_${Date.now()}_${S.name}`);await yl(t,S),n=await vl(t),wa.success("File uploaded.")}catch{return void wa.error("Failed to upload file.")}try{await(0,hi.addDoc)((0,hi.collection)(Uo,"tickets",t,"comments"),{text:m,author:e.email,createdAt:(0,hi.serverTimestamp)(),attachment:n}),y(""),_(null),wa.success("Comment added.")}catch{wa.error("Failed to add comment.")}},F=e=>{const t=new tu;t.text("Your Tickets",14,16),function(e,t){wd(e,gd(e,id(e,t)))}(t,{head:[["Description","Priority","Category","Status","Assigned To","Created At"]],body:e.map(e=>[e.description,e.priority,e.category,e.status,e.assignedTo||"-",e.createdAt&&e.createdAt.toLocaleString?e.createdAt.toLocaleString():""]),startY:22}),t.save("tickets.pdf")},B=d.filter(e=>{const t=e.description.toLowerCase().includes(A.toLowerCase()),n=!T||e.status===T,r=!P||e.priority===P;return t&&n&&r}).sort((e,t)=>{if("date_desc"===j)return new Date(t.createdAt)-new Date(e.createdAt);if("date_asc"===j)return new Date(e.createdAt)-new Date(t.createdAt);if("priority"===j){const n={High:1,Medium:2,Low:3};return n[e.priority]-n[t.priority]}return"status"===j?e.status.localeCompare(t.status):0});return(0,Ja.jsxs)("div",{className:"card",children:[(0,Ja.jsxs)("div",{className:"section-header",style:{display:"flex",alignItems:"center",gap:10},children:[(0,Ja.jsx)(Qa,{style:{color:"#c8d8e4",fontSize:22}}),"Dashboard"]}),(0,Ja.jsxs)("div",{children:["Welcome, ",e&&e.email]}),(0,Ja.jsxs)("div",{className:"ticket-list",style:{position:"relative"},children:[(0,Ja.jsxs)("div",{className:"section-header",style:{display:"flex",alignItems:"center",gap:10,fontSize:18,marginBottom:12},children:[(0,Ja.jsx)(Qa,{style:{color:"#c8d8e4",fontSize:18}}),"Your Tickets"]}),(0,Ja.jsxs)("div",{style:{display:"flex",gap:12,marginBottom:18,flexWrap:"wrap",alignItems:"center"},children:[(0,Ja.jsx)("input",{type:"text",placeholder:"Search by description...",value:A,onChange:e=>E(e.target.value),style:{flex:2,minWidth:180,padding:10,borderRadius:6,border:"1px solid #ccc",fontSize:15}}),(0,Ja.jsxs)("select",{value:T,onChange:e=>I(e.target.value),style:{flex:1,minWidth:120,padding:10,borderRadius:6,border:"1px solid #ccc",fontSize:15},children:[(0,Ja.jsx)("option",{value:"",children:"All Statuses"}),(0,Ja.jsx)("option",{value:"Open",children:"Open"}),(0,Ja.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,Ja.jsx)("option",{value:"Resolved",children:"Resolved"})]}),(0,Ja.jsxs)("select",{value:P,onChange:e=>N(e.target.value),style:{flex:1,minWidth:120,padding:10,borderRadius:6,border:"1px solid #ccc",fontSize:15},children:[(0,Ja.jsx)("option",{value:"",children:"All Priorities"}),(0,Ja.jsx)("option",{value:"Low",children:"Low"}),(0,Ja.jsx)("option",{value:"Medium",children:"Medium"}),(0,Ja.jsx)("option",{value:"High",children:"High"})]}),(0,Ja.jsxs)("select",{value:j,onChange:e=>M(e.target.value),style:{flex:1,minWidth:120,padding:10,borderRadius:6,border:"1px solid #ccc",fontSize:15},children:[(0,Ja.jsx)("option",{value:"date_desc",children:"Newest First"}),(0,Ja.jsx)("option",{value:"date_asc",children:"Oldest First"}),(0,Ja.jsx)("option",{value:"priority",children:"Priority"}),(0,Ja.jsx)("option",{value:"status",children:"Status"})]})]}),(0,Ja.jsxs)("div",{style:{display:"flex",gap:12,marginBottom:18},children:[(0,Ja.jsx)("button",{onClick:()=>(e=>{if(!e.length)return;const t=["description","uid","priority","category","status","assignedTo","createdAt"],n=[t.join(","),...e.map(e=>t.map(t=>"createdAt"===t&&e.createdAt&&e.createdAt.toDate?'"'+e.createdAt.toDate().toLocaleString()+'"':'"'+(e[t]?String(e[t]).replace(/"/g,'""'):"")+'"').join(","))].join("\r\n"),r=new Blob([n],{type:"text/csv"}),i=window.URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download="tickets.csv",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})(B),style:{padding:"8px 18px",background:"#2b6777",color:"#fff",fontWeight:600,borderRadius:6,border:"none",cursor:"pointer"},children:"Export CSV"}),(0,Ja.jsx)("button",{onClick:()=>F(B),style:{padding:"8px 18px",background:"#c8d8e4",color:"#fff",fontWeight:600,borderRadius:6,border:"none",cursor:"pointer"},children:"Export PDF"})]}),0===B.length?(0,Ja.jsxs)("div",{className:"empty-illustration",children:[(0,Ja.jsx)("img",{src:"https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f4e9.png",alt:"No tickets"}),(0,Ja.jsx)("div",{style:{fontSize:20,color:"#c8d8e4",fontWeight:600,marginBottom:6},children:"No tickets found"}),(0,Ja.jsxs)("div",{style:{color:"#555",fontSize:16},children:["Start by creating your first ticket using the ",(0,Ja.jsx)("b",{children:"+"})," button!"]})]}):(0,Ja.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:18},children:B.map((e,t)=>(0,Ja.jsxs)("div",{style:{marginBottom:0,padding:20,borderRadius:16,background:"rgba(255,255,255,0.95)",boxShadow:"0 4px 18px 0 rgba(31,38,135,0.10)",display:"flex",flexDirection:"column",gap:6,animation:"fadeInCard 0.6s cubic-bezier(.4,0,.2,1) both",animationDelay:.08*t+"s"},children:[(0,Ja.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,Ja.jsx)("div",{style:{fontWeight:600,fontSize:17},children:e.description}),e.paid&&(0,Ja.jsx)("span",{className:"priority-badge",children:"PRIORITY"}),(0,Ja.jsx)("span",{style:{background:"#c8d8e4",color:"#fff",borderRadius:8,padding:"2px 10px",fontSize:13,fontWeight:500,boxShadow:"0 2px 8px #c8d8e433",marginLeft:8,letterSpacing:.5},children:e.status})]}),(0,Ja.jsxs)("div",{style:{fontSize:14,color:"#555",display:"flex",alignItems:"center",gap:8},children:[(0,Ja.jsx)(Xa,{style:{color:"#c8d8e4",fontSize:16}}),"Priority: ",e.priority," | Category: ",e.category]}),e.attachment&&(0,Ja.jsxs)("div",{style:{margin:"6px 0"},children:["Attachment: ",(0,Ja.jsx)("a",{href:e.attachment,target:"_blank",rel:"noopener noreferrer",style:{color:"#c8d8e4",fontWeight:500},children:"View File"})]}),(0,Ja.jsxs)("div",{style:{fontSize:13,color:"#888",marginTop:2},children:["Submitted: ",e.createdAt&&e.createdAt.toDate?e.createdAt.toDate().toLocaleString():""]}),(0,Ja.jsxs)("button",{onClick:()=>(e=>{if(p===e)return void g(null);g(e);const t=(0,hi.collection)(Uo,"tickets",e,"comments"),n=(0,hi.query)(t,(0,hi.orderBy)("createdAt","asc"));(0,hi.onSnapshot)(n,t=>{b(n=>({...n,[e]:t.docs.map(e=>({id:e.id,...e.data()}))}))})})(e.id),style:{width:"auto",marginTop:10,background:"#f1f8e9",color:"#c8d8e4",fontWeight:600,border:"none",borderRadius:6,padding:"8px 16px",display:"flex",alignItems:"center",gap:8,alignSelf:"flex-start"},children:[(0,Ja.jsx)(Va,{})," ",p===e.id?"Hide Comments":"View/Add Comments"]}),p===e.id&&(0,Ja.jsxs)("div",{style:{marginTop:16,background:"#f8fafc",borderRadius:8,padding:14,boxShadow:"0 1px 4px rgba(25,118,210,0.06)"},children:[(0,Ja.jsxs)("div",{style:{fontWeight:600,color:"#c8d8e4",marginBottom:8,display:"flex",alignItems:"center",gap:6},children:[(0,Ja.jsx)(Va,{}),"Comments"]}),(0,Ja.jsx)("div",{style:{maxHeight:180,overflowY:"auto",marginBottom:10},children:0===(v[e.id]||[]).length?(0,Ja.jsx)("div",{style:{color:"#888"},children:"No comments yet."}):(v[e.id]||[]).map(e=>(0,Ja.jsxs)("div",{style:{marginBottom:10,padding:8,background:"#fff",borderRadius:6,boxShadow:"0 1px 2px rgba(25,118,210,0.04)"},children:[(0,Ja.jsxs)("div",{style:{fontWeight:500,color:"#c8d8e4",fontSize:13,display:"flex",alignItems:"center",gap:6},children:[(0,Ja.jsx)(Xa,{style:{fontSize:14}}),e.author]}),(0,Ja.jsx)("div",{style:{fontSize:14,color:"#333",margin:"4px 0"},children:e.text}),e.attachment&&(0,Ja.jsxs)("div",{style:{margin:"4px 0"},children:["Attachment: ",(0,Ja.jsx)("a",{href:e.attachment,target:"_blank",rel:"noopener noreferrer",style:{color:"#c8d8e4",fontWeight:500},children:"View File"})]}),(0,Ja.jsx)("div",{style:{fontSize:12,color:"#888"},children:e.createdAt&&e.createdAt.toDate?e.createdAt.toDate().toLocaleString():""})]},e.id))}),(0,Ja.jsxs)("div",{style:{display:"flex",gap:8,marginTop:8,alignItems:"center"},children:[(0,Ja.jsx)("input",{type:"text",placeholder:"Add a comment...",value:m,onChange:e=>y(e.target.value),style:{flex:1,padding:10,borderRadius:6,border:"1px solid #ccc",fontSize:15},onKeyDown:t=>{"Enter"===t.key&&R(e.id)}}),(0,Ja.jsx)("input",{type:"file",accept:"image/*,application/pdf,.doc,.docx,.xls,.xlsx,.txt",onChange:e=>_(e.target.files[0]),style:{width:180}}),(0,Ja.jsx)("button",{type:"button",onClick:()=>R(e.id),style:{width:"auto",padding:"10px 18px",background:"#c8d8e4",color:"#fff",fontWeight:600,borderRadius:6,border:"none"},children:"Send"})]})]})]},e.id))}),(0,Ja.jsx)("button",{onClick:()=>D(!0),title:"Create Ticket","aria-label":"Create Ticket",style:{position:"absolute",bottom:24,right:24,background:"linear-gradient(135deg, #6e8efb 60%, #a777e3 100%)",color:"#fff",border:"none",borderRadius:"50%",width:56,height:56,boxShadow:"0 4px 16px #6e8efb33",fontSize:28,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:2},children:(0,Ja.jsx)(Ka,{})})]}),L&&(0,Ja.jsx)("div",{className:"modal-overlay",onClick:()=>D(!1),children:(0,Ja.jsxs)("div",{className:"animated-modal",onClick:e=>e.stopPropagation(),children:[(0,Ja.jsx)("button",{onClick:()=>D(!1),style:{position:"absolute",top:18,right:18,background:"none",border:"none",fontSize:22,color:"#c8d8e4",cursor:"pointer"},children:(0,Ja.jsx)(Ya,{})}),(0,Ja.jsxs)("div",{className:"section-header",style:{display:"flex",alignItems:"center",gap:10,fontSize:18,marginBottom:12},children:[(0,Ja.jsx)(Qa,{style:{color:"#2b6777",fontSize:18}}),"Raise a Ticket"]}),(0,Ja.jsxs)("div",{style:{display:"flex",gap:12,marginBottom:12},children:[(0,Ja.jsxs)("select",{value:i,onChange:e=>o(e.target.value),style:{flex:1,padding:10,borderRadius:6,border:"1px solid #ccc",fontSize:15},children:[(0,Ja.jsx)("option",{value:"Low",children:"Low"}),(0,Ja.jsx)("option",{value:"Medium",children:"Medium"}),(0,Ja.jsx)("option",{value:"High",children:"High"})]}),(0,Ja.jsxs)("select",{value:a,onChange:e=>s(e.target.value),style:{flex:1,padding:10,borderRadius:6,border:"1px solid #ccc",fontSize:15},children:[(0,Ja.jsx)("option",{value:"Software",children:"Software"}),(0,Ja.jsx)("option",{value:"Hardware",children:"Hardware"}),(0,Ja.jsx)("option",{value:"Network",children:"Network"}),(0,Ja.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Ja.jsx)("textarea",{placeholder:"Describe your issue or request...",value:t,onChange:e=>n(e.target.value),style:{width:"100%",minHeight:80,marginBottom:12,padding:10,borderRadius:6,border:"1px solid #ccc",fontSize:15}}),(0,Ja.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),h(""),c(""),!t.trim())return h("Description is required."),void wa.error("Description is required.");let l="";if(w)try{const t=bl(k,`ticket_attachments/${e.uid}_${Date.now()}_${w.name}`);await yl(t,w),l=await vl(t),wa.success("File uploaded.")}catch{return void wa.error("Failed to upload file.")}try{await(0,hi.addDoc)((0,hi.collection)(Uo,"tickets"),{uid:e.uid,description:t,priority:i,category:a,status:"Open",createdAt:new Date,attachment:l}),c("Ticket submitted successfully."),wa.success("Ticket submitted successfully."),n(""),o("Medium"),s("Software"),x(null)}catch(tc){h("Failed to submit ticket."),wa.error("Failed to submit ticket.")}},children:[(0,Ja.jsx)("input",{type:"file",accept:"image/*,application/pdf,.doc,.docx,.xls,.xlsx,.txt",onChange:e=>x(e.target.files[0]),style:{marginBottom:12}}),(0,Ja.jsxs)("div",{style:{display:"flex",gap:12,marginTop:8},children:[(0,Ja.jsx)("button",{type:"submit",style:{flex:1,padding:12,borderRadius:6,background:"#c8d8e4",color:"#fff",fontWeight:600,fontSize:16,border:"none",cursor:"pointer"},children:"Submit Ticket (Free)"}),(0,Ja.jsx)("button",{type:"button",onClick:async r=>{if(r.preventDefault(),h(""),c(""),!t.trim())return h("Description is required."),void wa.error("Description is required.");O(!0),await window.loadRazorpayScript();const i={key:"rzp_test_SfyxaliFLVyZO2",amount:49900,currency:"INR",name:"Service Desk App",description:"Priority Support Ticket",handler:async function(r){let i="";if(w)try{const t=bl(k,`ticket_attachments/${e.uid}_${Date.now()}_${w.name}`);await yl(t,w),i=await vl(t),wa.success("File uploaded.")}catch{return wa.error("Failed to upload file."),void O(!1)}try{await(0,hi.addDoc)((0,hi.collection)(Uo,"tickets"),{uid:e.uid,description:t,priority:"High",category:a,status:"Open",createdAt:new Date,attachment:i,paid:!0,paymentId:r.razorpay_payment_id}),c("Priority ticket submitted successfully."),wa.success("Priority ticket submitted successfully."),n(""),o("Medium"),s("Software"),x(null)}catch(tc){h("Failed to submit ticket."),wa.error("Failed to submit ticket.")}O(!1)},prefill:{email:e.email},theme:{color:"#c8d8e4"}};new window.Razorpay(i).open(),O(!1)},disabled:C,style:{flex:1,padding:12,borderRadius:6,background:"#2b6777",color:"#fff",fontWeight:600,fontSize:16,border:"none",cursor:"pointer"},children:"Get Priority Support (\u20b9499)"})]})]}),u&&(0,Ja.jsx)("div",{style:{color:"red",marginTop:12},children:u}),l&&(0,Ja.jsx)("div",{style:{color:"green",marginTop:12},children:l})]})}),(0,Ja.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:32},children:(0,Ja.jsx)("button",{onClick:()=>window.location.href="/analytics",style:{background:"#a777e3",color:"#fff",border:"none",borderRadius:8,padding:"10px 24px",fontWeight:700,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px #a777e333"},children:"View Analytics \u2192"})})]})};var Dd=n(7820),jd=n.n(Dd),Md=n(7770),Rd=n.n(Md),Fd=e=>0===e?0:e>0?1:-1,Bd=e=>"number"==typeof e&&e!=+e,zd=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,Ud=e=>("number"===typeof e||e instanceof Number)&&!Bd(e),qd=e=>Ud(e)||"string"===typeof e,Vd=0,Wd=e=>{var t=++Vd;return"".concat(e||"").concat(t)},Hd=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Ud(e)&&"string"!==typeof e)return r;if(zd(e)){if(null==t)return r;var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return Bd(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},$d=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1},Kd=(e,t)=>Ud(e)&&Ud(t)?n=>e+n*(t-e):()=>t;var Gd=e=>null===e||"undefined"===typeof e,Qd=e=>Gd(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Yd=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function Xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xd(Object(n),!0).forEach(function(t){Zd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zd(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ef=(0,r.forwardRef)((e,t)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:o="100%",height:a="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:h=0,id:d,className:f,onResize:p,style:g={}}=e,m=(0,r.useRef)(null),y=(0,r.useRef)();y.current=p,(0,r.useImperativeHandle)(t,()=>m.current);var[v,b]=(0,r.useState)({containerWidth:i.width,containerHeight:i.height}),w=(0,r.useCallback)((e,t)=>{b(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,r.useEffect)(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;w(n,r),null===(t=y.current)||void 0===t||t.call(y,n,r)};h>0&&(e=jd()(e,h,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=m.current.getBoundingClientRect();return w(n,r),t.observe(m.current),()=>{t.disconnect()}},[w,h]);var x=(0,r.useMemo)(()=>{var{containerWidth:e,containerHeight:t}=v;if(e<0||t<0)return null;Yd(zd(o)||zd(a),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",o,a),Yd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var i=zd(o)?e:o,h=zd(a)?t:a;return n&&n>0&&(i?h=i/n:h&&(i=h*n),c&&h>c&&(h=c)),Yd(i>0||h>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,h,o,a,s,l,n),r.Children.map(u,e=>(0,r.cloneElement)(e,{width:i,height:h,style:Jd({height:"100%",width:"100%",maxHeight:h,maxWidth:i},e.props.style)}))},[n,u,a,c,l,s,v,o]);return r.createElement("div",{id:d?"".concat(d):void 0,className:Ho("recharts-responsive-container",f),style:Jd(Jd({},g),{},{width:o,height:a,minWidth:s,minHeight:l,maxHeight:c}),ref:m},x)});function tf(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var nf=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),rf=()=>Math.random().toString(36).substring(7).split("").join("."),of={INIT:`@@redux/INIT${rf()}`,REPLACE:`@@redux/REPLACE${rf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rf()}`};function af(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function sf(e,t,n){if("function"!==typeof e)throw new Error(tf(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(tf(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(tf(1));return n(sf)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function c(){a===o&&(a=new Map,o.forEach((e,t)=>{a.set(t,e)}))}function u(){if(l)throw new Error(tf(3));return i}function h(e){if("function"!==typeof e)throw new Error(tf(4));if(l)throw new Error(tf(5));let t=!0;c();const n=s++;return a.set(n,e),function(){if(t){if(l)throw new Error(tf(6));t=!1,c(),a.delete(n),o=null}}}function d(e){if(!af(e))throw new Error(tf(7));if("undefined"===typeof e.type)throw new Error(tf(8));if("string"!==typeof e.type)throw new Error(tf(17));if(l)throw new Error(tf(9));try{l=!0,i=r(i,e)}finally{l=!1}return(o=a).forEach(e=>{e()}),e}d({type:of.INIT});return{dispatch:d,subscribe:h,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(tf(10));r=e,d({type:of.REPLACE})},[nf]:function(){const e=h;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(tf(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[nf](){return this}}}}}function lf(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:of.INIT}))throw new Error(tf(12));if("undefined"===typeof n(void 0,{type:of.PROBE_UNKNOWN_ACTION()}))throw new Error(tf(13))})}(n)}catch(fR){i=fR}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let o=!1;const a={};for(let i=0;i<r.length;i++){const s=r[i],l=n[s],c=e[s],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(tf(14))}a[s]=u,o=o||u!==c}return o=o||r.length!==Object.keys(e).length,o?a:e}}function cf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function uf(e){return af(e)&&"type"in e&&"string"===typeof e.type}function hf(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var df=hf(),ff=hf,pf=Symbol.for("immer-nothing"),gf=Symbol.for("immer-draftable"),mf=Symbol.for("immer-state");function yf(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vf=Object.getPrototypeOf;function bf(e){return!!e&&!!e[mf]}function wf(e){return!!e&&(Sf(e)||Array.isArray(e)||!!e[gf]||!!e.constructor?.[gf]||Tf(e)||If(e))}var xf=Object.prototype.constructor.toString();function Sf(e){if(!e||"object"!==typeof e)return!1;const t=vf(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===xf}function _f(e,t){0===kf(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function kf(e){const t=e[mf];return t?t.type_:Array.isArray(e)?1:Tf(e)?2:If(e)?3:0}function Af(e,t){return 2===kf(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ef(e,t,n){const r=kf(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Tf(e){return e instanceof Map}function If(e){return e instanceof Set}function Pf(e){return e.copy_||e.base_}function Nf(e,t){if(Tf(e))return new Map(e);if(If(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Sf(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[mf];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(vf(e),t)}{const t=vf(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Cf(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Lf(e)||bf(e)||!wf(e)||(kf(e)>1&&(e.set=e.add=e.clear=e.delete=Of),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return Cf(n,!0)})),e}function Of(){yf(2)}function Lf(e){return Object.isFrozen(e)}var Df,jf={};function Mf(e){const t=jf[e];return t||yf(0),t}function Rf(){return Df}function Ff(e,t){t&&(Mf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Bf(e){zf(e),e.drafts_.forEach(qf),e.drafts_=null}function zf(e){e===Df&&(Df=e.parent_)}function Uf(e){return Df={drafts_:[],parent_:Df,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qf(e){const t=e[mf];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Vf(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[mf].modified_&&(Bf(t),yf(4)),wf(e)&&(e=Wf(t,e),t.parent_||$f(t,e)),t.patches_&&Mf("Patches").generateReplacementPatches_(n[mf].base_,e,t.patches_,t.inversePatches_)):e=Wf(t,n,[]),Bf(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pf?e:void 0}function Wf(e,t,n){if(Lf(t))return t;const r=t[mf];if(!r)return _f(t,(i,o)=>Hf(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return $f(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,o=!1;3===r.type_&&(i=new Set(t),t.clear(),o=!0),_f(i,(i,a)=>Hf(e,r,t,i,a,n,o)),$f(e,t,!1),n&&e.patches_&&Mf("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Hf(e,t,n,r,i,o,a){if(bf(i)){const a=Wf(e,i,o&&t&&3!==t.type_&&!Af(t.assigned_,r)?o.concat(r):void 0);if(Ef(n,r,a),!bf(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(wf(i)&&!Lf(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Wf(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||$f(e,i)}}function $f(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Cf(t,n)}var Kf={get(e,t){if(t===mf)return e;const n=Pf(e);if(!Af(n,t))return function(e,t,n){const r=Yf(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!wf(r)?r:r===Qf(e.base_,t)?(Jf(e),e.copy_[t]=Zf(r,e)):r},has:(e,t)=>t in Pf(e),ownKeys:e=>Reflect.ownKeys(Pf(e)),set(e,t,n){const r=Yf(Pf(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Qf(Pf(e),t),i=r?.[mf];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Af(e.base_,t)))return!0;Jf(e),Xf(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Qf(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Jf(e),Xf(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Pf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){yf(11)},getPrototypeOf:e=>vf(e.base_),setPrototypeOf(){yf(12)}},Gf={};function Qf(e,t){const n=e[mf];return(n?Pf(n):e)[t]}function Yf(e,t){if(!(t in e))return;let n=vf(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=vf(n)}}function Xf(e){e.modified_||(e.modified_=!0,e.parent_&&Xf(e.parent_))}function Jf(e){e.copy_||(e.copy_=Nf(e.base_,e.scope_.immer_.useStrictShallowCopy_))}_f(Kf,(e,t)=>{Gf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Gf.deleteProperty=function(e,t){return Gf.set.call(this,e,t,void 0)},Gf.set=function(e,t,n){return Kf.set.call(this,e[0],t,n,e[0])};function Zf(e,t){const n=Tf(e)?Mf("MapSet").proxyMap_(e,t):If(e)?Mf("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Rf(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Kf;n&&(i=[r],o=Gf);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}(e,t);return(t?t.scope_:Rf()).drafts_.push(n),n}function ep(e){return bf(e)||yf(10),tp(e)}function tp(e){if(!wf(e)||Lf(e))return e;const t=e[mf];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Nf(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Nf(e,!0);return _f(n,(e,t)=>{Ef(n,e,tp(t))}),t&&(t.finalized_=!1),n}var np=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return r.produce(e,e=>t.call(this,e,...o))}}let r;if("function"!==typeof t&&yf(6),void 0!==n&&"function"!==typeof n&&yf(7),wf(e)){const i=Uf(this),o=Zf(e,void 0);let a=!0;try{r=t(o),a=!1}finally{a?Bf(i):zf(i)}return Ff(i,n),Vf(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===pf&&(r=void 0),this.autoFreeze_&&Cf(r,!0),n){const t=[],i=[];Mf("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}yf(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const o=this.produce(e,n,(e,t)=>{r=e,i=t});return[o,r,i]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){wf(e)||yf(8),bf(e)&&(e=ep(e));const t=Uf(this),n=Zf(e,void 0);return n[mf].isManual_=!0,zf(t),n}finishDraft(e,t){const n=e&&e[mf];n&&n.isManual_||yf(9);const{scope_:r}=n;return Ff(r,t),Vf(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Mf("Patches").applyPatches_;return bf(e)?r(e,t):this.produce(e,e=>r(e,t))}},rp=np.produce;np.produceWithPatches.bind(np),np.setAutoFreeze.bind(np),np.setUseStrictShallowCopy.bind(np),np.applyPatches.bind(np),np.createDraft.bind(np),np.finishDraft.bind(np);var ip="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?cf:cf.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function op(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Zp(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>uf(t)&&t.type===e,n}var ap=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function sp(e){return wf(e)?rp(e,()=>{}):e}function lp(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var cp="RTK_autoBatch",up=e=>t=>{setTimeout(t,e)},hp=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new ap(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,o=!1;const a=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:up(10):"callback"===e.type?e.queueNotification:up(e.timeout),l=()=>{o=!1,i&&(i=!1,a.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return a.add(e),()=>{t(),a.delete(e)}},dispatch(e){try{return r=!e?.meta?.[cp],i=!r,i&&(o||(o=!0,s(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function dp(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let o=new ap;return t&&(function(e){return"boolean"===typeof e}(t)?o.push(df):o.push(ff(t.extraArgument))),o},{reducer:n,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:o=!0,preloadedState:a,enhancers:s}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!af(n))throw new Error(Zp(1));l=lf(n)}c="function"===typeof r?r(t):t();let u=cf;i&&(u=ip({trace:!1,..."object"===typeof i&&i}));const h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(tf(15))};const a={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},s=t.map(e=>e(a));return o=cf(...s)(i.dispatch),{...i,dispatch:o}}}(...c),d=hp(h);return sf(l,a,u(..."function"===typeof s?s(d):d()))}function fp(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Zp(28));if(r in t)throw new Error(Zp(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var pp=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var gp=Symbol.for("rtk-slice-createasyncthunk");function mp(e,t){return`${e}/${t}`}function yp(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[gp];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(Zp(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(i),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Zp(12));if(n in a.sliceCaseReducersByType)throw new Error(Zp(13));return a.sliceCaseReducersByType[n]=t,s},addMatcher:(e,t)=>(a.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(a.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(a.sliceCaseReducersByName[e]=t,s)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?fp(e.extraReducers):[e.extraReducers],i={...t,...a.sliceCaseReducersByType};return function(e,t){let n,[r,i,o]=fp(t);if(function(e){return"function"===typeof e}(e))n=()=>sp(e());else{const t=sp(e);n=()=>t}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,a=[r[t.type],...i.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===a.filter(e=>!!e).length&&(a=[o]),a.reduce((e,n)=>{if(n){if(bf(e)){const r=n(e,t);return void 0===r?e:r}if(wf(e))return rp(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return a.getInitialState=n,a}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}o.forEach(r=>{const o=i[r],a={reducerName:r,type:mp(n,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function(e,t,n){let r,i,{type:o,reducerName:a,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Zp(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(o,r).exposeCaseReducer(a,r).exposeAction(a,i?op(o,i):op(o))}(a,o,s):function(e,t,n,r){let{type:i,reducerName:o}=e;if(!r)throw new Error(Zp(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:c,settled:u,options:h}=t,d=r(i,a,h);n.exposeAction(o,d),s&&n.addCase(d.fulfilled,s);l&&n.addCase(d.pending,l);c&&n.addCase(d.rejected,c);u&&n.addMatcher(d.settled,u);n.exposeCaseReducer(o,{fulfilled:s||wp,pending:l||wp,rejected:c||wp,settled:u||wp})}(a,o,s,t)});const c=e=>e,u=new Map,h=new WeakMap;let d;function f(e,t){return d||(d=l()),d(e,t)}function p(){return d||(d=l()),d.getInitialState()}function g(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let i=e[t];return"undefined"===typeof i&&n&&(i=lp(h,r,p)),i}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=lp(u,n,()=>new WeakMap);return lp(r,t,()=>{const r={};for(const[i,o]of Object.entries(e.selectors??{}))r[i]=vp(o,t,()=>lp(h,t,p),n);return r})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const m={name:n,reducer:f,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:p,...g(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t??r;return e.inject({reducerPath:i,reducer:f},n),{...m,...g(i,!0)}}};return m}}function vp(e,t,n,r){function i(i){let o=t(i);"undefined"===typeof o&&r&&(o=n());for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return e(o,...s)}return i.unwrapped=e,i}var bp=yp();function wp(){}var xp="listener",Sp="completed",_p="cancelled",kp=`task-${_p}`,Ap=`task-${Sp}`,Ep=`${xp}-${_p}`,Tp=`${xp}-${Sp}`,Ip=class{constructor(e){this.code=e,this.message=`task ${_p} (reason: ${e})`}name="TaskAbortError";message},Pp=(e,t)=>{if("function"!==typeof e)throw new TypeError(Zp(32))},Np=()=>{},Cp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Np;return e.catch(t),e},Op=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Lp=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Dp=e=>{if(e.aborted){const{reason:t}=e;throw new Ip(t)}};function jp(e,t){let n=Np;return new Promise((r,i)=>{const o=()=>i(new Ip(e.reason));e.aborted?o():(n=Op(e,o),t.finally(()=>n()).then(r,i))}).finally(()=>{n=Np})}var Mp=e=>t=>Cp(jp(e,t).then(t=>(Dp(e),t))),Rp=e=>{const t=Mp(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:Fp}=Object,Bp={},zp="listenerMiddleware",Up=(e,t)=>(n,r)=>{Pp(n);const i=new AbortController;var o;o=i,Op(e,()=>Lp(o,e.reason));const a=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(pR){return{status:pR instanceof Ip?"cancelled":"rejected",error:pR}}finally{t?.()}})(async()=>{Dp(e),Dp(i.signal);const t=await n({pause:Mp(i.signal),delay:Rp(i.signal),signal:i.signal});return Dp(i.signal),t},()=>Lp(i,Ap));return r?.autoJoin&&t.push(a.catch(Np)),{result:Mp(e)(a),cancel(){Lp(i,kp)}}},qp=(e,t)=>(n,r)=>Cp((async(n,r)=>{Dp(t);let i=()=>{};const o=[new Promise((t,r)=>{let o=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{o(),r()}})];null!=r&&o.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await jp(t,Promise.race(o));return Dp(t),e}finally{i()}})(n,r)),Vp=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=op(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Zp(21));return Pp(o),{predicate:i,type:t,effect:o}},Wp=Fp(e=>{const{type:t,predicate:n,effect:r}=Vp(e);return{id:pp(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Zp(22))}}},{withTypes:()=>Wp}),Hp=(e,t)=>{const{type:n,effect:r,predicate:i}=Vp(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===i)&&e.effect===r)},$p=e=>{e.pending.forEach(e=>{Lp(e,Ep)})},Kp=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Gp=Fp(op(`${zp}/add`),{withTypes:()=>Gp}),Qp=op(`${zp}/removeAll`),Yp=Fp(op(`${zp}/remove`),{withTypes:()=>Yp}),Xp=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error(`${zp}/error`,...t)},Jp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:n,onError:r=Xp}=e;Pp(r);const i=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),t?.cancelActive&&$p(e)}))(Hp(t,e)??Wp(e));Fp(i,{withTypes:()=>i});const o=e=>{const n=Hp(t,e);return n&&(n.unsubscribe(),e.cancelActive&&$p(n)),!!n};Fp(o,{withTypes:()=>o});const a=async(e,o,a,s)=>{const l=new AbortController,c=qp(i,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(o,Fp({},a,{getOriginalState:s,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:Rp(l.signal),pause:Mp(l.signal),extra:n,signal:l.signal,fork:Up(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(Lp(e,Ep),n.delete(e))})},cancel:()=>{Lp(l,Ep),e.pending.delete(l)},throwIfCancelled:()=>{Dp(l.signal)}})))}catch(h){h instanceof Ip||Kp(r,h,{raisedBy:"effect"})}finally{await Promise.all(u),Lp(l,Tp),e.pending.delete(l)}},s=(e=>()=>{e.forEach($p),e.clear()})(t);return{middleware:e=>n=>l=>{if(!uf(l))return n(l);if(Gp.match(l))return i(l.payload);if(Qp.match(l))return void s();if(Yp.match(l))return o(l.payload);let c=e.getState();const u=()=>{if(c===Bp)throw new Error(Zp(23));return c};let h;try{if(h=n(l),t.size>0){const n=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(l,n,c)}catch(d){i=!1,Kp(r,d,{raisedBy:"predicate"})}i&&a(t,l,e,u)}}}finally{c=Bp}return h},startListening:i,stopListening:o,clearListeners:s}};Symbol.for("rtk-state-proxy-original");function Zp(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function eg(e,t){if(t){var n=Number.parseInt(t,10);if(!Bd(n))return null===e||void 0===e?void 0:e[n]}}var tg=bp({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ng=tg.reducer,{createEventEmitter:rg}=tg.actions;n(7237);function ig(e){e()}var og={notify(){},get:()=>[]};function ag(e,t){let n,r=og,i=0,o=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ig(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=og)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}var sg=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),lg=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),cg=(()=>sg||lg?r.useLayoutEffect:r.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var ug=Symbol.for("react-redux-context"),hg="undefined"!==typeof globalThis?globalThis:{};function dg(){if(!r.createContext)return{};const e=hg[ug]??=new Map;let t=e.get(r.createContext);return t||(t=r.createContext(null),e.set(r.createContext,t)),t}var fg=dg();var pg=function(e){const{children:t,context:n,serverState:i,store:o}=e,a=r.useMemo(()=>{const e=ag(o);return{store:o,subscription:e,getServerState:i?()=>i:void 0}},[o,i]),s=r.useMemo(()=>o.getState(),[o]);cg(()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==o.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[a,s]);const l=n||fg;return r.createElement(l.Provider,{value:a},t)};var gg=Symbol.for("immer-nothing"),mg=Symbol.for("immer-draftable"),yg=Symbol.for("immer-state");function vg(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bg=Object.getPrototypeOf;function wg(e){return!!e&&!!e[yg]}function xg(e){return!!e&&(_g(e)||Array.isArray(e)||!!e[mg]||!!e.constructor?.[mg]||Ig(e)||Pg(e))}var Sg=Object.prototype.constructor.toString();function _g(e){if(!e||"object"!==typeof e)return!1;const t=bg(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Sg}function kg(e,t){0===Ag(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Ag(e){const t=e[yg];return t?t.type_:Array.isArray(e)?1:Ig(e)?2:Pg(e)?3:0}function Eg(e,t){return 2===Ag(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Tg(e,t,n){const r=Ag(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Ig(e){return e instanceof Map}function Pg(e){return e instanceof Set}function Ng(e){return e.copy_||e.base_}function Cg(e,t){if(Ig(e))return new Map(e);if(Pg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=_g(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[yg];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(bg(e),t)}{const t=bg(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Og(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Dg(e)||wg(e)||!xg(e)||(Ag(e)>1&&(e.set=e.add=e.clear=e.delete=Lg),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,n]=e;return Og(n,!0)})),e}function Lg(){vg(2)}function Dg(e){return Object.isFrozen(e)}var jg,Mg={};function Rg(e){const t=Mg[e];return t||vg(0),t}function Fg(){return jg}function Bg(e,t){t&&(Rg("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function zg(e){Ug(e),e.drafts_.forEach(Vg),e.drafts_=null}function Ug(e){e===jg&&(jg=e.parent_)}function qg(e){return jg={drafts_:[],parent_:jg,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Vg(e){const t=e[yg];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Wg(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[yg].modified_&&(zg(t),vg(4)),xg(e)&&(e=Hg(t,e),t.parent_||Kg(t,e)),t.patches_&&Rg("Patches").generateReplacementPatches_(n[yg].base_,e,t.patches_,t.inversePatches_)):e=Hg(t,n,[]),zg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gg?e:void 0}function Hg(e,t,n){if(Dg(t))return t;const r=t[yg];if(!r)return kg(t,(i,o)=>$g(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Kg(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,o=!1;3===r.type_&&(i=new Set(t),t.clear(),o=!0),kg(i,(i,a)=>$g(e,r,t,i,a,n,o)),Kg(e,t,!1),n&&e.patches_&&Rg("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function $g(e,t,n,r,i,o,a){if(wg(i)){const a=Hg(e,i,o&&t&&3!==t.type_&&!Eg(t.assigned_,r)?o.concat(r):void 0);if(Tg(n,r,a),!wg(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(xg(i)&&!Dg(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Hg(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Kg(e,i)}}function Kg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Og(t,n)}var Gg={get(e,t){if(t===yg)return e;const n=Ng(e);if(!Eg(n,t))return function(e,t,n){const r=Xg(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!xg(r)?r:r===Yg(e.base_,t)?(Zg(e),e.copy_[t]=em(r,e)):r},has:(e,t)=>t in Ng(e),ownKeys:e=>Reflect.ownKeys(Ng(e)),set(e,t,n){const r=Xg(Ng(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Yg(Ng(e),t),i=r?.[yg];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Eg(e.base_,t)))return!0;Zg(e),Jg(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Yg(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Zg(e),Jg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Ng(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){vg(11)},getPrototypeOf:e=>bg(e.base_),setPrototypeOf(){vg(12)}},Qg={};function Yg(e,t){const n=e[yg];return(n?Ng(n):e)[t]}function Xg(e,t){if(!(t in e))return;let n=bg(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=bg(n)}}function Jg(e){e.modified_||(e.modified_=!0,e.parent_&&Jg(e.parent_))}function Zg(e){e.copy_||(e.copy_=Cg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}kg(Gg,(e,t)=>{Qg[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Qg.deleteProperty=function(e,t){return Qg.set.call(this,e,t,void 0)},Qg.set=function(e,t,n){return Gg.set.call(this,e[0],t,n,e[0])};function em(e,t){const n=Ig(e)?Rg("MapSet").proxyMap_(e,t):Pg(e)?Rg("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Fg(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Gg;n&&(i=[r],o=Qg);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}(e,t);return(t?t.scope_:Fg()).drafts_.push(n),n}function tm(e){if(!xg(e)||Dg(e))return e;const t=e[yg];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Cg(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Cg(e,!0);return kg(n,(e,t)=>{Tg(n,e,tm(t))}),t&&(t.finalized_=!1),n}var nm=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return r.produce(e,e=>t.call(this,e,...o))}}let r;if("function"!==typeof t&&vg(6),void 0!==n&&"function"!==typeof n&&vg(7),xg(e)){const i=qg(this),o=em(e,void 0);let a=!0;try{r=t(o),a=!1}finally{a?zg(i):Ug(i)}return Bg(i,n),Wg(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===gg&&(r=void 0),this.autoFreeze_&&Og(r,!0),n){const t=[],i=[];Rg("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}vg(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const o=this.produce(e,n,(e,t)=>{r=e,i=t});return[o,r,i]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){xg(e)||vg(8),wg(e)&&(e=function(e){wg(e)||vg(10);return tm(e)}(e));const t=qg(this),n=em(e,void 0);return n[yg].isManual_=!0,Ug(t),n}finishDraft(e,t){const n=e&&e[yg];n&&n.isManual_||vg(9);const{scope_:r}=n;return Bg(r,t),Wg(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Rg("Patches").applyPatches_;return wg(e)?r(e,t):this.produce(e,e=>r(e,t))}};nm.produce,nm.produceWithPatches.bind(nm),nm.setAutoFreeze.bind(nm),nm.setUseStrictShallowCopy.bind(nm),nm.applyPatches.bind(nm),nm.createDraft.bind(nm),nm.finishDraft.bind(nm);var rm={active:!1,index:null,dataKey:void 0,coordinate:void 0},im=bp({name:"tooltip",initialState:{itemInteraction:{click:rm,hover:rm},axisInteraction:{click:rm,hover:rm},keyboardInteraction:rm,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=ep(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:om,removeTooltipEntrySettings:am,setTooltipSettingsState:sm,setActiveMouseOverItemIndex:lm,mouseLeaveItem:cm,mouseLeaveChart:um,setActiveClickItemIndex:hm,setMouseOverAxisIndex:dm,setMouseClickAxisIndex:fm,setSyncInteraction:pm,setKeyboardInteraction:gm}=im.actions,mm=im.reducer,ym=bp({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:vm,setDataStartEndIndexes:bm,setComputedData:wm}=ym.actions,xm=ym.reducer,Sm=bp({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:_m,setLayout:km,setChartSize:Am,setScale:Em}=Sm.actions,Tm=Sm.reducer;function Im(e){if("function"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received "+typeof e)}var Pm=e=>Array.isArray(e)?e:[e];function Nm(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var Cm="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Om(){return{s:0,v:void 0,o:null,p:null}}function Lm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,o=0;function a(){let t=n;const{length:a}=arguments;for(let e=0,n=a;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=Om(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=Om(),e.set(n,t)):t=r}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),o++,r){const e=i?.deref?.()??i;null!=e&&r(e,l)&&(l=e,0!==o&&o--);i="object"===typeof l&&null!==l||"function"===typeof l?new Cm(l):l}return s.s=1,s.v=l,l}return a.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function Dm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,o=0,a=0,s={},l=t.pop();"object"===typeof l&&(s=l,l=t.pop()),Im(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...i,...s},{memoize:u,memoizeOptions:h=[],argsMemoize:d=Lm,argsMemoizeOptions:f=[],devModeChecks:p={}}=c,g=Pm(h),m=Pm(f),y=Nm(t),v=u(function(){return o++,l.apply(null,arguments)},...g);const b=d(function(){a++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(y,arguments);return r=v.apply(null,e),r},...m);return Object.assign(b,{resultFunc:l,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>r,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:u,argsMemoize:d})};return Object.assign(o,{withTypes:()=>o}),o}var jm=Dm(Lm),Mm=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jm;!function(e){if("object"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received "+typeof e)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>Mm}),Rm=n(8443),Fm=(0,r.createContext)(null),Bm=e=>e,zm=()=>{var e=(0,r.useContext)(Fm);return e?e.store.dispatch:Bm},Um=()=>{},qm=()=>Um,Vm=(e,t)=>e===t;function Wm(e){var t=(0,r.useContext)(Fm);return(0,Rm.useSyncExternalStoreWithSelector)(t?t.subscription.addNestedSub:qm,t?t.store.getState:Um,t?t.store.getState:Um,t?e:Um,Vm)}var Hm=n(3821),$m=n.n(Hm),Km=e=>e.legend.settings,Gm=jm([e=>e.legend.payload,Km],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?$m()(r,n):r});function Qm(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function Ym(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Xm(e){return function(){return e}}function Jm(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Zm(e,t){return e[t]}function ey(e){const t=[];return t.key=e,t}function ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ny(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(n),!0).forEach(function(t){ry(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ry(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iy=Math.PI/180,oy=e=>180*e/Math.PI,ay=(e,t,n,r)=>({x:e+Math.cos(-iy*r)*n,y:t+Math.sin(-iy*r)*n}),sy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},ly=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,a=((e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)})({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:oy(l),angleInRadian:l}},cy=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},uy=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:o}=ly({x:n,y:r},t),{innerRadius:a,outerRadius:s}=t;if(i<a||i>s)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}})(t),h=o;if(c<=u){for(;h>u;)h-=360;for(;h<c;)h+=360;l=h>=c&&h<=u}else{for(;h>c;)h-=360;for(;h<u;)h+=360;l=h>=u&&h<=c}return l?ny(ny({},t),{},{radius:i,angle:cy(h,t)}):null};function hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hy(Object(n),!0).forEach(function(t){fy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fy(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function py(e,t,n){return Gd(e)||Gd(t)?n:qd(t)?Rd()(e,t,n):"function"===typeof t?t(e):n}var gy=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,my=1e-4,yy={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=Bd(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}Qm(e,t)}},none:Qm,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}Qm(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],h=u[a][1]||0,d=(h-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];d+=(p[a][1]||0)-(p[a-1][1]||0)}l+=h,c+=d*h}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,Qm(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=Bd(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},vy=(e,t,n)=>{var r=yy[n],i=function(){var e=Xm([]),t=Jm,n=Qm,r=Zm;function i(i){var o,a,s=Array.from(e.apply(this,arguments),ey),l=s.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=Ym(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:Xm(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:Xm(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Jm:"function"===typeof e?e:Xm(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Qm:e,i):n},i}().keys(t).value((e,t)=>+py(e,t,0)).order(Jm).offset(r);return i(e)};function by(e){return null==e?void 0:String(e)}var wy=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:a}=e;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=py(o,t.dataKey,t.scale.domain()[a]);return Gd(s)?null:t.scale(s)-i/2+r},xy=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:a}=o,s=a.reduce((e,r)=>{var i=(e=>{var t=e.flat(2).filter(Ud);return[Math.min(...t),Math.max(...t)]})(r.slice(t,n+1));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},Sy=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_y=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ky=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=$m()(t,e=>e.coordinate),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function Ay(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return dy(dy({},t),{},{dataKey:n,payload:r,value:i,name:o})}function Ey(e,t){return e?String(e):"string"===typeof t?t:void 0}var Ty=e=>e.layout.width,Iy=e=>e.layout.height,Py=e=>e.layout.scale,Ny=e=>e.layout.margin,Cy=jm(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Oy=jm(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Ly="data-recharts-item-index",Dy="data-recharts-item-data-key";function jy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function My(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jy(Object(n),!0).forEach(function(t){Ry(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ry(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fy=jm([Ty,Iy,Ny,e=>e.brush.height,Cy,Oy,Km,e=>e.legend.size],(e,t,n,r,i,o,a,s)=>{var l=o.reduce((e,t)=>{var{orientation:n}=t;if(!t.mirror&&!t.hide){var r="number"===typeof t.width?t.width:60;return My(My({},e),{},{[n]:e[n]+r})}return e},{left:n.left||0,right:n.right||0}),c=i.reduce((e,t)=>{var{orientation:n}=t;return t.mirror||t.hide?e:My(My({},e),{},{[n]:Rd()(e,"".concat(n))+t.height})},{top:n.top||0,bottom:n.bottom||0}),u=My(My({},c),l),h=u.bottom;u.bottom+=r,u=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===a)&&"center"!==o&&Ud(e[o]))return dy(dy({},e),{},{[o]:e[o]+(r||0)});if(("horizontal"===s||"vertical"===s&&"center"===o)&&"middle"!==a&&Ud(e[a]))return dy(dy({},e),{},{[a]:e[a]+(i||0)})}return e})(u,a,s);var d=e-u.left-u.right,f=t-u.top-u.bottom;return My(My({brushBottom:h},u),{},{width:Math.max(d,0),height:Math.max(f,0)})}),By=jm(Fy,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),zy=jm(Ty,Iy,(e,t)=>({x:0,y:0,width:e,height:t})),Uy=(0,r.createContext)(null),qy=()=>null!=(0,r.useContext)(Uy),Vy=e=>e.brush,Wy=jm([Vy,Fy,Ny],(e,t,n)=>({height:e.height,x:Ud(e.x)?e.x:t.left,y:Ud(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:Ud(e.width)?e.width:t.width})),Hy=()=>{var e,t=qy(),n=Wm(By),r=Wm(Wy),i=null===(e=Wm(Vy))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},$y={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Ky=()=>{var e;return null!==(e=Wm(Fy))&&void 0!==e?e:$y},Gy=()=>Wm(Ty),Qy=()=>Wm(Iy),Yy={top:0,right:0,bottom:0,left:0},Xy=e=>e.layout.layoutType,Jy=()=>Wm(Xy),Zy=n(9859),ev=n.n(Zy);function tv(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function nv(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class rv extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sv;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(iv(this,e))}has(e){return super.has(iv(this,e))}set(e,t){return super.set(ov(this,e),t)}delete(e){return super.delete(av(this,e))}}Set;function iv(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function ov(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function av(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function sv(e){return null!==e&&"object"===typeof e?e.valueOf():e}const lv=Symbol("implicit");function cv(){var e=new rv,t=[],n=[],r=lv;function i(i){let o=e.get(i);if(void 0===o){if(r!==lv)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new rv;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return cv(t,n).unknown(r)},tv.apply(i,arguments),i}function uv(){var e,t,n=cv().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function h(){var n=r().length,h=a<o,d=h?a:o,f=h?o:a;e=(f-d)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),d+=(f-d-e*(n-l))*u,t=e*(1-l),s&&(d=Math.round(d),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map(function(t){return d+e*t});return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,h()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,h()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),h()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),h()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,h()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),h()):u},n.copy=function(){return uv(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},tv.apply(h(),arguments)}function hv(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return hv(t())},e}function dv(){return hv(uv.apply(null,arguments).paddingInner(1))}const fv=Math.sqrt(50),pv=Math.sqrt(10),gv=Math.sqrt(2);function mv(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=fv?10:o>=pv?5:o>=gv?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?mv(e,t,2*n):[s,l,c]}function yv(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?mv(t,e,n):mv(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function vv(e,t,n){return mv(e=+e,t=+t,n=+n)[2]}function bv(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?vv(t,e,n):vv(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function wv(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xv(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sv(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=wv,n=(t,n)=>wv(e(t),n),r=(t,n)=>e(t)-n):(t=e===wv||e===xv?e:_v,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function _v(){return 0}function kv(e){return null===e?NaN:+e}const Av=Sv(wv),Ev=Av.right,Tv=(Av.left,Sv(kv).center,Ev);function Iv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Pv(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Nv(){}var Cv=.7,Ov=1/Cv,Lv="\\s*([+-]?\\d+)\\s*",Dv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mv=/^#([0-9a-f]{3,8})$/,Rv=new RegExp(`^rgb\\(${Lv},${Lv},${Lv}\\)$`),Fv=new RegExp(`^rgb\\(${jv},${jv},${jv}\\)$`),Bv=new RegExp(`^rgba\\(${Lv},${Lv},${Lv},${Dv}\\)$`),zv=new RegExp(`^rgba\\(${jv},${jv},${jv},${Dv}\\)$`),Uv=new RegExp(`^hsl\\(${Dv},${jv},${jv}\\)$`),qv=new RegExp(`^hsla\\(${Dv},${jv},${jv},${Dv}\\)$`),Vv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Wv(){return this.rgb().formatHex()}function Hv(){return this.rgb().formatRgb()}function $v(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Mv.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Kv(t):3===n?new Yv(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Gv(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Gv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Rv.exec(e))?new Yv(t[1],t[2],t[3],1):(t=Fv.exec(e))?new Yv(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Bv.exec(e))?Gv(t[1],t[2],t[3],t[4]):(t=zv.exec(e))?Gv(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Uv.exec(e))?nb(t[1],t[2]/100,t[3]/100,1):(t=qv.exec(e))?nb(t[1],t[2]/100,t[3]/100,t[4]):Vv.hasOwnProperty(e)?Kv(Vv[e]):"transparent"===e?new Yv(NaN,NaN,NaN,0):null}function Kv(e){return new Yv(e>>16&255,e>>8&255,255&e,1)}function Gv(e,t,n,r){return r<=0&&(e=t=n=NaN),new Yv(e,t,n,r)}function Qv(e,t,n,r){return 1===arguments.length?function(e){return e instanceof Nv||(e=$v(e)),e?new Yv((e=e.rgb()).r,e.g,e.b,e.opacity):new Yv}(e):new Yv(e,t,n,null==r?1:r)}function Yv(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Xv(){return`#${tb(this.r)}${tb(this.g)}${tb(this.b)}`}function Jv(){const e=Zv(this.opacity);return`${1===e?"rgb(":"rgba("}${eb(this.r)}, ${eb(this.g)}, ${eb(this.b)}${1===e?")":`, ${e})`}`}function Zv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function eb(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tb(e){return((e=eb(e))<16?"0":"")+e.toString(16)}function nb(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ib(e,t,n,r)}function rb(e){if(e instanceof ib)return new ib(e.h,e.s,e.l,e.opacity);if(e instanceof Nv||(e=$v(e)),!e)return new ib;if(e instanceof ib)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new ib(a,s,l,e.opacity)}function ib(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ob(e){return(e=(e||0)%360)<0?e+360:e}function ab(e){return Math.max(0,Math.min(1,e||0))}function sb(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function lb(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}Iv(Nv,$v,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Wv,formatHex:Wv,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return rb(this).formatHsl()},formatRgb:Hv,toString:Hv}),Iv(Yv,Qv,Pv(Nv,{brighter(e){return e=null==e?Ov:Math.pow(Ov,e),new Yv(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Cv:Math.pow(Cv,e),new Yv(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yv(eb(this.r),eb(this.g),eb(this.b),Zv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xv,formatHex:Xv,formatHex8:function(){return`#${tb(this.r)}${tb(this.g)}${tb(this.b)}${tb(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Jv,toString:Jv})),Iv(ib,function(e,t,n,r){return 1===arguments.length?rb(e):new ib(e,t,n,null==r?1:r)},Pv(Nv,{brighter(e){return e=null==e?Ov:Math.pow(Ov,e),new ib(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Cv:Math.pow(Cv,e),new ib(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Yv(sb(e>=240?e-240:e+120,i,r),sb(e,i,r),sb(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ib(ob(this.h),ab(this.s),ab(this.l),Zv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zv(this.opacity);return`${1===e?"hsl(":"hsla("}${ob(this.h)}, ${100*ab(this.s)}%, ${100*ab(this.l)}%${1===e?")":`, ${e})`}`}}));const cb=e=>()=>e;function ub(e,t){return function(n){return e+n*t}}function hb(e){return 1===(e=+e)?db:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):cb(isNaN(t)?n:t)}}function db(e,t){var n=t-e;return n?ub(e,n):cb(isNaN(e)?t:e)}const fb=function e(t){var n=hb(t);function r(e,t){var r=n((e=Qv(e)).r,(t=Qv(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=db(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function pb(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Qv(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}pb(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return lb((n-r/t)*t,a,i,o,s)}}),pb(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return lb((n-r/t)*t,i,o,a,s)}});function gb(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=_b(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function mb(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function yb(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vb(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=_b(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var bb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wb=new RegExp(bb.source,"g");function xb(e,t){var n,r,i,o=bb.lastIndex=wb.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=bb.exec(e))&&(r=wb.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:yb(n,r)})),o=wb.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Sb(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function _b(e,t){var n,r=typeof t;return null==t||"boolean"===r?cb(t):("number"===r?yb:"string"===r?(n=$v(t))?(t=n,fb):xb:t instanceof $v?fb:t instanceof Date?mb:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Sb:Array.isArray(t)?gb:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?vb:yb)(e,t)}function kb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ab(e){return+e}var Eb=[0,1];function Tb(e){return e}function Ib(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Pb(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Ib(i,r),o=n(a,o)):(r=Ib(r,i),o=n(o,a)),function(e){return o(r(e))}}function Nb(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Ib(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=Tv(e,t,1,r)-1;return o[n](i[n](t))}}function Cb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ob(){var e,t,n,r,i,o,a=Eb,s=Eb,l=_b,c=Tb;function u(){var e=Math.min(a.length,s.length);return c!==Tb&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?Nb:Pb,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return h.invert=function(n){return c(t((o||(o=r(s,a.map(e),yb)))(n)))},h.domain=function(e){return arguments.length?(a=Array.from(e,Ab),u()):a.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),l=kb,u()},h.clamp=function(e){return arguments.length?(c=!!e||Tb,u()):c!==Tb},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,u()}}function Lb(){return Ob()(Tb,Tb)}var Db,jb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mb(e){if(!(t=jb.exec(e)))throw new Error("invalid format: "+e);var t;return new Rb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Rb(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Fb(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Bb(e){return(e=Fb(Math.abs(e)))?e[1]:NaN}function zb(e,t){var n=Fb(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Mb.prototype=Rb.prototype,Rb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ub={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zb(100*e,t),r:zb,s:function(e,t){var n=Fb(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Db=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Fb(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qb(e){return e}var Vb,Wb,Hb,$b=Array.prototype.map,Kb=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Gb(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?qb:(t=$b.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?qb:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}($b.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=Mb(e)).fill,n=e.align,h=e.sign,d=e.symbol,f=e.zero,p=e.width,g=e.comma,m=e.precision,y=e.trim,v=e.type;"n"===v?(g=!0,v="g"):Ub[v]||(void 0===m&&(m=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===d?o:/[%p]/.test(v)?l:"",x=Ub[v],S=/[defgprs%]/.test(v);function _(e){var i,o,l,d=b,_=w;if("c"===v)_=x(e)+_,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),m),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==h&&(k=!1),d=(k?"("===h?h:c:"-"===h||"("===h?"":h)+d,_=("s"===v?Kb[8+Db/3]:"")+_+(k&&"("===h?")":""),S)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){_=(46===l?a+e.slice(i+1):e.slice(i))+_,e=e.slice(0,i);break}}g&&!f&&(e=r(e,1/0));var A=d.length+e.length+_.length,E=A<p?new Array(p-A+1).join(t):"";switch(g&&f&&(e=r(E+e,E.length?p-_.length:1/0),E=""),n){case"<":e=d+e+_+E;break;case"=":e=d+E+e+_;break;case"^":e=E.slice(0,A=E.length>>1)+d+e+_+E.slice(A);break;default:e=E+d+e+_}return s(e)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),_.toString=function(){return e+""},_}return{format:h,formatPrefix:function(e,t){var n=h(((e=Mb(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Bb(t)/3))),i=Math.pow(10,-r),o=Kb[8+r/3];return function(e){return n(i*e)+o}}}}function Qb(e,t,n,r){var i,o=bv(e,t,n);switch((r=Mb(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Bb(t)/3)))-Bb(Math.abs(e)))}(o,a))||(r.precision=i),Hb(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bb(t)-Bb(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Bb(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Wb(r)}function Yb(e){var t=e.domain;return e.ticks=function(e){var n=t();return yv(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Qb(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=vv(l,c,n))===r)return o[a]=l,o[s]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function Xb(){var e=Lb();return e.copy=function(){return Cb(e,Xb())},tv.apply(e,arguments),Yb(e)}function Jb(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Ab),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Jb(e).unknown(t)},e=arguments.length?Array.from(e,Ab):[0,1],Yb(n)}function Zb(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function ew(e){return Math.log(e)}function tw(e){return Math.exp(e)}function nw(e){return-Math.log(-e)}function rw(e){return-Math.exp(-e)}function iw(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ow(e){return(t,n)=>-e(-t,n)}function aw(e){const t=e(ew,tw),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?iw:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=ow(r),i=ow(i),e(nw,rw)):e(ew,tw),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,h=r(a),d=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&d-h<f){if(h=Math.floor(h),d=Math.ceil(d),a>0){for(;h<=d;++h)for(c=1;c<o;++c)if(u=h<0?c/i(-h):c*i(h),!(u<a)){if(u>s)break;p.push(u)}}else for(;h<=d;++h)for(c=o-1;c>=1;--c)if(u=h>0?c/i(-h):c*i(h),!(u<a)){if(u>s)break;p.push(u)}2*p.length<f&&(p=yv(a,s,f))}else p=yv(h,d,Math.min(d-h,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=Mb(n)).precision||(n.trim=!0),n=Wb(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(Zb(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function sw(){const e=aw(Ob()).domain([1,10]);return e.copy=()=>Cb(e,sw()).base(e.base()),tv.apply(e,arguments),e}function lw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function uw(e){var t=1,n=e(lw(t),cw(t));return n.constant=function(n){return arguments.length?e(lw(t=+n),cw(t)):t},Yb(n)}function hw(){var e=uw(Ob());return e.copy=function(){return Cb(e,hw()).constant(e.constant())},tv.apply(e,arguments)}function dw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fw(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pw(e){return e<0?-e*e:e*e}function gw(e){var t=e(Tb,Tb),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Tb,Tb):.5===n?e(fw,pw):e(dw(n),dw(1/n)):n},Yb(t)}function mw(){var e=gw(Ob());return e.copy=function(){return Cb(e,mw()).exponent(e.exponent())},tv.apply(e,arguments),e}function yw(){return mw.apply(null,arguments).exponent(.5)}function vw(e){return Math.sign(e)*e*e}function bw(){var e,t=Lb(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(vw(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,Ab)).map(vw)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return bw(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},tv.apply(i,arguments),Yb(i)}function ww(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function xw(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function Sw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wv;if(e===wv)return _w;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function _w(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function kw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?_w:Sw(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);kw(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(Aw(e,n,t),i(e[r],o)>0&&Aw(e,n,r);a<s;){for(Aw(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?Aw(e,n,s):(++s,Aw(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Aw(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Ew(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return xw(e);if(t>=1)return ww(e);var r,i=(r-1)*t,o=Math.floor(i),a=ww(kw(e,o).subarray(0,o+1));return a+(xw(e.subarray(o+1))-a)*(i-o)}}function Tw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kv;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function Iw(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=Tw(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[Tv(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(wv),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return Iw().domain(t).range(n).unknown(e)},tv.apply(o,arguments)}function Pw(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[Tv(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Pw().domain([t,n]).range(o).unknown(e)},tv.apply(Yb(a),arguments)}function Nw(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[Tv(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Nw().domain(t).range(n).unknown(e)},tv.apply(i,arguments)}Vb=Gb({thousands:",",grouping:[3],currency:["$",""]}),Wb=Vb.format,Hb=Vb.formatPrefix;const Cw=1e3,Ow=6e4,Lw=36e5,Dw=864e5,jw=6048e5,Mw=2592e6,Rw=31536e6,Fw=new Date,Bw=new Date;function zw(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>zw(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(Fw.setTime(+t),Bw.setTime(+r),e(Fw),e(Bw),Math.floor(n(Fw,Bw))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Uw=zw(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Uw.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?zw(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Uw:null);Uw.range;const qw=zw(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Cw)},(e,t)=>(t-e)/Cw,e=>e.getUTCSeconds()),Vw=(qw.range,zw(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Cw)},(e,t)=>{e.setTime(+e+t*Ow)},(e,t)=>(t-e)/Ow,e=>e.getMinutes())),Ww=(Vw.range,zw(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ow)},(e,t)=>(t-e)/Ow,e=>e.getUTCMinutes())),Hw=(Ww.range,zw(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Cw-e.getMinutes()*Ow)},(e,t)=>{e.setTime(+e+t*Lw)},(e,t)=>(t-e)/Lw,e=>e.getHours())),$w=(Hw.range,zw(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Lw)},(e,t)=>(t-e)/Lw,e=>e.getUTCHours())),Kw=($w.range,zw(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ow)/Dw,e=>e.getDate()-1)),Gw=(Kw.range,zw(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dw,e=>e.getUTCDate()-1)),Qw=(Gw.range,zw(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dw,e=>Math.floor(e/Dw)));Qw.range;function Yw(e){return zw(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ow)/jw)}const Xw=Yw(0),Jw=Yw(1),Zw=Yw(2),ex=Yw(3),tx=Yw(4),nx=Yw(5),rx=Yw(6);Xw.range,Jw.range,Zw.range,ex.range,tx.range,nx.range,rx.range;function ix(e){return zw(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/jw)}const ox=ix(0),ax=ix(1),sx=ix(2),lx=ix(3),cx=ix(4),ux=ix(5),hx=ix(6),dx=(ox.range,ax.range,sx.range,lx.range,cx.range,ux.range,hx.range,zw(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),fx=(dx.range,zw(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),px=(fx.range,zw(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));px.every=e=>isFinite(e=Math.floor(e))&&e>0?zw(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;px.range;const gx=zw(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gx.every=e=>isFinite(e=Math.floor(e))&&e>0?zw(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;gx.range;function mx(e,t,n,r,i,o){const a=[[qw,1,Cw],[qw,5,5e3],[qw,15,15e3],[qw,30,3e4],[o,1,Ow],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Lw],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Dw],[r,2,1728e5],[n,1,jw],[t,1,Mw],[t,3,7776e6],[e,1,Rw]];function s(t,n,r){const i=Math.abs(n-t)/r,o=Sv(e=>{let[,,t]=e;return t}).right(a,i);if(o===a.length)return e.every(bv(t/Rw,n/Rw,r));if(0===o)return Uw.every(Math.max(bv(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[yx,vx]=mx(gx,fx,ox,Qw,$w,Ww),[bx,wx]=mx(px,dx,Xw,Kw,Hw,Vw);function xx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _x(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var kx,Ax,Ex,Tx={"-":"",_:" ",0:"0"},Ix=/^\s*\d+/,Px=/^%/,Nx=/[\\^$*+?|[\]().{}]/g;function Cx(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Ox(e){return e.replace(Nx,"\\$&")}function Lx(e){return new RegExp("^(?:"+e.map(Ox).join("|")+")","i")}function Dx(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function jx(e,t,n){var r=Ix.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Mx(e,t,n){var r=Ix.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Rx(e,t,n){var r=Ix.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Fx(e,t,n){var r=Ix.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Bx(e,t,n){var r=Ix.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function zx(e,t,n){var r=Ix.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ux(e,t,n){var r=Ix.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qx(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Vx(e,t,n){var r=Ix.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Wx(e,t,n){var r=Ix.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Hx(e,t,n){var r=Ix.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function $x(e,t,n){var r=Ix.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Kx(e,t,n){var r=Ix.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Gx(e,t,n){var r=Ix.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Qx(e,t,n){var r=Ix.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Yx(e,t,n){var r=Ix.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Xx(e,t,n){var r=Ix.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Jx(e,t,n){var r=Px.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Zx(e,t,n){var r=Ix.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function eS(e,t,n){var r=Ix.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function tS(e,t){return Cx(e.getDate(),t,2)}function nS(e,t){return Cx(e.getHours(),t,2)}function rS(e,t){return Cx(e.getHours()%12||12,t,2)}function iS(e,t){return Cx(1+Kw.count(px(e),e),t,3)}function oS(e,t){return Cx(e.getMilliseconds(),t,3)}function aS(e,t){return oS(e,t)+"000"}function sS(e,t){return Cx(e.getMonth()+1,t,2)}function lS(e,t){return Cx(e.getMinutes(),t,2)}function cS(e,t){return Cx(e.getSeconds(),t,2)}function uS(e){var t=e.getDay();return 0===t?7:t}function hS(e,t){return Cx(Xw.count(px(e)-1,e),t,2)}function dS(e){var t=e.getDay();return t>=4||0===t?tx(e):tx.ceil(e)}function fS(e,t){return e=dS(e),Cx(tx.count(px(e),e)+(4===px(e).getDay()),t,2)}function pS(e){return e.getDay()}function gS(e,t){return Cx(Jw.count(px(e)-1,e),t,2)}function mS(e,t){return Cx(e.getFullYear()%100,t,2)}function yS(e,t){return Cx((e=dS(e)).getFullYear()%100,t,2)}function vS(e,t){return Cx(e.getFullYear()%1e4,t,4)}function bS(e,t){var n=e.getDay();return Cx((e=n>=4||0===n?tx(e):tx.ceil(e)).getFullYear()%1e4,t,4)}function wS(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Cx(t/60|0,"0",2)+Cx(t%60,"0",2)}function xS(e,t){return Cx(e.getUTCDate(),t,2)}function SS(e,t){return Cx(e.getUTCHours(),t,2)}function _S(e,t){return Cx(e.getUTCHours()%12||12,t,2)}function kS(e,t){return Cx(1+Gw.count(gx(e),e),t,3)}function AS(e,t){return Cx(e.getUTCMilliseconds(),t,3)}function ES(e,t){return AS(e,t)+"000"}function TS(e,t){return Cx(e.getUTCMonth()+1,t,2)}function IS(e,t){return Cx(e.getUTCMinutes(),t,2)}function PS(e,t){return Cx(e.getUTCSeconds(),t,2)}function NS(e){var t=e.getUTCDay();return 0===t?7:t}function CS(e,t){return Cx(ox.count(gx(e)-1,e),t,2)}function OS(e){var t=e.getUTCDay();return t>=4||0===t?cx(e):cx.ceil(e)}function LS(e,t){return e=OS(e),Cx(cx.count(gx(e),e)+(4===gx(e).getUTCDay()),t,2)}function DS(e){return e.getUTCDay()}function jS(e,t){return Cx(ax.count(gx(e)-1,e),t,2)}function MS(e,t){return Cx(e.getUTCFullYear()%100,t,2)}function RS(e,t){return Cx((e=OS(e)).getUTCFullYear()%100,t,2)}function FS(e,t){return Cx(e.getUTCFullYear()%1e4,t,4)}function BS(e,t){var n=e.getUTCDay();return Cx((e=n>=4||0===n?cx(e):cx.ceil(e)).getUTCFullYear()%1e4,t,4)}function zS(){return"+0000"}function US(){return"%"}function qS(e){return+e}function VS(e){return Math.floor(+e/1e3)}function WS(e){return new Date(e)}function HS(e){return e instanceof Date?+e:+new Date(+e)}function $S(e,t,n,r,i,o,a,s,l,c){var u=Lb(),h=u.invert,d=u.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),w=c("%Y");function x(e){return(l(e)<e?f:s(e)<e?p:a(e)<e?g:o(e)<e?m:r(e)<e?i(e)<e?y:v:n(e)<e?b:w)(e)}return u.invert=function(e){return new Date(h(e))},u.domain=function(e){return arguments.length?d(Array.from(e,HS)):d().map(WS)},u.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(Zb(n,e)):u},u.copy=function(){return Cb(u,$S(e,t,n,r,i,o,a,s,l,c))},u}function KS(){return tv.apply($S(bx,wx,px,dx,Xw,Kw,Hw,Vw,qw,Ax).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GS(){return tv.apply($S(yx,vx,gx,fx,ox,Gw,$w,Ww,qw,Ex).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function QS(){var e,t,n,r,i,o=0,a=1,s=Tb,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(_b),c.rangeRound=u(kb),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function YS(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function XS(){var e=Yb(QS()(Tb));return e.copy=function(){return YS(e,XS())},nv.apply(e,arguments)}function JS(){var e=aw(QS()).domain([1,10]);return e.copy=function(){return YS(e,JS()).base(e.base())},nv.apply(e,arguments)}function ZS(){var e=uw(QS());return e.copy=function(){return YS(e,ZS()).constant(e.constant())},nv.apply(e,arguments)}function e_(){var e=gw(QS());return e.copy=function(){return YS(e,e_()).exponent(e.exponent())},nv.apply(e,arguments)}function t_(){return e_.apply(null,arguments).exponent(.5)}function n_(){var e=[],t=Tb;function n(n){if(null!=n&&!isNaN(n=+n))return t((Tv(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(wv),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>Ew(e,r/t))},n.copy=function(){return n_(t).domain(e)},nv.apply(n,arguments)}function r_(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=1,h=Tb,d=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),h(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,h=function(e,t){void 0===t&&(t=e,e=_b);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),f):[h(0),h(.5),h(1)]}}return f.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(d=!!e,f):d},f.interpolator=function(e){return arguments.length?(h=e,f):h},f.range=p(_b),f.rangeRound=p(kb),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function i_(){var e=Yb(r_()(Tb));return e.copy=function(){return YS(e,i_())},nv.apply(e,arguments)}function o_(){var e=aw(r_()).domain([.1,1,10]);return e.copy=function(){return YS(e,o_()).base(e.base())},nv.apply(e,arguments)}function a_(){var e=uw(r_());return e.copy=function(){return YS(e,a_()).constant(e.constant())},nv.apply(e,arguments)}function s_(){var e=gw(r_());return e.copy=function(){return YS(e,s_()).exponent(e.exponent())},nv.apply(e,arguments)}function l_(){return s_.apply(null,arguments).exponent(.5)}!function(e){kx=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=Lx(i),u=Dx(i),h=Lx(o),d=Dx(o),f=Lx(a),p=Dx(a),g=Lx(s),m=Dx(s),y=Lx(l),v=Dx(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:tS,e:tS,f:aS,g:yS,G:bS,H:nS,I:rS,j:iS,L:oS,m:sS,M:lS,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:qS,s:VS,S:cS,u:uS,U:hS,V:fS,w:pS,W:gS,x:null,X:null,y:mS,Y:vS,Z:wS,"%":US},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:xS,e:xS,f:ES,g:RS,G:BS,H:SS,I:_S,j:kS,L:AS,m:TS,M:IS,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:qS,s:VS,S:PS,u:NS,U:CS,V:LS,w:DS,W:jS,x:null,X:null,y:MS,Y:FS,Z:zS,"%":US},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:Hx,e:Hx,f:Xx,g:Ux,G:zx,H:Kx,I:Kx,j:$x,L:Yx,m:Wx,M:Gx,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Vx,Q:Zx,s:eS,S:Qx,u:Mx,U:Rx,V:Fx,w:jx,W:Bx,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:Ux,Y:zx,Z:qx,"%":Jx};function S(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Tx[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function _(e,t){return function(n){var r,i,o=_x(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Sx(_x(o.y,0,1))).getUTCDay(),r=i>4||0===i?ax.ceil(r):ax(r),r=Gw.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=xx(_x(o.y,0,1))).getDay(),r=i>4||0===i?Jw.ceil(r):Jw(r),r=Kw.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Sx(_x(o.y,0,1)).getUTCDay():xx(_x(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Sx(o)):xx(o)}}function k(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in Tx?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),Ax=kx.format,kx.parse,Ex=kx.utcFormat,kx.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var c_=e=>e.chartData,u_=jm([c_],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),h_=(e,t,n,r)=>r?u_(e):c_(e);function d_(e){return Number.isFinite(e)}function f_(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function p_(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(d_(t)&&d_(n))return!0}return!1}function g_(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var m_=n(8210),y_=n.n(m_),v_=e=>e,b_={"@@functional/placeholder":!0},w_=e=>e===b_,x_=e=>function t(){return 0===arguments.length||1===arguments.length&&w_(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},S_=(e,t)=>1===e?t:x_(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(e=>e!==b_).length;return o>=e?t(...r):S_(e-o,x_(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=r.map(e=>w_(e)?n.shift():e);return t(...o,...n)}))}),__=e=>S_(e.length,e),k_=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},A_=__((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),E_=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),T_=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=i,n=e(...i))}};function I_(e){return 0===e?1:Math.floor(new(y_())(e).abs().log(10).toNumber())+1}function P_(e,t,n){for(var r=new(y_())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}__((e,t,n)=>{var r=+e;return r+n*(+t-r)}),__((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),__((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var N_=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},C_=(e,t,n)=>{if(e.lte(0))return new(y_())(0);var r=I_(e.toNumber()),i=new(y_())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(y_())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?new(y_())(s.toNumber()):new(y_())(Math.ceil(s.toNumber()))},O_=(e,t,n)=>{var r=new(y_())(1),i=new(y_())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(y_())(10).pow(I_(e)-1),i=new(y_())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(y_())(Math.floor(e)))}else 0===e?i=new(y_())(Math.floor((t-1)/2)):n||(i=new(y_())(Math.floor(e)));var a=Math.floor((t-1)/2),s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return v_;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((e,t)=>t(e),i(...arguments))}}(A_(e=>i.add(new(y_())(e-a).mul(r)).toNumber()),k_);return s(0,t)},L_=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(y_())(0),tickMin:new(y_())(0),tickMax:new(y_())(0)};var o,a=C_(new(y_())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(y_())(0):(o=new(y_())(e).add(t).div(2)).sub(new(y_())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new(y_())(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?L_(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new(y_())(s).mul(a)),tickMax:o.add(new(y_())(l).mul(a))})};var D_=T_(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(r,2),[a,s]=N_([t,n]);if(a===-1/0||s===1/0){var l=s===1/0?[a,...k_(0,r-1).map(()=>1/0)]:[...k_(0,r-1).map(()=>-1/0),s];return t>n?E_(l):l}if(a===s)return O_(a,r,i);var{step:c,tickMin:u,tickMax:h}=L_(a,s,o,i,0),d=P_(u,h.add(new(y_())(.1).mul(c)),c);return t>n?E_(d):d}),j_=T_(function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[o,a]=N_([n,r]);if(o===-1/0||a===1/0)return[n,r];if(o===a)return[o];var s=Math.max(t,2),l=C_(new(y_())(a).sub(o).div(s-1),i,0),c=[...P_(new(y_())(o),new(y_())(a).sub(new(y_())(.99).mul(l)),l),a];return n>r?E_(c):c}),M_=e=>e.rootProps.maxBarSize,R_=e=>e.rootProps.barCategoryGap,F_=e=>e.rootProps.stackOffset,B_=e=>e.options.chartName,z_=e=>e.rootProps.syncId,U_=e=>e.rootProps.syncMethod,q_=e=>e.options.eventEmitter,V_=0,W_="auto",H_=!0,$_=!1,K_=!0,G_=0,Q_="auto",Y_=!0,X_=5,J_=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},Z_={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:V_,includeHidden:!1,name:void 0,reversed:!1,scale:W_,tick:H_,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},ek={allowDataOverflow:$_,allowDecimals:!1,allowDuplicatedCategory:K_,dataKey:void 0,domain:void 0,id:G_,includeHidden:!1,name:void 0,reversed:!1,scale:Q_,tick:Y_,tickCount:X_,ticks:void 0,type:"number",unit:void 0},tk={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:V_,includeHidden:!1,name:void 0,reversed:!1,scale:W_,tick:H_,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},nk={allowDataOverflow:$_,allowDecimals:!1,allowDuplicatedCategory:K_,dataKey:void 0,domain:void 0,id:G_,includeHidden:!1,name:void 0,reversed:!1,scale:Q_,tick:Y_,tickCount:X_,ticks:void 0,type:"category",unit:void 0},rk=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?tk:Z_,ik=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?nk:ek,ok=e=>e.polarOptions,ak=jm([Ty,Iy,Fy],sy),sk=jm([ok,ak],(e,t)=>{if(null!=e)return Hd(e.innerRadius,t,0)}),lk=jm([ok,ak],(e,t)=>{if(null!=e)return Hd(e.outerRadius,t,.8*t)}),ck=jm([ok],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),uk=(jm([rk,ck],J_),jm([ak,sk,lk],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),hk=(jm([ik,uk],J_),jm([Xy,ok,sk,lk,Ty,Iy],(e,t,n,r,i,o)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:a,cy:s,startAngle:l,endAngle:c}=t;return{cx:Hd(a,i,i/2),cy:Hd(s,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),dk=(e,t)=>t,fk=(e,t,n)=>n;function pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pk(Object(n),!0).forEach(function(t){mk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yk=[0,"auto"],vk={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},bk=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return null==n?vk:n},wk={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:yk,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},xk=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return null==n?wk:n},Sk={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_k=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?Sk:n},kk=(e,t,n)=>{switch(t){case"xAxis":return bk(e,n);case"yAxis":return xk(e,n);case"zAxis":return _k(e,n);case"angleAxis":return rk(e,n);case"radiusAxis":return ik(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ak=(e,t,n)=>{switch(t){case"xAxis":return bk(e,n);case"yAxis":return xk(e,n);case"angleAxis":return rk(e,n);case"radiusAxis":return ik(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ek=e=>e.graphicalItems.countOfBars>0;function Tk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Ik=e=>e.graphicalItems.cartesianItems,Pk=jm([dk,fk],Tk),Nk=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),Ck=jm([Ik,kk,Pk],Nk),Ok=e=>e.filter(e=>void 0===e.stackId),Lk=jm([Ck],Ok),Dk=e=>e.map(e=>e.data).filter(Boolean).flat(1),jk=jm([Ck],Dk),Mk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Rk=jm([jk,h_],Mk),Fk=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:py(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:py(e,t)}))):e.map(e=>({value:e})),Bk=jm([Rk,kk,Ck],Fk);function zk(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function Uk(e){return e.filter(e=>qd(e)||e instanceof Date).map(Number).filter(e=>!1===Bd(e))}function qk(e,t,n){return!n||"number"!==typeof t||Bd(t)?[]:n.length?Uk(n.flatMap(n=>{var r,i,o=py(e,n.dataKey);if(Array.isArray(o)?[r,i]=o:r=i=o,d_(r)&&d_(i))return[t-r,t+i]})):[]}var Vk=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,i]=t,o=i.map(e=>e.dataKey);return[r,{stackedData:vy(e,o,n),graphicalItems:i}]}))},Wk=jm([Rk,Ck,F_],Vk),Hk=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if("zAxis"!==n){var o=xy(e,r,i);if(null==o||0!==o[0]||0!==o[1])return o}},$k=jm([Wk,c_,dk],Hk),Kk=(e,t,n,r)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var i,o,a=null===(i=n.errorBars)||void 0===i?void 0:i.filter(e=>zk(r,e)),s=py(e,null!==(o=t.dataKey)&&void 0!==o?o:n.dataKey);return{value:s,errorDomain:qk(e,s,a)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:py(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),Gk=jm(Rk,kk,Lk,dk,Kk);function Qk(e){var{value:t}=e;if(qd(t)||t instanceof Date)return t}var Yk=e=>{var t;if(null==e||!("domain"in e))return yk;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=Uk(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:yk},Xk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},Jk=e=>e.referenceElements.dots,Zk=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),eA=jm([Jk,dk,fk],Zk),tA=e=>e.referenceElements.areas,nA=jm([tA,dk,fk],Zk),rA=e=>e.referenceElements.lines,iA=jm([rA,dk,fk],Zk),oA=(e,t)=>{var n=Uk(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},aA=jm(eA,dk,oA),sA=(e,t)=>{var n=Uk(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},lA=jm([nA,dk],sA),cA=(e,t)=>{var n=Uk(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},uA=jm(iA,dk,cA),hA=jm(aA,uA,lA,(e,t,n)=>Xk(e,n,t)),dA=jm([kk],Yk),fA=(e,t,n,r,i)=>{var o=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,o]=e;if(d_(i))n=i;else if("function"===typeof i)return;if(d_(o))r=o;else if("function"===typeof o)return;var a=[n,r];if(p_(a))return a}}(t,e.allowDataOverflow);return null!=o?o:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(p_(r))return g_(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,o,[a,s]=e;if("auto"===a)null!=t&&(i=Math.min(...t));else if(Ud(a))i=a;else if("function"===typeof a)try{null!=t&&(i=a(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof a&&Sy.test(a)){var l=Sy.exec(a);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null===t||void 0===t?void 0:t[0];if("auto"===s)null!=t&&(o=Math.max(...t));else if(Ud(s))o=s;else if("function"===typeof s)try{null!=t&&(o=s(null===t||void 0===t?void 0:t[1]))}catch(g){}else if("string"===typeof s&&_y.test(s)){var u=_y.exec(s);if(null==u||null==t)o=void 0;else{var h=+u[1];o=t[1]+h}}else o=null===t||void 0===t?void 0:t[1];var d=[i,o];if(p_(d))return null==t?d:g_(d,t,n)}}}(t,Xk(n,i,(e=>{var t=e.flatMap(e=>[e.value,e.errorDomain]).flat(1),n=Uk(t);if(0!==n.length)return[Math.min(...n),Math.max(...n)]})(r)),e.allowDataOverflow)},pA=jm([kk,dA,$k,Gk,hA],fA),gA=[0,1],mA=(e,t,n,r,i,o,a)=>{if(null!=e&&null!=n&&0!==n.length){var{dataKey:s,type:l}=e,c=gy(t,o);return c&&null==s?ev()(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(Qk).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&$d(r))?ev()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===i?gA:a}},yA=jm([kk,Xy,Rk,Bk,F_,dk,pA],mA),vA=(t,n,r,i,o)=>{if(null!=t){var{scale:a,type:s}=t;if("auto"===a)return"radial"===n&&"radiusAxis"===o?"band":"radial"===n&&"angleAxis"===o?"linear":"category"===s&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!r)?"point":"category"===s?"band":"linear";if("string"===typeof a){var l="scale".concat(Qd(a));return l in e?l:"point"}}},bA=jm([kk,Xy,Ek,B_,dk],vA);function wA(t,n,r,i){if(null!=r&&null!=i){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(i);var o=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(Qd(t));return n in e?e[n]():void 0}}(n);if(null!=o){var a=o.domain(r).range(i);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-my,o=Math.max(r[0],r[1])+my,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}})(a),a}}}var xA=(e,t,n)=>{var r=Yk(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&p_(e)?D_(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&p_(e)?j_(e,t.tickCount,t.allowDecimals):void 0},SA=jm([yA,Ak,bA],xA),_A=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&p_(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],a=t[1],s=n[n.length-1];return[Math.min(i,o),Math.max(a,s)]}return t},kA=jm([kk,yA,SA,dk],_A),AA=jm(Bk,kk,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(Uk(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),EA=jm(AA,Xy,R_,Fy,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!d_(e))return 0;var o="vertical"===t?r.height:r.width;if("gap"===i)return e*o/2;if("no-gap"===i){var a=Hd(n,e*o),s=e*o/2;return s-a-(s-a)/o*a}return 0}),TA=jm(bk,(e,t)=>{var n=bk(e,t);return null==n||"string"!==typeof n.padding?0:EA(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"===typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),IA=jm(xk,(e,t)=>{var n=xk(e,t);return null==n||"string"!==typeof n.padding?0:EA(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"===typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),PA=jm([Fy,TA,Wy,Vy,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),NA=jm([Fy,Xy,IA,Wy,Vy,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),CA=(e,t,n,r)=>{var i;switch(t){case"xAxis":return PA(e,n,r);case"yAxis":return NA(e,n,r);case"zAxis":return null===(i=_k(e,n))||void 0===i?void 0:i.range;case"angleAxis":return ck(e);case"radiusAxis":return uk(e,n);default:return}},OA=jm([kk,CA],J_),LA=jm([kk,bA,kA,OA],wA);jm(Ck,dk,(e,t)=>e.flatMap(e=>{var t;return null!==(t=e.errorBars)&&void 0!==t?t:[]}).filter(e=>zk(t,e)));function DA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var jA=(e,t)=>t,MA=(e,t,n)=>n,RA=jm(Cy,jA,MA,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(DA)),FA=jm(Oy,jA,MA,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(DA)),BA=(e,t)=>({width:e.width,height:t.height}),zA=jm(Fy,bk,BA),UA=jm(Iy,Fy,RA,jA,MA,(e,t,n,r,i)=>{var o,a={};return n.forEach(n=>{var s=BA(t,n);null==o&&(o=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;a[n.id]=o-Number(l)*s.height,o+=(l?-1:1)*s.height}),a}),qA=jm(Ty,Fy,FA,jA,MA,(e,t,n,r,i)=>{var o,a={};return n.forEach(n=>{var s=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==o&&(o=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;a[n.id]=o-Number(l)*s.width,o+=(l?-1:1)*s.width}),a}),VA=jm(Fy,xk,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),WA=(e,t,n)=>{switch(t){case"xAxis":return zA(e,n).width;case"yAxis":return VA(e,n).height;default:return}},HA=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,s=gy(e,r),l=t.map(e=>e.value);return a&&s&&"category"===o&&i&&$d(l)?l:void 0}},$A=jm([Xy,Bk,kk,dk],HA),KA=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:o}=n;return!gy(e,r)||"number"!==i&&"auto"===o?void 0:t.map(e=>e.value)}},GA=jm([Xy,Bk,Ak,dk],KA),QA=(jm([Xy,(e,t,n)=>{switch(t){case"xAxis":return bk(e,n);case"yAxis":return xk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},bA,LA,$A,GA,CA,SA,dk],(e,t,n,r,i,o,a,s,l)=>{if(null==t)return null;var c=gy(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:c,niceTicks:s,range:a,realScaleType:n,scale:r}}),jm([Xy,Ak,bA,LA,SA,CA,$A,GA,dk],(e,t,n,r,i,o,a,s,l)=>{if(null!=t&&null!=r){var c=gy(e,l),{type:u,ticks:h,tickCount:d}=t,f="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,p="category"===u&&r.bandwidth?r.bandwidth()/f:0;p="angleAxis"===l&&null!=o&&o.length>=2?2*Fd(o[0]-o[1])*p:p;var g=h||i;return g?g.map((e,t)=>{var n=a?a.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}}).filter(e=>!Bd(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})):r.ticks?r.ticks(d).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:a?a[e]:e,index:t,offset:p}))}})),YA=jm([Xy,Ak,LA,CA,$A,GA,dk],(e,t,n,r,i,o,a)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var s=gy(e,a),{tickCount:l}=t,c=0;return c="angleAxis"===a&&(null===r||void 0===r?void 0:r.length)>=2?2*Fd(r[0]-r[1])*c:c,s&&o?o.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),XA=jm(kk,LA,(e,t)=>{if(null!=e&&null!=t)return gk(gk({},e),{},{scale:t})}),JA=jm([kk,bA,yA,OA],wA),ZA=(jm((e,t,n)=>_k(e,n),JA,(e,t)=>{if(null!=e&&null!=t)return gk(gk({},e),{},{scale:t})}),jm([Xy,Cy,Oy],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),eE=e=>e.options.defaultTooltipEventType,tE=e=>e.options.validateTooltipEventTypes;function nE(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function rE(e,t){return nE(t,eE(e),tE(e))}var iE=(e,t)=>{var n,r=Number(t);if(!Bd(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function oE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oE(Object(n),!0).forEach(function(t){sE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lE=(e,t,n,r)=>{if(null==t)return rm;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return rm;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var o=!0===e.settings.active;if(null!=i.index){if(o)return aE(aE({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return aE(aE({},rm),{},{coordinate:i.coordinate})},cE=(e,t)=>{var n=null===e||void 0===e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!d_(r))return n;var i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(r,i)))},uE=(e,t,n,r,i,o,a,s)=>{if(null!=o&&null!=s){var l=a[0],c=null==l?void 0:s(l.positions,o);if(null!=c)return c;var u=null===i||void 0===i?void 0:i[Number(o)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},hE=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},dE=e=>e.options.tooltipPayloadSearcher,fE=e=>e.tooltip,pE=e=>{var t=Xy(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},gE=e=>e.tooltip.settings.axisId,mE=e=>{var t=pE(e),n=gE(e);return Ak(e,t,n)},yE=jm([mE,Xy,Ek,B_,pE],vA),vE=jm([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),bE=jm([pE,gE],Tk),wE=jm([vE,mE,bE],Nk),xE=jm([wE],Dk),SE=jm([xE,c_],Mk),_E=jm([SE,mE,wE],Fk),kE=jm([mE],Yk),AE=jm([SE,wE,F_],Vk),EE=jm([AE,c_,pE],Hk),TE=jm([wE],Ok),IE=jm([SE,mE,TE,pE],Kk),PE=jm([Jk,pE,gE],Zk),NE=jm([PE,pE],oA),CE=jm([tA,pE,gE],Zk),OE=jm([CE,pE],sA),LE=jm([rA,pE,gE],Zk),DE=jm([LE,pE],cA),jE=jm([NE,DE,OE],Xk),ME=jm([mE,kE,EE,IE,jE],fA),RE=jm([mE,Xy,SE,_E,F_,pE,ME],mA),FE=jm([RE,mE,yE],xA),BE=jm([mE,RE,FE,pE],_A),zE=e=>{var t=pE(e),n=gE(e);return CA(e,t,n,!1)},UE=jm([mE,zE],J_),qE=jm([mE,yE,BE,UE],wA),VE=jm([Xy,_E,mE,pE],HA),WE=jm([Xy,_E,mE,pE],KA),HE=jm([Xy,mE,yE,qE,zE,VE,WE,pE],(e,t,n,r,i,o,a,s)=>{if(t){var{type:l}=t,c=gy(e,s);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,h="category"===l&&r.bandwidth?r.bandwidth()/u:0;return h="angleAxis"===s&&null!=i&&(null===i||void 0===i?void 0:i.length)>=2?2*Fd(i[0]-i[1])*h:h,c&&a?a.map((e,t)=>({coordinate:r(e)+h,value:e,index:t,offset:h})):r.domain().map((e,t)=>({coordinate:r(e)+h,value:o?o[e]:e,index:t,offset:h}))}}}),$E=jm([eE,tE,e=>e.tooltip.settings],(e,t,n)=>nE(n.shared,e,t)),KE=e=>e.tooltip.settings.trigger,GE=e=>e.tooltip.settings.defaultIndex,QE=jm([fE,$E,KE,GE],lE),YE=jm([QE,SE],cE),XE=jm([HE,YE],iE),JE=jm([QE],e=>{if(e)return e.dataKey}),ZE=jm([fE,$E,KE,GE],hE),eT=jm([Ty,Iy,Xy,Fy,HE,GE,ZE,dE],uE),tT=jm([QE,eT],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),nT=jm([QE],e=>e.active);function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(t){oT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aT=(e,t)=>t,sT=(e,t,n)=>n,lT=(e,t,n,r)=>r;var cT=jm(HE,e=>$m()(e,e=>e.coordinate)),uT=jm([fE,aT,sT,lT],lE),hT=jm([uT,SE],cE),dT=jm([fE,aT,sT,lT],hE),fT=jm([Ty,Iy,Xy,Fy,HE,lT,dT,dE],uE),pT=jm([uT,fT],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),gT=jm(HE,hT,iE);var mT=jm([dT,hT,c_,mE,gT,dE,aT],(e,t,n,r,i,o,a)=>{if(null!=t&&null!=o){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var h,d,f,p,g,m,{dataDefinedOnItem:y,settings:v}=n,b=function(e,t){return null!=e?e:t}(y,s),w=(d=b,f=c,p=u,Array.isArray(d)&&d&&f+p!==0?d.slice(f,p+1):d),x=null!==(h=null===v||void 0===v?void 0:v.dataKey)&&void 0!==h?h:null===r||void 0===r?void 0:r.dataKey,S=null===v||void 0===v?void 0:v.nameKey;(g=null===r||void 0===r||!r.dataKey||null!==r&&void 0!==r&&r.allowDuplicatedCategory||!Array.isArray(w)||"axis"!==a?o(w,t,l,S):function(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):Rd()(e,t))===n)}(w,r.dataKey,i),Array.isArray(g))?g.forEach(t=>{var n=iT(iT({},v),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(Ay({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:py(t.payload,t.dataKey),name:t.name}))}):e.push(Ay({tooltipEntrySettings:v,dataKey:x,payload:g,value:py(g,x),name:null!==(m=py(g,S))&&void 0!==m?m:null===v||void 0===v?void 0:v.name}));return e},[])}}),yT=jm([uT],e=>({isActive:e.active,activeIndex:e.index})),vT=jm([(e,t)=>t,Xy,hk,pE,UE,HE,cT,Fy],(e,t,n,r,i,o,a,s)=>{if(e&&t&&r&&i&&o){var l=function(e,t,n,r,i){return"horizontal"===n||"vertical"===n?e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height?{x:e,y:t}:null:r?uy({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,s);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,i)=>{var o,a=-1,s=null!==(o=null===t||void 0===t?void 0:t.length)&&void 0!==o?o:0;if(s<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,h=l>=s-1?n[0].coordinate:n[l+1].coordinate,d=void 0;if(Fd(u-c)!==Fd(h-u)){var f=[];if(Fd(h-u)===Fd(i[1]-i[0])){d=h;var p=u+i[1]-i[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{d=c;var g=h+i[1]-i[0];f[0]=Math.min(u,(g+u)/2),f[1]=Math.max(u,(g+u)/2)}var m=[Math.min(u,(d+u)/2),Math.max(u,(d+u)/2)];if(e>m[0]&&e<=m[1]||e>=f[0]&&e<=f[1]){({index:a}=n[l]);break}}else{var y=Math.min(c,h),v=Math.max(c,h);if(e>(y+u)/2&&e<=(v+u)/2){({index:a}=n[l]);break}}}else if(t)for(var b=0;b<s;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:a}=t[b]);break}return a})(c,a,o,r,i),h=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,{radius:a}=r;return dy(dy(dy({},r),ay(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,{angle:l}=r;return dy(dy(dy({},r),ay(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}})(t,o,u,l);return{activeIndex:String(u),activeCoordinate:h}}}}),bT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},wT=op("mouseClick"),xT=Jp();xT.startListening({actionCreator:wT,effect:(e,t)=>{var n=e.payload,r=vT(t.getState(),bT(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(fm({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ST=op("mouseMove"),_T=Jp();function kT(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ET(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AT(Object(n),!0).forEach(function(t){TT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_T.startListening({actionCreator:ST,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=rE(r,r.tooltip.settings.shared),o=vT(r,bT(n));"axis"===i&&(null!=(null===o||void 0===o?void 0:o.activeIndex)?t.dispatch(dm({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(um()))}});var IT=bp({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=ET(ET({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:PT,removeXAxis:NT,addYAxis:CT,removeYAxis:OT,addZAxis:LT,removeZAxis:DT,updateYAxisWidth:jT}=IT.actions,MT=IT.reducer,RT=bp({name:"graphicalItems",initialState:{countOfBars:0,cartesianItems:[],polarItems:[]},reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},removeCartesianGraphicalItem(e,t){var n=ep(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=ep(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:FT,removeBar:BT,addCartesianGraphicalItem:zT,removeCartesianGraphicalItem:UT,addPolarGraphicalItem:qT,removePolarGraphicalItem:VT}=RT.actions,WT=RT.reducer,HT=bp({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ep(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ep(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ep(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:$T,removeDot:KT,addArea:GT,removeArea:QT,addLine:YT,removeLine:XT}=HT.actions,JT=HT.reducer,ZT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},eI=bp({name:"brush",initialState:ZT,reducers:{setBrushSettings:(e,t)=>null==t.payload?ZT:t.payload}}),{setBrushSettings:tI}=eI.actions,nI=eI.reducer,rI=bp({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=ep(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:iI,setLegendSettings:oI,addLegendPayload:aI,removeLegendPayload:sI}=rI.actions,lI=rI.reducer,cI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},uI=bp({name:"rootProps",initialState:cI,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:cI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),hI=uI.reducer,{updateOptions:dI}=uI.actions,fI=bp({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:pI,removeRadiusAxis:gI,addAngleAxis:mI,removeAngleAxis:yI}=fI.actions,vI=fI.reducer,bI=bp({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:wI}=bI.actions,xI=bI.reducer,SI=op("keyDown"),_I=op("focus"),kI=Jp();kI.startListening({actionCreator:SI,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var o=Number(cE(r,SE(n))),a=HE(n);if("Enter"!==i){var s=o+("ArrowRight"===i?1:-1)*("left-to-right"===ZA(n)?1:-1);if(!(null==a||s>=a.length||s<0)){var l=fT(n,"axis","hover",String(s));t.dispatch(gm({active:!0,activeIndex:s.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=fT(n,"axis","hover",String(r.index));t.dispatch(gm({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),kI.startListening({actionCreator:_I,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=fT(n,"axis","hover",String("0"));t.dispatch(gm({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var AI=op("externalEvent"),EI=Jp();EI.startListening({actionCreator:AI,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:tT(n),activeDataKey:JE(n),activeIndex:YE(n),activeLabel:XE(n),activeTooltipIndex:YE(n),isTooltipActive:nT(n)};e.payload.handler(r,e.payload.reactEvent)}}});var TI=jm([fE],e=>e.tooltipItemPayloads),II=jm([TI,dE,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(null!=i){var{positions:o}=i;if(null!=o)return t(o,n)}}),PI=op("touchMove"),NI=Jp();NI.startListening({actionCreator:PI,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=rE(r,r.tooltip.settings.shared);if("axis"===i){var o=vT(r,bT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===o||void 0===o?void 0:o.activeIndex)&&t.dispatch(dm({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if("item"===i){var a,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(Ly),u=null!==(a=l.getAttribute(Dy))&&void 0!==a?a:void 0,h=II(t.getState(),c,u);t.dispatch(lm({activeDataKey:u,activeIndex:c,activeCoordinate:h}))}}});var CI=lf({brush:nI,cartesianAxis:MT,chartData:xm,graphicalItems:WT,layout:Tm,legend:lI,options:ng,polarAxis:vI,polarOptions:xI,referenceElements:JT,rootProps:hI,tooltip:mm});function OI(e){var{preloadedState:t,children:n,reduxStoreName:i}=e,o=qy(),a=(0,r.useRef)(null);if(o)return n;null==a.current&&(a.current=function(e){return dp({reducer:CI,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([xT.middleware,_T.middleware,kI.middleware,EI.middleware,NI.middleware]),devTools:{serialize:{replacer:kT},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(t,i));var s=Fm;return r.createElement(pg,{context:s,store:a.current},n)}var LI=e=>{var{chartData:t}=e,n=zm(),i=qy();return(0,r.useEffect)(()=>i?()=>{}:(n(vm(t)),()=>{n(vm(void 0))}),[t,n,i]),null};function DI(e){var{layout:t,width:n,height:i,margin:o}=e,a=zm(),s=qy();return(0,r.useEffect)(()=>{s||(a(km(t)),a(Am({width:n,height:i})),a(_m(o)))},[a,s,t,n,i,o]),null}function jI(e){var t=zm();return(0,r.useEffect)(()=>{t(dI(e))},[t,e]),null}function MI(e){var t=zm();return(0,r.useEffect)(()=>{t(wI(e))},[t,e]),null}var RI=n(2086),FI=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BI=["points","pathLength"],zI={svg:["viewBox","children"],polygon:BI,polyline:BI},UI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qI=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];UI.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(o,t,n))}),r},VI=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",WI=null,HI=null,$I=e=>{if(e===WI&&Array.isArray(HI))return HI;var t=[];return r.Children.forEach(e,e=>{Gd(e)||((0,RI.isFragment)(e)?t=t.concat($I(e.props.children)):t.push(e))}),HI=t,WI=e,t};function KI(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>VI(e)):[VI(t)],$I(e).forEach(e=>{var t=Rd()(e,"type.displayName")||Rd()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var GI=(e,t,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,r.isValidElement)(e)&&(i=e.props),"object"!==typeof i&&"function"!==typeof i)return null;var o={};return Object.keys(i).forEach(e=>{var r;((e,t,n,r)=>{var i,o=null!==(i=r&&(null===zI||void 0===zI?void 0:zI[r]))&&void 0!==i?i:[];return t.startsWith("data-")||"function"!==typeof e&&(r&&o.includes(t)||FI.includes(t))||n&&UI.includes(t)})(null===(r=i)||void 0===r?void 0:r[e],e,t,n)&&(o[e]=i[e])}),o},QI=()=>Wm(e=>e.rootProps.accessibilityLayer),YI=["children","width","height","viewBox","className","style","title","desc"];function XI(){return XI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XI.apply(null,arguments)}var JI=(0,r.forwardRef)((e,t)=>{var{children:n,width:i,height:o,viewBox:a,className:s,style:l,title:c,desc:u}=e,h=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,YI),d=a||{width:i,height:o,x:0,y:0},f=Ho("recharts-surface",s);return r.createElement("svg",XI({},GI(h,!0,"svg"),{className:f,width:i,height:o,style:l,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),r.createElement("title",null,c),r.createElement("desc",null,u),n)}),ZI=["children"];function eP(){return eP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eP.apply(null,arguments)}var tP={width:"100%",height:"100%"},nP=(0,r.forwardRef)((e,t)=>{var n=Gy(),i=Qy(),o=QI();if(!f_(n)||!f_(i))return null;var a,s,{children:l,otherAttributes:c,title:u,desc:h}=e;return a="number"===typeof c.tabIndex?c.tabIndex:o?0:void 0,s="string"===typeof c.role?c.role:o?"application":void 0,r.createElement(JI,eP({},c,{title:u,desc:h,role:s,tabIndex:a,width:n,height:i,style:tP,ref:t}),l)}),rP=e=>{var{children:t}=e,n=Wm(Wy);if(!n)return null;var{width:i,height:o,y:a,x:s}=n;return r.createElement(JI,{width:i,height:o,x:s,y:a},t)},iP=(0,r.forwardRef)((e,t)=>{var{children:n}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ZI);return qy()?r.createElement(rP,null,n):r.createElement(nP,eP({ref:t},i),n)});var oP=new(n(8499)),aP="recharts.syncEvent.tooltip",sP="recharts.syncEvent.brush";function lP(e){return e.tooltip.syncInteraction}var cP=()=>{};function uP(){var e=zm();(0,r.useEffect)(()=>{e(rg())},[e]),function(){var e=Wm(z_),t=Wm(q_),n=zm(),i=Wm(U_),o=Wm(HE),a=Jy(),s=Hy(),l=Wm(e=>e.rootProps.className);(0,r.useEffect)(()=>{if(null==e)return cP;var r=(r,l,c)=>{if(t!==c&&e===r)if("index"!==i){if(null!=o){var u;if("function"===typeof i){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},d=i(o,h);u=o[d]}else"value"===i&&(u=o.find(e=>String(e.value)===l.payload.label));var{coordinate:f}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=f&&null!=s){var{x:p,y:g}=f,m=Math.min(p,s.x+s.width),y=Math.min(g,s.y+s.height),v={x:"horizontal"===a?u.coordinate:m,y:"horizontal"===a?y:u.coordinate},b=pm({active:l.payload.active,coordinate:v,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});n(b)}else n(pm({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else n(l)};return oP.on(aP,r),()=>{oP.off(aP,r)}},[l,n,t,e,i,o,a,s])}(),function(){var e=Wm(z_),t=Wm(q_),n=zm();(0,r.useEffect)(()=>{if(null==e)return cP;var r=(r,i,o)=>{t!==o&&e===r&&n(bm(i))};return oP.on(sP,r),()=>{oP.off(sP,r)}},[n,t,e])}()}function hP(e,t,n,i,o,a){var s=Wm(n=>((e,t,n)=>{if(null!=t){var r=fE(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(n,e,t)),l=Wm(q_),c=Wm(z_),u=Wm(U_),h=Wm(lP),d=null===h||void 0===h?void 0:h.active;(0,r.useEffect)(()=>{if(!d&&null!=c&&null!=l){var e=pm({active:a,coordinate:n,dataKey:s,index:o,label:"number"===typeof i?String(i):i});oP.emit(aP,c,e,l)}},[d,n,s,o,i,l,c,u,a])}var dP=(0,r.createContext)(null),fP=(0,r.createContext)(null);function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(t){mP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yP=(0,r.forwardRef)((e,t)=>{var{children:n,className:i,height:o,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:h,onMouseMove:d,onMouseUp:f,onTouchEnd:p,onTouchMove:g,onTouchStart:m,style:y,width:v}=e,b=zm(),[w,x]=(0,r.useState)(null),[S,_]=(0,r.useState)(null);uP();var k=function(){var e=zm(),[t,n]=(0,r.useState)(null),i=Wm(Py);return(0,r.useEffect)(()=>{if(null!=t){var n=t.getBoundingClientRect().width/t.offsetWidth;d_(n)&&n!==i&&e(Em(n))}},[t,e,i]),n}(),A=(0,r.useCallback)(e=>{k(e),"function"===typeof t&&t(e),x(e),_(e)},[k,t,x,_]),E=(0,r.useCallback)(e=>{b(wT(e)),b(AI({handler:a,reactEvent:e}))},[b,a]),T=(0,r.useCallback)(e=>{b(ST(e)),b(AI({handler:u,reactEvent:e}))},[b,u]),I=(0,r.useCallback)(e=>{b(um()),b(AI({handler:h,reactEvent:e}))},[b,h]),P=(0,r.useCallback)(e=>{b(ST(e)),b(AI({handler:d,reactEvent:e}))},[b,d]),N=(0,r.useCallback)(()=>{b(_I())},[b]),C=(0,r.useCallback)(e=>{b(SI(e.key))},[b]),O=(0,r.useCallback)(e=>{b(AI({handler:s,reactEvent:e}))},[b,s]),L=(0,r.useCallback)(e=>{b(AI({handler:l,reactEvent:e}))},[b,l]),D=(0,r.useCallback)(e=>{b(AI({handler:c,reactEvent:e}))},[b,c]),j=(0,r.useCallback)(e=>{b(AI({handler:f,reactEvent:e}))},[b,f]),M=(0,r.useCallback)(e=>{b(AI({handler:m,reactEvent:e}))},[b,m]),R=(0,r.useCallback)(e=>{b(PI(e)),b(AI({handler:g,reactEvent:e}))},[b,g]),F=(0,r.useCallback)(e=>{b(AI({handler:p,reactEvent:e}))},[b,p]);return r.createElement(dP.Provider,{value:w},r.createElement(fP.Provider,{value:S},r.createElement("div",{className:Ho("recharts-wrapper",i),style:gP({position:"relative",cursor:"default",width:v,height:o},y),role:"application",onClick:E,onContextMenu:O,onDoubleClick:L,onFocus:N,onKeyDown:C,onMouseDown:D,onMouseEnter:T,onMouseLeave:I,onMouseMove:P,onMouseUp:j,onTouchEnd:F,onTouchMove:R,onTouchStart:M,ref:A},n)))}),vP=(0,r.createContext)(void 0),bP=e=>{var{children:t}=e,[n]=(0,r.useState)("".concat(Wd("recharts"),"-clip")),i=Ky();if(null==i)return null;var{left:o,top:a,height:s,width:l}=i;return r.createElement(vP.Provider,{value:n},r.createElement("defs",null,r.createElement("clipPath",{id:n},r.createElement("rect",{x:o,y:a,height:s,width:l}))),t)},wP=["children","className","width","height","style","compact","title","desc"];var xP=(0,r.forwardRef)((e,t)=>{var{children:n,className:i,width:o,height:a,style:s,compact:l,title:c,desc:u}=e,h=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,wP),d=GI(h,!1);return l?r.createElement(iP,{otherAttributes:d,title:c,desc:u},n):r.createElement(yP,{className:i,style:s,width:o,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},r.createElement(iP,{otherAttributes:d,title:c,desc:u,ref:t},r.createElement(bP,null,n)))});function SP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _P(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kP(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SP(Object(n),!0).forEach(function(t){_P(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var AP=["width","height","layout"];function EP(){return EP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EP.apply(null,arguments)}var TP={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},IP=(0,r.forwardRef)(function(e,t){var n,i=kP(e.categoricalChartProps,TP),{width:o,height:a,layout:s}=i,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,AP);if(!f_(o)||!f_(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:d}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:d,eventEmitter:void 0};return r.createElement(OI,{preloadedState:{options:f},reduxStoreName:null!==(n=i.id)&&void 0!==n?n:c},r.createElement(LI,{chartData:i.data}),r.createElement(DI,{width:o,height:a,layout:s,margin:i.margin}),r.createElement(jI,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),r.createElement(MI,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),r.createElement(xP,EP({width:o,height:a},l,{ref:t})))}),PP=["item"],NP={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},CP=(0,r.forwardRef)((e,t)=>{var n=kP(e,NP);return r.createElement(IP,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:PP,tooltipPayloadSearcher:eg,categoricalChartProps:n,ref:t})}),OP=e=>e.graphicalItems.polarItems,LP=jm([dk,fk],Tk),DP=jm([OP,kk,LP],Nk),jP=jm([DP],Dk),MP=jm([jP,u_],Mk),RP=jm([MP,kk,DP],Fk),FP=jm([MP,kk,DP],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:py(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:py(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),BP=()=>{},zP=jm([kk,dA,BP,FP,BP],fA),UP=jm([kk,Xy,MP,RP,F_,dk,zP],mA),qP=jm([UP,kk,bA],xA);jm([kk,UP,qP,dk],_A);function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VP(Object(n),!0).forEach(function(t){HP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $P=(e,t)=>t,KP=[],GP=(e,t,n)=>0===(null===n||void 0===n?void 0:n.length)?KP:n,QP=jm([u_,$P,GP],(e,t,n)=>{var r,{chartData:i}=e;if((r=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:i)&&r.length||null==n||(r=n.map(e=>WP(WP({},t.presentationProps),e.props))),null!=r)return r}),YP=jm([QP,$P,GP],(e,t,n)=>{if(null!=e)return e.map((e,r)=>{var i,o,a=py(e,t.nameKey,t.name);return o=null!==n&&void 0!==n&&null!==(i=n[r])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?n[r].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:Ey(a,t.dataKey),color:o,payload:e,type:t.legendType}})}),XP=jm([OP,$P],(e,t)=>{if(e.some(e=>"pie"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),JP=jm([QP,XP,GP,Fy],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:i,displayedData:o,cells:a,offset:s}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:h,nameKey:d,tooltipType:f}=i,p=Math.abs(i.minAngle),g=gL(c,u),m=Math.abs(g),y=o.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,v=o.filter(e=>0!==py(e,h,0)).length,b=m-v*p-(m>=360?v:v-1)*y,w=o.reduce((e,t)=>{var n=py(t,h,0);return e+(Ud(n)?n:0)},0);w>0&&(n=o.map((e,t)=>{var n,o=py(e,h,0),u=py(e,d,t),m=pL(i,s,e),v=(Ud(o)?o:0)/w,x=lL(lL({},e),a&&a[t]&&a[t].props),S=(n=t?r.endAngle+Fd(g)*y*(0!==o?1:0):c)+Fd(g)*((0!==o?p:0)+v*b),_=(n+S)/2,k=(m.innerRadius+m.outerRadius)/2,A=[{name:u,value:o,payload:x,dataKey:h,type:f}],E=ay(m.cx,m.cy,k,_);return r=lL(lL(lL(lL({},i.presentationProps),{},{percent:v,cornerRadius:l,name:u,tooltipPayload:A,midAngle:_,middleRadius:k,tooltipPosition:E},x),m),{},{value:py(e,h),startAngle:n,endAngle:S,payload:x,paddingAngle:Fd(g)*y})}));return n}({offset:r,pieSettings:t,displayedData:e,cells:n})});function ZP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZP(Object(n),!0).forEach(function(t){tN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nN(e){var t=zm();return(0,r.useEffect)(()=>{var n=eN(eN({},e),{},{stackId:by(e.stackId)});return t(zT(n)),()=>{t(UT(n))}},[t,e]),null}function rN(e){var t=zm();return(0,r.useEffect)(()=>(t(qT(e)),()=>{t(VT(e))}),[t,e]),null}var iN=["children","className"];function oN(){return oN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oN.apply(null,arguments)}var aN=r.forwardRef((e,t)=>{var{children:n,className:i}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,iN),a=Ho("recharts-layer",i);return r.createElement("g",oN({className:a},GI(o,!0),{ref:t}),n)});function sN(){}function lN(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function cN(e){this._context=e}function uN(e){this._context=e}function hN(e){this._context=e}cN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},uN.prototype={areaStart:sN,areaEnd:sN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},hN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class dN{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function fN(e){this._context=e}function pN(e){this._context=e}function gN(e){return new pN(e)}function mN(e){return e<0?-1:1}function yN(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(mN(o)+mN(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function vN(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function bN(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function wN(e){this._context=e}function xN(e){this._context=new SN(e)}function SN(e){this._context=e}function _N(e){this._context=e}function kN(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function AN(e,t){this._context=e,this._t=t}fN.prototype={areaStart:sN,areaEnd:sN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},pN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},wN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bN(this,this._t0,vN(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bN(this,vN(this,n=yN(this,e,t)),n);break;default:bN(this,this._t0,n=yN(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(xN.prototype=Object.create(wN.prototype)).point=function(e,t){wN.prototype.point.call(this,t,e)},SN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},_N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=kN(e),i=kN(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},AN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const EN=Math.PI,TN=2*EN,IN=1e-6,PN=TN-IN;function NN(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class CN{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?NN:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return NN;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,u=a-t,h=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(h>IN)if(Math.abs(u*s-l*c)>IN&&i){let d=n-o,f=r-a,p=s*s+l*l,g=d*d+f*f,m=Math.sqrt(p),y=Math.sqrt(h),v=i*Math.tan((EN-Math.acos((p+h-g)/(2*m*y)))/2),b=v/y,w=v/m;Math.abs(b-1)>IN&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*d>c*f)},${this._x1=e+w*s},${this._y1=t+w*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^o,h=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>IN||Math.abs(this._y1-c)>IN)&&this._append`L${l},${c}`,n&&(h<0&&(h=h%TN+TN),h>PN?this._append`A${n},${n},0,1,${u},${e-a},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:h>IN&&this._append`A${n},${n},0,${+(h>=EN)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function ON(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new CN(t)}function LN(e){return e[0]}function DN(e){return e[1]}function jN(e,t){var n=Xm(!0),r=null,i=gN,o=null,a=ON(s);function s(s){var l,c,u,h=(s=Ym(s)).length,d=!1;for(null==r&&(o=i(u=a())),l=0;l<=h;++l)!(l<h&&n(c=s[l],l,s))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(c,l,s),+t(c,l,s));if(u)return o=null,u+""||null}return e="function"===typeof e?e:void 0===e?LN:Xm(e),t="function"===typeof t?t:void 0===t?DN:Xm(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:Xm(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:Xm(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:Xm(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function MN(e,t,n){var r=null,i=Xm(!0),o=null,a=gN,s=null,l=ON(c);function c(c){var u,h,d,f,p,g=(c=Ym(c)).length,m=!1,y=new Array(g),v=new Array(g);for(null==o&&(s=a(p=l())),u=0;u<=g;++u){if(!(u<g&&i(f=c[u],u,c))===m)if(m=!m)h=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=u-1;d>=h;--d)s.point(y[d],v[d]);s.lineEnd(),s.areaEnd()}m&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return jN().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?LN:Xm(+e),t="function"===typeof t?t:Xm(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?DN:Xm(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Xm(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Xm(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Xm(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Xm(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Xm(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Xm(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:Xm(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RN.apply(null,arguments)}function FN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FN(Object(n),!0).forEach(function(t){zN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UN={curveBasisClosed:function(e){return new uN(e)},curveBasisOpen:function(e){return new hN(e)},curveBasis:function(e){return new cN(e)},curveBumpX:function(e){return new dN(e,!0)},curveBumpY:function(e){return new dN(e,!1)},curveLinearClosed:function(e){return new fN(e)},curveLinear:gN,curveMonotoneX:function(e){return new wN(e)},curveMonotoneY:function(e){return new xN(e)},curveNatural:function(e){return new _N(e)},curveStep:function(e){return new AN(e,.5)},curveStepAfter:function(e){return new AN(e,1)},curveStepBefore:function(e){return new AN(e,0)}},qN=e=>d_(e.x)&&d_(e.y),VN=e=>e.x,WN=e=>e.y,HN=e=>{var t,{type:n="linear",points:r=[],baseLine:i,layout:o,connectNulls:a=!1}=e,s=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(Qd(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?UN[n]||gN:UN["".concat(n).concat("vertical"===t?"Y":"X")]})(n,o),l=a?r.filter(qN):r;if(Array.isArray(i)){var c=a?i.filter(e=>qN(e)):i,u=l.map((e,t)=>BN(BN({},e),{},{base:c[t]}));return t="vertical"===o?MN().y(WN).x1(VN).x0(e=>e.base.x):MN().x(VN).y1(WN).y0(e=>e.base.y),t.defined(qN).curve(s),t(u)}return(t="vertical"===o&&Ud(i)?MN().y(WN).x1(VN).x0(i):Ud(i)?MN().x(VN).y1(WN).y0(i):jN().x(VN).y(WN)).defined(qN).curve(s),t(l)},$N=e=>{var{className:t,points:n,path:i,pathRef:o}=e;if((!n||!n.length)&&!i)return null;var a=n&&n.length?HN(e):i;return r.createElement("path",RN({},GI(e,!1),((e,t)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,r.isValidElement)(e)&&(n=e.props),"object"!==typeof n&&"function"!==typeof n)return null;var i={};return Object.keys(n).forEach(e=>{UI.includes(e)&&(i[e]=t||(t=>n[e](n,t)))}),i})(e),{className:Ho("recharts-curve",t),d:null===a?void 0:a,ref:o}))},KN=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function GN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GN(Object(n),!0).forEach(function(t){YN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XN={widthCache:{},cacheCount:0},JN={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZN="recharts_measurement_span";var eC=function(e){if(void 0===e||null===e||KN)return{width:0,height:0};var t=function(e){var t=QN({},e);return Object.keys(t).forEach(e=>{t[e]||delete t[e]}),t}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=JSON.stringify({text:e,copyStyle:t});if(XN.widthCache[n])return XN.widthCache[n];try{var r=document.getElementById(ZN);r||((r=document.createElement("span")).setAttribute("id",ZN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r));var i=QN(QN({},JN),t);Object.assign(r.style,i),r.textContent="".concat(e);var o=r.getBoundingClientRect(),a={width:o.width,height:o.height};return XN.widthCache[n]=a,++XN.cacheCount>2e3&&(XN.cacheCount=0,XN.widthCache={}),a}catch(s){return{width:0,height:0}}},tC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rC=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iC=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},aC=Object.keys(oC),sC="NaN";class lC{static parse(e){var t,[,n,r]=null!==(t=iC.exec(e))&&void 0!==t?t:[];return new lC(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,Bd(e)&&(this.unit=""),""===t||rC.test(t)||(this.num=NaN,this.unit=""),aC.includes(t)&&(this.num=function(e,t){return e*oC[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new lC(NaN,""):new lC(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new lC(NaN,""):new lC(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new lC(NaN,""):new lC(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new lC(NaN,""):new lC(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Bd(this.num)}}function cC(e){if(e.includes(sC))return sC;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=null!==(n=tC.exec(t))&&void 0!==n?n:[],a=lC.parse(null!==r&&void 0!==r?r:""),s=lC.parse(null!==o&&void 0!==o?o:""),l="*"===i?a.multiply(s):a.divide(s);if(l.isNaN())return sC;t=t.replace(tC,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,h,d]=null!==(c=nC.exec(t))&&void 0!==c?c:[],f=lC.parse(null!==u&&void 0!==u?u:""),p=lC.parse(null!==d&&void 0!==d?d:""),g="+"===h?f.add(p):f.subtract(p);if(g.isNaN())return sC;t=t.replace(nC,g.toString())}return t}var uC=/\(([^()]*)\)/;function hC(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=uC.exec(n));){var[,r]=t;n=n.replace(uC,cC(r))}return n}(t),t=cC(t)}function dC(e){var t=function(e){try{return hC(e)}catch(t){return sC}}(e.slice(5,-1));return t===sC?"":t}var fC=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pC=["dx","dy","angle","className","breakAll"];function gC(){return gC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gC.apply(null,arguments)}function mC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var yC=/[ \f\n\r\t\v\u2028\u2029]+/,vC=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return Gd(t)||(i=n?t.toString().split(""):t.toString().split(yC)),{wordsWithComputedWidth:i.map(e=>({word:e,width:eC(e,r).width})),spaceWidth:n?0:eC("\xa0",r).width}}catch(o){return null}},bC=e=>[{words:Gd(e)?[]:e.toString().split(yC)}],wC=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=e;if((t||n)&&!KN){var s=vC({breakAll:o,children:r,style:i});if(!s)return bC(r);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,n,r,i)=>{var{maxLines:o,children:a,style:s,breakAll:l}=e,c=Ud(o),u=a,h=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:o,width:a}=t,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e},[])},d=h(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||i)return d;if(!(d.length>o||f(d).width>Number(r)))return d;for(var p,g=e=>{var t=u.slice(0,e),n=vC({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=h(n);return[i.length>o||f(i).width>Number(r),i]},m=0,y=u.length-1,v=0;m<=y&&v<=u.length-1;){var b=Math.floor((m+y)/2),w=b-1,[x,S]=g(w),[_]=g(b);if(x||_||(m=b+1),x&&_&&(y=b-1),!x&&_){p=S;break}v++}return p||d})({breakAll:o,children:r,maxLines:a,style:i},l,c,t,n)}return bC(r)},xC="#808080",SC=(0,r.forwardRef)((e,t)=>{var{x:n=0,y:i=0,lineHeight:o="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=xC}=e,h=mC(e,fC),d=(0,r.useMemo)(()=>wC({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:s,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,s,h.style,h.width]),{dx:f,dy:p,angle:g,className:m,breakAll:y}=h,v=mC(h,pC);if(!qd(n)||!qd(i))return null;var b,w=n+(Ud(f)?f:0),x=i+(Ud(p)?p:0);switch(c){case"start":b=dC("calc(".concat(a,")"));break;case"middle":b=dC("calc(".concat((d.length-1)/2," * -").concat(o," + (").concat(a," / 2))"));break;default:b=dC("calc(".concat(d.length-1," * -").concat(o,")"))}var S=[];if(s){var _=d[0].width,{width:k}=h;S.push("scale(".concat(Ud(k)?k/_:1,")"))}return g&&S.push("rotate(".concat(g,", ").concat(w,", ").concat(x,")")),S.length&&(v.transform=S.join(" ")),r.createElement("text",gC({},GI(v,!0),{ref:t,x:w,y:x,className:Ho("recharts-text",m),textAnchor:l,fill:u.includes("url")?xC:u}),d.map((e,t)=>{var n=e.words.join(y?"":" ");return r.createElement("tspan",{x:w,dy:0===t?b:o,key:"".concat(n,"-").concat(t)},n)}))});SC.displayName="Text";var _C=e=>null;_C.displayName="Cell";var kC=n(9397),AC=n.n(kC),EC=n(4250),TC=n.n(EC);var IC=1e-4,PC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],NC=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),CC=(e,t)=>n=>{var r=PC(e,t);return NC(r,n)},OC=function(){for(var e,t,n,r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];if(1===o.length)switch(o[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var s=o[0].split("(");"cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length&&([e,n,t,r]=s[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===o.length&&([e,n,t,r]=o);var l,c,u=CC(e,t),h=CC(n,r),d=(l=e,c=t,e=>{var t=[...PC(l,c).map((e,t)=>e*t).slice(1),0];return NC(t,e)}),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=u(n)-t,o=d(n);if(Math.abs(i-t)<IC||o<IC)return h(n);n=f(n-i/o)}return h(n)};return p.isStepper=!1,p},LC=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OC(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,o)=>{var a=o+(-(e-i)*t-o*n)*r/1e3,s=o*r/1e3+e;return Math.abs(s-i)<IC&&Math.abs(a)<IC?[i,0]:[s,a]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return OC(e)}return"function"===typeof e?e:null};function DC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DC(Object(n),!0).forEach(function(t){MC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var RC=(e,t)=>Object.keys(t).reduce((n,r)=>jC(jC({},n),{},{[r]:e(r,t[r])}),{});function FC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FC(Object(n),!0).forEach(function(t){zC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UC=(e,t,n)=>e+(t-e)*n,qC=e=>{var{from:t,to:n}=e;return t!==n},VC=(e,t,n)=>{var r=RC((t,n)=>{if(qC(n)){var[r,i]=e(n.from,n.to,n.velocity);return BC(BC({},n),{},{from:r,velocity:i})}return n},t);return n<1?RC((e,t)=>qC(t)?BC(BC({},t),{},{velocity:UC(t.velocity,r[e].velocity,n),from:UC(t.from,r[e].from,n)}):t,t):VC(e,r,n-1)};function WC(e,t,n,r,i,o){var a,s=r.reduce((n,r)=>BC(BC({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{a||(a=r);var u=(r-a)/n.dt;s=VC(n,s,u),i(BC(BC(BC({},e),t),RC((e,t)=>t.from,s))),a=r,Object.values(s).filter(qC).length&&(l=o.setTimeout(c))};return()=>(l=o.setTimeout(c),()=>{l()})}const HC=(e,t,n,r,i,o)=>{var a,s,l=(a=e,s=t,[Object.keys(a),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?WC(e,t,n,l,i,o):function(e,t,n,r,i,o,a){var s,l=null,c=i.reduce((n,r)=>BC(BC({},n),{},{[r]:[e[r],t[r]]}),{}),u=i=>{s||(s=i);var h=(i-s)/r,d=RC((e,t)=>UC(...t,n(h)),c);if(o(BC(BC(BC({},e),t),d)),h<1)l=a.setTimeout(u);else{var f=RC((e,t)=>UC(...t,n(1)),c);o(BC(BC(BC({},e),t),f))}};return()=>(l=a.setTimeout(u),()=>{l()})}(e,t,n,r,l,i,o)};class $C{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=o=>{o-n>=t?e(o):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{cancelAnimationFrame(r)}}}var KC=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function GC(){return GC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GC.apply(null,arguments)}function QC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QC(Object(n),!0).forEach(function(t){XC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JC(){return function(e){var t=()=>null,n=!1,r=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,[s,...l]=a;return"number"===typeof s?void(r=e.setTimeout(i.bind(null,l),s)):(i(s),void(r=e.setTimeout(i.bind(null,l))))}"object"===typeof o&&t(o),"function"===typeof o&&o()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new $C)}class ZC extends r.PureComponent{constructor(e,t){super(e,t),XC(this,"mounted",!1),XC(this,"manager",null),XC(this,"stopJSAnimation",null),XC(this,"unSubscribe",null);var{isActive:n,attributeName:r,from:i,to:o,children:a,duration:s,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||s<=0)return this.state={style:{}},void("function"===typeof a&&(this.state={style:o}));if(i){if("function"===typeof a)return void(this.state={style:i});this.state={style:r?{[r]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:n,attributeName:r,shouldReAnimate:i,to:o,from:a}=this.props,{style:s}=this.state;if(n)if(t){if(!(TC()(e.to,o)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||i?a:e.to;if(this.state&&s){var u={style:r?{[r]:c}:c};(r&&s[r]!==c||!r&&s!==c)&&this.setState(u)}this.runAnimation(YC(YC({},this.props),{},{from:c,begin:0}))}}else{var h={style:r?{[r]:o}:o};this.state&&s&&(r&&s[r]!==o||!r&&s!==o)&&this.setState(h)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:n,duration:r,easing:i,begin:o,onAnimationEnd:a,onAnimationStart:s}=e,l=HC(t,n,LC(i),r,this.changeStyle,this.manager.getTimeoutController());this.manager.start([s,o,()=>{this.stopJSAnimation=l()},r,a])}runAnimation(e){var{begin:t,duration:n,attributeName:r,to:i,easing:o,onAnimationStart:a,onAnimationEnd:s,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof l&&"spring"!==o){var c=r?{[r]:i}:i,u=((e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","))(Object.keys(c),n,o);this.manager.start([a,t,YC(YC({},c),{},{transition:u}),n,s])}else this.runJSAnimation(e)}render(){var e=this.props,{children:t,begin:n,duration:i,attributeName:o,easing:a,isActive:s,from:l,to:c,canBegin:u,onAnimationEnd:h,shouldReAnimate:d,onAnimationReStart:f,animationManager:p}=e,g=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,KC),m=r.Children.count(t),y=this.state.style;if("function"===typeof t)return t(y);if(!s||0===m||i<=0)return t;var v=e=>{var{style:t={},className:n}=e.props;return(0,r.cloneElement)(e,YC(YC({},g),{},{style:YC(YC({},t),y),className:n}))};return 1===m?v(r.Children.only(t)):r.createElement("div",null,r.Children.map(t,e=>v(e)))}}XC(ZC,"displayName","Animate"),XC(ZC,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var eO=(0,r.createContext)(null);function tO(e){var t,n,i=(0,r.useContext)(eO);return r.createElement(ZC,GC({},e,{animationManager:null!==(t=null!==(n=e.animationManager)&&void 0!==n?n:i)&&void 0!==t?t:JC()}))}function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nO.apply(null,arguments)}var rO=(e,t,n,r,i)=>{var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],h=0;h<4;h++)u[h]=i[h]>a?a:i[h];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var d=Math.min(a,i);o="M ".concat(e,",").concat(t+s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+l*d,",").concat(t,"\n            L ").concat(e+n-l*d,",").concat(t,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*d,"\n            L ").concat(e+n,",").concat(t+r-s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+n-l*d,",").concat(t+r,"\n            L ").concat(e+l*d,",").concat(t+r,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*d," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},iO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oO=e=>{var t=kP(e,iO),n=(0,r.useRef)(null),[i,o]=(0,r.useState)(-1);(0,r.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}},[]);var{x:a,y:s,width:l,height:c,radius:u,className:h}=t,{animationEasing:d,animationDuration:f,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:m}=t;if(a!==+a||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var y=Ho("recharts-rectangle",h);return m?r.createElement(tO,{canBegin:i>0,from:{width:l,height:c,x:a,y:s},to:{width:l,height:c,x:a,y:s},duration:f,animationEasing:d,isActive:m},e=>{var{width:o,height:a,x:s,y:l}=e;return r.createElement(tO,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,isActive:g,easing:d},r.createElement("path",nO({},GI(t,!0),{className:y,d:rO(s,l,o,a,u),ref:n})))}):r.createElement("path",nO({},GI(t,!0),{className:y,d:rO(a,s,l,c,u)}))};function aO(){return aO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aO.apply(null,arguments)}var sO=(e,t,n,r,i)=>{var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},lO={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cO=e=>{var t=kP(e,lO),n=(0,r.useRef)(),[i,o]=(0,r.useState)(-1);(0,r.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}},[]);var{x:a,y:s,upperWidth:l,lowerWidth:c,height:u,className:h}=t,{animationEasing:d,animationDuration:f,animationBegin:p,isUpdateAnimationActive:g}=t;if(a!==+a||s!==+s||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var m=Ho("recharts-trapezoid",h);return g?r.createElement(tO,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:u,x:a,y:s},to:{upperWidth:l,lowerWidth:c,height:u,x:a,y:s},duration:f,animationEasing:d,isActive:g},e=>{var{upperWidth:o,lowerWidth:a,height:s,x:l,y:c}=e;return r.createElement(tO,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:f,easing:d},r.createElement("path",aO({},GI(t,!0),{className:m,d:sO(l,c,o,a,s),ref:n})))}):r.createElement("g",null,r.createElement("path",aO({},GI(t,!0),{className:m,d:sO(a,s,l,c,u)})))};function uO(){return uO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uO.apply(null,arguments)}var hO=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:s,cornerIsExternal:l}=e,c=s*(a?1:-1)+r,u=Math.asin(s/c)/iy,h=l?i:i+o*u,d=l?i-o*u:i;return{center:ay(t,n,c,h),circleTangency:ay(t,n,r,h),lineTangency:ay(t,n,c*Math.cos(u*iy),d),theta:u}},dO=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=e,s=((e,t)=>Fd(t-e)*Math.min(Math.abs(t-e),359.999))(o,a),l=o+s,c=ay(t,n,i,o),u=ay(t,n,i,l),h="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(o>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var d=ay(t,n,r,o),f=ay(t,n,r,l);h+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(o<=l),",\n            ").concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(t,",").concat(n," Z");return h},fO={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pO=e=>{var t=kP(e,fO),{cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:h,className:d}=t;if(a<o||u===h)return null;var f,p=Ho("recharts-sector",d),g=a-o,m=Hd(s,g,0,!0);return f=m>0&&Math.abs(u-h)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=Fd(c-l),{circleTangency:h,lineTangency:d,theta:f}=hO({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),{circleTangency:p,lineTangency:g,theta:m}=hO({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),y=s?Math.abs(l-c):Math.abs(l-c)-f-m;if(y<0)return a?"M ".concat(d.x,",").concat(d.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):dO({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var v="M ".concat(d.x,",").concat(d.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var{circleTangency:b,lineTangency:w,theta:x}=hO({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),{circleTangency:S,lineTangency:_,theta:k}=hO({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),A=s?Math.abs(l-c):Math.abs(l-c)-x-k;if(A<0&&0===o)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+="L".concat(_.x,",").concat(_.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,"Z")}else v+="L".concat(t,",").concat(n,"Z");return v})({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:h}):dO({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:h}),r.createElement("path",uO({},GI(t,!0),{className:p,d:f}))};Math.abs,Math.atan2;const gO=Math.cos,mO=(Math.max,Math.min,Math.sin),yO=Math.sqrt,vO=Math.PI,bO=2*vO;const wO={draw(e,t){const n=yO(t/vO);e.moveTo(n,0),e.arc(0,0,n,0,bO)}},xO={draw(e,t){const n=yO(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},SO=yO(1/3),_O=2*SO,kO={draw(e,t){const n=yO(t/_O),r=n*SO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},AO={draw(e,t){const n=yO(t),r=-n/2;e.rect(r,r,n,n)}},EO=mO(vO/10)/mO(7*vO/10),TO=mO(bO/10)*EO,IO=-gO(bO/10)*EO,PO={draw(e,t){const n=yO(.8908130915292852*t),r=TO*n,i=IO*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=bO*o/5,a=gO(t),s=mO(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},NO=yO(3),CO={draw(e,t){const n=-yO(t/(3*NO));e.moveTo(0,2*n),e.lineTo(-NO*n,-n),e.lineTo(NO*n,-n),e.closePath()}},OO=-.5,LO=yO(3)/2,DO=1/yO(12),jO=3*(DO/2+1),MO={draw(e,t){const n=yO(t/jO),r=n/2,i=n*DO,o=r,a=n*DO+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(OO*r-LO*i,LO*r+OO*i),e.lineTo(OO*o-LO*a,LO*o+OO*a),e.lineTo(OO*s-LO*l,LO*s+OO*l),e.lineTo(OO*r+LO*i,OO*i-LO*r),e.lineTo(OO*o+LO*a,OO*a-LO*o),e.lineTo(OO*s+LO*l,OO*l-LO*s),e.closePath()}};yO(3),yO(3);var RO=["type","size","sizeType"];function FO(){return FO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FO.apply(null,arguments)}function BO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BO(Object(n),!0).forEach(function(t){UO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qO={symbolCircle:wO,symbolCross:xO,symbolDiamond:kO,symbolSquare:AO,symbolStar:PO,symbolTriangle:CO,symbolWye:MO},VO=Math.PI/180,WO=e=>{var{type:t="circle",size:n=64,sizeType:i="area"}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,RO),a=zO(zO({},o),{},{type:t,size:n,sizeType:i}),{className:s,cx:l,cy:c}=a,u=GI(a,!0);return l===+l&&c===+c&&n===+n?r.createElement("path",FO({},u,{className:Ho("recharts-symbols",s),transform:"translate(".concat(l,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat(Qd(e));return qO[t]||wO})(t),r=function(e,t){let n=null,r=ON(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:Xm(e||wO),t="function"===typeof t?t:Xm(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:Xm(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:Xm(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*VO;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(n,i,t));return r()})()})):null};WO.registerSymbol=(e,t)=>{qO["symbol".concat(Qd(e))]=t};var HO=["option","shapeType","propTransformer","activeClassName","isActive"];function $O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$O(Object(n),!0).forEach(function(t){GO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QO(e,t){return KO(KO({},t),e)}function YO(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return r.createElement(oO,n);case"trapezoid":return r.createElement(cO,n);case"sector":return r.createElement(pO,n);case"symbols":if(function(e){return"symbols"===e}(t))return r.createElement(WO,n);break;default:return null}}function XO(e){var t,{option:n,shapeType:i,propTransformer:o=QO,activeClassName:a="recharts-active-shape",isActive:s}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,HO);if((0,r.isValidElement)(n))t=(0,r.cloneElement)(n,KO(KO({},l),function(e){return(0,r.isValidElement)(e)?e.props:e}(n)));else if("function"===typeof n)t=n(l);else if(AC()(n)&&"boolean"!==typeof n){var c=o(n,l);t=r.createElement(YO,{shapeType:i,elementProps:c})}else{var u=l;t=r.createElement(YO,{shapeType:i,elementProps:u})}return s?r.createElement(aN,{className:a},t):t}var JO=(e,t)=>{var n=zm();return(r,i)=>o=>{null===e||void 0===e||e(r,i,o),n(lm({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},ZO=e=>{var t=zm();return(n,r)=>i=>{null===e||void 0===e||e(n,r,i),t(cm())}},eL=(e,t)=>{var n=zm();return(r,i)=>o=>{null===e||void 0===e||e(r,i,o),n(hm({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function tL(e){var{fn:t,args:n}=e,i=zm(),o=qy();return(0,r.useEffect)(()=>{if(!o){var e=t(n);return i(om(e)),()=>{i(am(e))}}},[t,n,i,o]),null}var nL=()=>{};function rL(e){var{legendPayload:t}=e,n=zm(),i=qy();return(0,r.useEffect)(()=>i?nL:(n(aI(t)),()=>{n(sI(t))}),[n,i,t]),null}function iL(e){var{legendPayload:t}=e,n=zm(),i=Wm(Xy);return(0,r.useEffect)(()=>"centric"!==i&&"radial"!==i?nL:(n(aI(t)),()=>{n(sI(t))}),[n,i,t]),null}function oL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=(0,r.useRef)(Wd(t)),i=(0,r.useRef)(e);return i.current!==e&&(n.current=Wd(t),i.current=e),n.current}var aL=["onMouseEnter","onClick","onMouseLeave"];function sL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sL(Object(n),!0).forEach(function(t){cL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uL(){return uL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uL.apply(null,arguments)}function hL(e){var t=(0,r.useMemo)(()=>GI(e,!1),[e]),n=(0,r.useMemo)(()=>KI(e.children,_C),[e.children]),i=(0,r.useMemo)(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),o=Wm(e=>YP(e,i,n));return r.createElement(iL,{legendPayload:o})}function dL(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:a,name:s,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:null===r||void 0===r?void 0:r.map(e=>e.tooltipPayload),positions:null===r||void 0===r?void 0:r.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:a,dataKey:t,nameKey:n,name:Ey(s,t),hide:l,type:c,color:a,unit:""}}}var fL=(e,t)=>e>t?"start":e<t?"end":"middle",pL=(e,t,n)=>{var{top:r,left:i,width:o,height:a}=t,s=sy(o,a),l=i+Hd(e.cx,o,o/2),c=r+Hd(e.cy,a,a/2),u=Hd(e.innerRadius,s,0),h=((e,t,n)=>"function"===typeof t?t(e):Hd(t,n,.8*n))(n,e.outerRadius,s);return{cx:l,cy:c,innerRadius:u,outerRadius:h,maxRadius:e.maxRadius||Math.sqrt(o*o+a*a)/2}},gL=(e,t)=>Fd(t-e)*Math.min(Math.abs(t-e),360);function mL(e){var{sectors:t,props:n,showLabels:i}=e,{label:o,labelLine:a,dataKey:s}=n;if(!i||!o||!t)return null;var l=GI(n,!1),c=GI(o,!1),u=GI(a,!1),h="object"===typeof o&&"offsetRadius"in o&&o.offsetRadius||20,d=t.map((e,t)=>{var n=(e.startAngle+e.endAngle)/2,i=ay(e.cx,e.cy,e.outerRadius+h,n),d=lL(lL(lL(lL({},l),e),{},{stroke:"none"},c),{},{index:t,textAnchor:fL(i.x,e.cx)},i),f=lL(lL(lL(lL({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:t,points:[ay(e.cx,e.cy,e.outerRadius,n),i],key:"line"});return r.createElement(aN,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},a&&((e,t)=>{if(r.isValidElement(e))return r.cloneElement(e,t);if("function"===typeof e)return e(t);var n=Ho("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return r.createElement($N,uL({},t,{type:"linear",className:n}))})(a,f),((e,t,n)=>{if(r.isValidElement(e))return r.cloneElement(e,t);var i=n;if("function"===typeof e&&(i=e(t),r.isValidElement(i)))return i;var o=Ho("recharts-pie-label-text","boolean"!==typeof e&&"function"!==typeof e?e.className:"");return r.createElement(SC,uL({},t,{alignmentBaseline:"middle",className:o}),i)})(o,d,py(e,s)))});return r.createElement(aN,{className:"recharts-pie-labels"},d)}function yL(e){var{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:o,showLabels:a}=e,s=Wm(YE),{onMouseEnter:l,onClick:c,onMouseLeave:u}=o,h=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(o,aL),d=JO(l,o.dataKey),f=ZO(u),p=eL(c,o.dataKey);return null==t?null:r.createElement(r.Fragment,null,t.map((e,a)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==t.length)return null;var l=n&&String(a)===s,c=l?n:s?i:null,u=lL(lL({},e),{},{stroke:e.stroke,tabIndex:-1,[Ly]:a,[Dy]:o.dataKey});return r.createElement(aN,uL({tabIndex:-1,className:"recharts-pie-sector"},qI(h,e,a),{onMouseEnter:d(e,a),onMouseLeave:f(e,a),onClick:p(e,a),key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(a)}),r.createElement(XO,uL({option:c,isActive:l,shapeType:"sector"},u)))}),r.createElement(mL,{sectors:t,props:o,showLabels:a}))}function vL(e){var{props:t,previousSectorsRef:n}=e,{sectors:i,isAnimationActive:o,animationBegin:a,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:h,onAnimationEnd:d}=t,f=oL(t,"recharts-pie-"),p=n.current,[g,m]=(0,r.useState)(!0),y=(0,r.useCallback)(()=>{"function"===typeof d&&d(),m(!1)},[d]),v=(0,r.useCallback)(()=>{"function"===typeof h&&h(),m(!0)},[h]);return r.createElement(tO,{begin:a,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},onAnimationStart:v,onAnimationEnd:y,key:f},e=>{var{t:o}=e,a=[],s=(i&&i[0]).startAngle;return i.forEach((e,t)=>{var n=p&&p[t],r=t>0?Rd()(e,"paddingAngle",0):0;if(n){var i=Kd(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=lL(lL({},e),{},{startAngle:s+r,endAngle:s+i(o)+r});a.push(l),s=l.endAngle}else{var{endAngle:c,startAngle:u}=e,h=Kd(0,c-u)(o),d=lL(lL({},e),{},{startAngle:s+r,endAngle:s+h+r});a.push(d),s=d.endAngle}}),n.current=a,r.createElement(aN,null,r.createElement(yL,{sectors:a,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!g}))})}function bL(e){var{sectors:t,isAnimationActive:n,activeShape:i,inactiveShape:o}=e,a=(0,r.useRef)(null),s=a.current;return n&&t&&t.length&&(!s||s!==t)?r.createElement(vL,{props:e,previousSectorsRef:a}):r.createElement(yL,{sectors:t,activeShape:i,inactiveShape:o,allOtherPieProps:e,showLabels:!0})}function wL(e){var{hide:t,className:n,rootTabIndex:i}=e,o=Ho("recharts-pie",n);return t?null:r.createElement(aN,{tabIndex:i,className:o},r.createElement(bL,e))}var xL={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!KN,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function SL(e){var t=kP(e,xL),n=(0,r.useMemo)(()=>KI(e.children,_C),[e.children]),i=GI(t,!1),o=(0,r.useMemo)(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:i}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,i]),a=Wm(e=>JP(e,o,n));return r.createElement(r.Fragment,null,r.createElement(tL,{fn:dL,args:lL(lL({},t),{},{sectors:a})}),r.createElement(wL,uL({},t,{sectors:a})))}class _L extends r.PureComponent{constructor(){super(...arguments),cL(this,"id",Wd("recharts-pie-"))}render(){return r.createElement(r.Fragment,null,r.createElement(rN,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),r.createElement(hL,this.props),r.createElement(SL,this.props),this.props.children)}}function kL(){return kL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kL.apply(null,arguments)}function AL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function EL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cL(_L,"displayName","Pie"),cL(_L,"defaultProps",xL);var TL=32;class IL extends r.PureComponent{renderIcon(e,t){var{inactiveColor:n}=this.props,i=16,o=TL/6,a=TL/3,s=e.inactive?n:e.color,l=null!==t&&void 0!==t?t:e.type;if("none"===l)return null;if("plainline"===l)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:TL,y2:i,className:"recharts-legend-icon"});if("line"===l)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(a,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(i,"\n            H").concat(TL,"M").concat(2*a,",").concat(i,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if("rect"===l)return r.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(TL,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AL(Object(n),!0).forEach(function(t){EL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete c.legendIcon,r.cloneElement(e.legendIcon,c)}return r.createElement(WO,{fill:s,cx:i,cy:i,size:TL,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:t,layout:n,formatter:i,inactiveColor:o,iconType:a}=this.props,s={x:0,y:0,width:TL,height:TL},l={display:"horizontal"===n?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,n)=>{var u=e.formatter||i,h=Ho({"recharts-legend-item":!0,["legend-item-".concat(n)]:!0,inactive:e.inactive});if("none"===e.type)return null;var d=e.inactive?o:e.color,f=u?u(e.value,e,n):e.value;return r.createElement("li",kL({className:h,style:l,key:"legend-item-".concat(n)},qI(this.props,e,n)),r.createElement(JI,{width:t,height:t,viewBox:s,style:c,"aria-label":"".concat(f," legend icon")},this.renderIcon(e,a)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:d}},f))})}render(){var{payload:e,layout:t,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===t?n:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}EL(IL,"displayName","Legend"),EL(IL,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var PL=n(4332),NL=n.n(PL);function CL(e,t,n){return!0===t?NL()(e,n):"function"===typeof t?NL()(e,t):e}function OL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=(0,r.useState)({height:0,left:0,top:0,width:0}),i=(0,r.useCallback)(e=>{if(null!=e){var r=e.getBoundingClientRect(),i={height:r.height,left:r.left,top:r.top,width:r.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&n({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,i]}var LL=["contextPayload"];function DL(){return DL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DL.apply(null,arguments)}function jL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ML(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jL(Object(n),!0).forEach(function(t){RL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FL(e){return e.value}function BL(e){var{contextPayload:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,LL),i=CL(t,e.payloadUniqBy,FL),o=ML(ML({},n),{},{payload:i});return r.isValidElement(e.content)?r.cloneElement(e.content,o):"function"===typeof e.content?r.createElement(e.content,o):r.createElement(IL,o)}function zL(e){var t=zm();return(0,r.useEffect)(()=>{t(oI(e))},[t,e]),null}function UL(e){var t=zm();return(0,r.useEffect)(()=>(t(iI(e)),()=>{t(iI({width:0,height:0}))}),[t,e]),null}function qL(e){var t=Wm(Gm),n=(0,r.useContext)(fP),i=(()=>{var e;return null!==(e=Wm(e=>e.layout.margin))&&void 0!==e?e:Yy})(),{width:o,height:a,wrapperStyle:s,portal:l}=e,[c,u]=OL([t]),h=Gy(),d=Qy(),f=h-(i.left||0)-(i.right||0),p=VL.getWidthOrHeight(e.layout,a,o,f),g=l?s:ML(ML({position:"absolute",width:(null===p||void 0===p?void 0:p.width)||o||"auto",height:(null===p||void 0===p?void 0:p.height)||a||"auto"},function(e,t,n,r,i,o){var a,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(a="center"===c&&"vertical"===l?{left:((r||0)-o.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((i||0)-o.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ML(ML({},a),s)}(s,e,i,h,d,c)),s),m=null!==l&&void 0!==l?l:n;if(null==m)return null;var y=r.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},r.createElement(zL,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),r.createElement(UL,{width:c.width,height:c.height}),r.createElement(BL,DL({},e,p,{margin:i,chartWidth:h,chartHeight:d,contextPayload:t})));return(0,be.createPortal)(y,m)}class VL extends r.PureComponent{static getWidthOrHeight(e,t,n,r){return"vertical"===e&&Ud(t)?{height:t}:"horizontal"===e?{width:n||r}:null}render(){return r.createElement(qL,this.props)}}RL(VL,"displayName","Legend"),RL(VL,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var WL=["width","height"];function HL(){return HL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HL.apply(null,arguments)}var $L={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},KL=(0,r.forwardRef)(function(e,t){var n,i=kP(e.categoricalChartProps,$L),{width:o,height:a}=i,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,WL);if(!f_(o)||!f_(a))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,categoricalChartProps:d}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,eventEmitter:void 0};return r.createElement(OI,{preloadedState:{options:f},reduxStoreName:null!==(n=d.id)&&void 0!==n?n:l},r.createElement(LI,{chartData:d.data}),r.createElement(DI,{width:o,height:a,layout:i.layout,margin:i.margin}),r.createElement(jI,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),r.createElement(xP,HL({},s,{width:o,height:a,ref:t})))}),GL=["axis","item"],QL=(0,r.forwardRef)((e,t)=>r.createElement(KL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:GL,tooltipPayloadSearcher:eg,categoricalChartProps:e,ref:t}));function YL(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}var XL=["offset"],JL=["labelRef"];function ZL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(n),!0).forEach(function(t){nD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rD(){return rD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rD.apply(null,arguments)}var iD=e=>null!=e&&"function"===typeof e,oD=(e,t,n)=>{var i,o,{position:a,viewBox:s,offset:l,className:c}=e,{cx:u,cy:h,innerRadius:d,outerRadius:f,startAngle:p,endAngle:g,clockWise:m}=s,y=(d+f)/2,v=((e,t)=>Fd(t-e)*Math.min(Math.abs(t-e),360))(p,g),b=v>=0?1:-1;"insideStart"===a?(i=p+b*l,o=m):"insideEnd"===a?(i=g-b*l,o=!m):"end"===a&&(i=g+b*l,o=m),o=v<=0?o:!o;var w=ay(u,h,y,i),x=ay(u,h,y,i+359*(o?1:-1)),S="M".concat(w.x,",").concat(w.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(o?0:1,",\n    ").concat(x.x,",").concat(x.y),_=Gd(e.id)?Wd("recharts-radial-line-"):e.id;return r.createElement("text",rD({},n,{dominantBaseline:"central",className:Ho("recharts-radial-bar-label",c)}),r.createElement("defs",null,r.createElement("path",{id:_,d:S})),r.createElement("textPath",{xlinkHref:"#".concat(_)},t))};function aD(e){var t,{offset:n=5}=e,i=tD({offset:n},ZL(e,XL)),{viewBox:o,position:a,value:s,children:l,content:c,className:u="",textBreakAll:h,labelRef:d}=i,f=Hy(),p=o||f;if(!p||Gd(s)&&Gd(l)&&!(0,r.isValidElement)(c)&&"function"!==typeof c)return null;if((0,r.isValidElement)(c)){var{labelRef:g}=i,m=ZL(i,JL);return(0,r.cloneElement)(c,m)}if("function"===typeof c){if(t=(0,r.createElement)(c,i),(0,r.isValidElement)(t))return t}else t=(e=>{var{value:t,formatter:n}=e,r=Gd(e.children)?t:e.children;return"function"===typeof n?n(r):r})(i);var y=(e=>"cx"in e&&Ud(e.cx))(p),v=GI(i,!0);if(y&&("insideStart"===a||"insideEnd"===a||"end"===a))return oD(i,t,v);var b=y?(e=>{var{viewBox:t,offset:n,position:r}=e,{cx:i,cy:o,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=t,u=(l+c)/2;if("outside"===r){var{x:h,y:d}=ay(i,o,s+n,u);return{x:h,y:d,textAnchor:h>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var f=(a+s)/2,{x:p,y:g}=ay(i,o,f,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}})(i):((e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,{x:o,y:a,width:s,height:l}=t,c=l>=0?1:-1,u=c*r,h=c>0?"end":"start",d=c>0?"start":"end",f=s>=0?1:-1,p=f*r,g=f>0?"end":"start",m=f>0?"start":"end";if("top"===i)return tD(tD({},{x:o+s/2,y:a-c*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(a-n.y,0),width:s}:{});if("bottom"===i)return tD(tD({},{x:o+s/2,y:a+l+u,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(n.y+n.height-(a+l),0),width:s}:{});if("left"===i){var y={x:o-p,y:a+l/2,textAnchor:g,verticalAnchor:"middle"};return tD(tD({},y),n?{width:Math.max(y.x-n.x,0),height:l}:{})}if("right"===i){var v={x:o+s+p,y:a+l/2,textAnchor:m,verticalAnchor:"middle"};return tD(tD({},v),n?{width:Math.max(n.x+n.width-v.x,0),height:l}:{})}var b=n?{width:s,height:l}:{};return"insideLeft"===i?tD({x:o+p,y:a+l/2,textAnchor:m,verticalAnchor:"middle"},b):"insideRight"===i?tD({x:o+s-p,y:a+l/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===i?tD({x:o+s/2,y:a+u,textAnchor:"middle",verticalAnchor:d},b):"insideBottom"===i?tD({x:o+s/2,y:a+l-u,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===i?tD({x:o+p,y:a+u,textAnchor:m,verticalAnchor:d},b):"insideTopRight"===i?tD({x:o+s-p,y:a+u,textAnchor:g,verticalAnchor:d},b):"insideBottomLeft"===i?tD({x:o+p,y:a+l-u,textAnchor:m,verticalAnchor:h},b):"insideBottomRight"===i?tD({x:o+s-p,y:a+l-u,textAnchor:g,verticalAnchor:h},b):i&&"object"===typeof i&&(Ud(i.x)||zd(i.x))&&(Ud(i.y)||zd(i.y))?tD({x:o+Hd(i.x,s),y:a+Hd(i.y,l),textAnchor:"end",verticalAnchor:"end"},b):tD({x:o+s/2,y:a+l/2,textAnchor:"middle",verticalAnchor:"middle"},b)})(i,p);return r.createElement(SC,rD({ref:d,className:Ho("recharts-label",u)},v,b,{breakAll:h}),t)}aD.displayName="Label";var sD=e=>{var{cx:t,cy:n,angle:r,startAngle:i,endAngle:o,r:a,radius:s,innerRadius:l,outerRadius:c,x:u,y:h,top:d,left:f,width:p,height:g,clockWise:m,labelViewBox:y}=e;if(y)return y;if(Ud(p)&&Ud(g)){if(Ud(u)&&Ud(h))return{x:u,y:h,width:p,height:g};if(Ud(d)&&Ud(f))return{x:d,y:f,width:p,height:g}}return Ud(u)&&Ud(h)?{x:u,y:h,width:0,height:0}:Ud(t)&&Ud(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:m}:e.viewBox?e.viewBox:void 0};function lD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}aD.parseViewBox=sD,aD.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:o}=e,a=sD(e),s=KI(i,aD).map((e,n)=>(0,r.cloneElement)(e,{viewBox:t||a,key:"label-".concat(n)}));if(!n)return s;var l=((e,t,n)=>{if(!e)return null;var i={viewBox:t,labelRef:n};return!0===e?r.createElement(aD,rD({key:"label-implicit"},i)):qd(e)?r.createElement(aD,rD({key:"label-implicit",value:e},i)):(0,r.isValidElement)(e)?e.type===aD?(0,r.cloneElement)(e,tD({key:"label-implicit"},i)):r.createElement(aD,rD({key:"label-implicit",content:e},i)):iD(e)?r.createElement(aD,rD({key:"label-implicit",content:e},i)):e&&"object"===typeof e?r.createElement(aD,rD({},e,{key:"label-implicit"},i)):null})(e.label,t||a,o);return[l,...s]};class cD{static create(e){return new cD(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}lD(cD,"EPS",1e-4);function uD(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function hD(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function dD(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function fD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fD(Object(n),!0).forEach(function(t){gD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mD(e,t,n){var r,{tick:i,ticks:o,viewBox:a,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:h,angle:d}=e;if(!o||!o.length||!i)return[];if(Ud(c)||KN)return null!==(r=function(e,t){return uD(e,t+1)}(o,Ud(c)?c:0))&&void 0!==r?r:[];var f=[],p="top"===l||"bottom"===l?"width":"height",g=h&&"width"===p?eC(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=(e,r)=>{var i="function"===typeof u?u(e.value,r):e.value;return"width"===p?hD(eC(i,{fontSize:t,letterSpacing:n}),g,d):eC(i,{fontSize:t,letterSpacing:n})[p]},y=o.length>=2?Fd(o[1].coordinate-o[0].coordinate):1,v=function(e,t,n){var r="width"===n,{x:i,y:o,width:a,height:s}=e;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(a,y,p);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),{start:s,end:l}=t,c=0,u=1,h=s,d=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:uD(r,u)};var o,a=c,d=()=>(void 0===o&&(o=n(t,a)),o),f=t.coordinate,p=0===c||dD(e,f,d,h,l);p||(c=0,h=s,u+=1),p&&(h=f+e*(d()/2+i),c+=u)};u<=a.length;)if(o=d())return o.v;return[]}(y,v,m,o,s):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,{start:l,end:c}=t;if(o){var u=r[s-1],h=n(u,s-1),d=e*(u.coordinate+e*h/2-c);a[s-1]=u=pD(pD({},u),{},{tickCoord:d>0?u.coordinate-d*e:u.coordinate}),dD(e,u.tickCoord,()=>h,l,c)&&(c=u.tickCoord-e*(h/2+i),a[s-1]=pD(pD({},u),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=a[t],s=()=>(void 0===r&&(r=n(o,t)),r);if(0===t){var u=e*(o.coordinate-e*s()/2-l);a[t]=o=pD(pD({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=pD(pD({},o),{},{tickCoord:o.coordinate});dD(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+i),a[t]=pD(pD({},o),{},{isShow:!0}))},g=0;g<f;g++)p(g);return a}(y,v,m,o,s,"preserveStartEnd"===c):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:s}=t,{end:l}=t,c=function(t){var r,c=o[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===a-1){var h=e*(c.coordinate+e*u()/2-l);o[t]=c=pD(pD({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate})}else o[t]=c=pD(pD({},c),{},{tickCoord:c.coordinate});dD(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),o[t]=pD(pD({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(y,v,m,o,s),f.filter(e=>e.isShow))}var yD=["viewBox"],vD=["viewBox"];function bD(){return bD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bD.apply(null,arguments)}function wD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wD(Object(n),!0).forEach(function(t){_D(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function SD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _D(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class kD extends r.Component{constructor(e){super(e),this.tickRefs=r.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:n}=e,r=SD(e,yD),i=this.props,{viewBox:o}=i,a=SD(i,vD);return!YL(n,o)||!YL(r,a)||!YL(t,this.state)}getTickLineCoord(e){var t,n,r,i,o,a,{x:s,y:l,width:c,height:u,orientation:h,tickSize:d,mirror:f,tickMargin:p}=this.props,g=f?-1:1,m=e.tickSize||d,y=Ud(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(i=l+ +!f*u)-g*m)-g*p,o=y;break;case"left":r=i=e.coordinate,o=(t=(n=s+ +!f*c)-g*m)-g*p,a=y;break;case"right":r=i=e.coordinate,o=(t=(n=s+ +f*c)+g*m)+g*p,a=y;break;default:t=n=e.coordinate,a=(r=(i=l+ +f*u)+g*m)+g*p,o=y}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}getTickTextAnchor(){var e,{orientation:t,mirror:n}=this.props;switch(t){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:t,width:n,height:i,orientation:o,mirror:a,axisLine:s}=this.props,l=xD(xD(xD({},GI(this.props,!1)),GI(s,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var c=+("top"===o&&!a||"bottom"===o&&a);l=xD(xD({},l),{},{x1:e,y1:t+c*i,x2:e+n,y2:t+c*i})}else{var u=+("left"===o&&!a||"right"===o&&a);l=xD(xD({},l),{},{x1:e+u*n,y1:t,x2:e+u*n,y2:t+i})}return r.createElement("line",bD({},l,{className:Ho("recharts-cartesian-axis-line",Rd()(s,"className"))}))}static renderTickItem(e,t,n){var i,o=Ho(t.className,"recharts-cartesian-axis-tick-value");if(r.isValidElement(e))i=r.cloneElement(e,xD(xD({},t),{},{className:o}));else if("function"===typeof e)i=e(xD(xD({},t),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";"boolean"!==typeof e&&(a=Ho(a,e.className)),i=r.createElement(SC,bD({},t,{className:a}),n)}return i}renderTicks(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:i,stroke:o,tick:a,tickFormatter:s,unit:l}=this.props,c=mD(xD(xD({},this.props),{},{ticks:n}),e,t),u=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),d=GI(this.props,!1),f=GI(a,!1),p=xD(xD({},d),{},{fill:"none"},GI(i,!1)),g=c.map((e,t)=>{var{line:n,tick:g}=this.getTickLineCoord(e),m=xD(xD(xD(xD({textAnchor:u,verticalAnchor:h},d),{},{stroke:"none",fill:o},f),g),{},{index:t,payload:e,visibleTicksCount:c.length,tickFormatter:s});return r.createElement(aN,bD({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},qI(this.props,e,t)),i&&r.createElement("line",bD({},p,n,{className:Ho("recharts-cartesian-axis-tick-line",Rd()(i,"className"))})),a&&kD.renderTickItem(a,m,"".concat("function"===typeof s?s(e.value,t):e.value).concat(l||"")))});return g.length>0?r.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:e,width:t,height:n,className:i,hide:o}=this.props;if(o)return null;var{ticks:a}=this.props;return null!=t&&t<=0||null!=n&&n<=0?null:r.createElement(aN,{className:Ho("recharts-cartesian-axis",i),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n).fontSize,i=window.getComputedStyle(n).letterSpacing;r===this.state.fontSize&&i===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),aD.renderCallByParent(this.props))}}_D(kD,"displayName","CartesianAxis"),_D(kD,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var AD=["children"],ED=["dangerouslySetInnerHTML","ticks"];function TD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ID(){return ID=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ID.apply(null,arguments)}function PD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ND(e){var t=zm(),n=(0,r.useMemo)(()=>{var{children:t}=e;return PD(e,AD)},[e]),i=Wm(e=>bk(e,n.id)),o=n===i;return(0,r.useEffect)(()=>(t(PT(n)),()=>{t(NT(n))}),[n,t]),o?e.children:null}var CD=e=>{var{xAxisId:t,className:n}=e,i=Wm(zy),o=qy(),a="xAxis",s=Wm(e=>LA(e,a,t,o)),l=Wm(e=>QA(e,a,t,o)),c=Wm(e=>zA(e,t)),u=Wm(e=>((e,t)=>{var n=Fy(e),r=bk(e,t);if(null!=r){var i=UA(e,r.orientation,r.mirror)[t];return null==i?{x:n.left,y:0}:{x:n.left,y:i}}})(e,t));if(null==c||null==u)return null;var{dangerouslySetInnerHTML:h,ticks:d}=e,f=PD(e,ED);return r.createElement(kD,ID({},f,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:Ho("recharts-".concat(a," ").concat(a),n),viewBox:i,ticks:l}))},OD=e=>{var t,n,i,o,a;return r.createElement(ND,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(i=e.angle)&&void 0!==i?i:0,minTickGap:null!==(o=e.minTickGap)&&void 0!==o?o:5,tick:null===(a=e.tick)||void 0===a||a,tickFormatter:e.tickFormatter},r.createElement(CD,e))};class LD extends r.Component{render(){return r.createElement(OD,this.props)}}TD(LD,"displayName","XAxis"),TD(LD,"defaultProps",{allowDataOverflow:vk.allowDataOverflow,allowDecimals:vk.allowDecimals,allowDuplicatedCategory:vk.allowDuplicatedCategory,height:vk.height,hide:!1,mirror:vk.mirror,orientation:vk.orientation,padding:vk.padding,reversed:vk.reversed,scale:vk.scale,tickCount:vk.tickCount,type:vk.type,xAxisId:0});var DD=["dangerouslySetInnerHTML","ticks"];function jD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MD(){return MD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MD.apply(null,arguments)}function RD(e){var t=zm();return(0,r.useEffect)(()=>(t(CT(e)),()=>{t(OT(e))}),[e,t]),null}var FD=e=>{var t,{yAxisId:n,className:i,width:o,label:a}=e,s=(0,r.useRef)(null),l=(0,r.useRef)(null),c=Wm(zy),u=qy(),h=zm(),d="yAxis",f=Wm(e=>LA(e,d,n,u)),p=Wm(e=>VA(e,n)),g=Wm(e=>((e,t)=>{var n=Fy(e),r=xk(e,t);if(null!=r){var i=qA(e,r.orientation,r.mirror)[t];return null==i?{x:0,y:n.top}:{x:i,y:n.top}}})(e,n)),m=Wm(e=>QA(e,d,n,u));if((0,r.useLayoutEffect)(()=>{var e;if("auto"===o&&p&&!iD(a)&&!(0,r.isValidElement)(a)){var t=s.current,i=null===t||void 0===t||null===(e=t.tickRefs)||void 0===e?void 0:e.current,{tickSize:c,tickMargin:u}=t.props,d=(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,a=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>a&&(a=t.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+(i+o)+s+(n?r:0);return Math.round(l)}return 0})({ticks:i,label:l.current,labelGapWithTick:5,tickSize:c,tickMargin:u});Math.round(p.width)!==Math.round(d)&&h(jT({id:n,width:d}))}},[s,null===s||void 0===s||null===(t=s.current)||void 0===t||null===(t=t.tickRefs)||void 0===t?void 0:t.current,null===p||void 0===p?void 0:p.width,p,h,a,n,o]),null==p||null==g)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,DD);return r.createElement(kD,MD({},b,{ref:s,labelRef:l,scale:f,x:g.x,y:g.y,width:p.width,height:p.height,className:Ho("recharts-".concat(d," ").concat(d),i),viewBox:c,ticks:m}))},BD=e=>{var t,n,i,o,a;return r.createElement(r.Fragment,null,r.createElement(RD,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(i=e.angle)&&void 0!==i?i:0,minTickGap:null!==(o=e.minTickGap)&&void 0!==o?o:5,tick:null===(a=e.tick)||void 0===a||a,tickFormatter:e.tickFormatter}),r.createElement(FD,e))},zD={allowDataOverflow:wk.allowDataOverflow,allowDecimals:wk.allowDecimals,allowDuplicatedCategory:wk.allowDuplicatedCategory,hide:!1,mirror:wk.mirror,orientation:wk.orientation,padding:wk.padding,reversed:wk.reversed,scale:wk.scale,tickCount:wk.tickCount,type:wk.type,width:wk.width,yAxisId:0};class UD extends r.Component{render(){return r.createElement(BD,this.props)}}function qD(){return qD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qD.apply(null,arguments)}function VD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VD(Object(n),!0).forEach(function(t){HD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HD(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $D(e){return Array.isArray(e)&&qd(e[0])&&qd(e[1])?e.join(" ~ "):e}jD(UD,"displayName","YAxis"),jD(UD,"defaultProps",zD);var KD=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:i={},labelStyle:o={},payload:a,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:h,labelFormatter:d,accessibilityLayer:f=!1}=e,p=WD({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=WD({margin:0},o),m=!Gd(h),y=m?h:"",v=Ho("recharts-default-tooltip",c),b=Ho("recharts-tooltip-label",u);m&&d&&void 0!==a&&null!==a&&(y=d(h,a));var w=f?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",qD({className:v,style:p},w),r.createElement("p",{className:b,style:g},r.isValidElement(y)?y:"".concat(y)),(()=>{if(a&&a.length){var e=(l?$m()(a,l):a).map((e,n)=>{if("none"===e.type)return null;var o=e.formatter||s||$D,{value:l,name:c}=e,u=l,h=c;if(o){var d=o(l,c,e,n,a);if(Array.isArray(d))[u,h]=d;else{if(null==d)return null;u=d}}var f=WD({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i);return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:f},qd(h)?r.createElement("span",{className:"recharts-tooltip-item-name"},h):null,qd(h)?r.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,r.createElement("span",{className:"recharts-tooltip-item-value"},u),r.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},GD="recharts-tooltip-wrapper",QD={visibility:"hidden"};function YD(e){var{coordinate:t,translateX:n,translateY:r}=e;return Ho(GD,{["".concat(GD,"-right")]:Ud(n)&&t&&Ud(t.x)&&n>=t.x,["".concat(GD,"-left")]:Ud(n)&&t&&Ud(t.x)&&n<t.x,["".concat(GD,"-bottom")]:Ud(r)&&t&&Ud(t.y)&&r>=t.y,["".concat(GD,"-top")]:Ud(r)&&t&&Ud(t.y)&&r<t.y})}function XD(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(o&&Ud(o[r]))return o[r];var u=n[r]-s-(i>0?i:0),h=n[r]+i;if(t[r])return a[r]?u:h;var d=l[r];return null==d?0:a[r]?u<d?Math.max(h,d):Math.max(u,d):null==c?0:h+s>d+c?Math.max(u,d):Math.max(h,d)}function JD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ZD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JD(Object(n),!0).forEach(function(t){ej(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ej(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class tj extends r.PureComponent{constructor(){super(...arguments),ej(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ej(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:i,children:o,coordinate:a,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:h,useTranslate3d:d,viewBox:f,wrapperStyle:p,lastBoundingBox:g,innerRef:m,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:b}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:o,offsetTopLeft:a,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:h}=e;return t=c.height>0&&c.width>0&&o?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=XD({allowEscapeViewBox:i,coordinate:o,key:"x",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:h,viewBoxDimension:h.width}),translateY:r=XD({allowEscapeViewBox:i,coordinate:o,key:"y",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:h,viewBoxDimension:h.height}),useTranslate3d:u}):QD,{cssProperties:t,cssClasses:YD({translateX:n,translateY:r,coordinate:o})}}({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:c,position:u,reverseDirection:h,tooltipBox:{height:g.height,width:g.width},useTranslate3d:d,viewBox:f}),w=y?{}:ZD(ZD({transition:l&&e?"transform ".concat(n,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),x=ZD(ZD({},w),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},p);return r.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:x,ref:m},o)}}var nj=["x","y","top","left","width","height","className"];function rj(){return rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rj.apply(null,arguments)}function ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aj=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),sj=e=>{var{x:t=0,y:n=0,top:i=0,left:o=0,width:a=0,height:s=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,nj),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ij(Object(n),!0).forEach(function(t){oj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:t,y:n,top:i,left:o,width:a,height:s},c);return Ud(t)&&Ud(n)&&Ud(a)&&Ud(s)&&Ud(i)&&Ud(o)?r.createElement("path",rj({},GI(u,!0),{className:Ho("recharts-cross",l),d:aj(t,n,a,s,i,o)})):null};function lj(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e;return{points:[ay(t,n,r,i),ay(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function cj(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return lj(t);var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:h}=t,d=ay(s,l,c,h),f=ay(s,l,u,h);r=d.x,i=d.y,o=f.x,a=f.y}return[{x:r,y:i},{x:o,y:a}]}function uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uj(Object(n),!0).forEach(function(t){dj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fj=()=>{var e=Wm(mE),t=Wm(HE),n=Wm(qE);return ky(hj(hj({},e),{},{scale:n}),t)};function pj(){return pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pj.apply(null,arguments)}function gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gj(Object(n),!0).forEach(function(t){yj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vj(e){var t,n,{coordinate:i,payload:o,index:a,offset:s,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:h,chartName:d}=e,f=i,p=o,g=a;if(!u||!f||"ScatterChart"!==d&&"axis"!==h)return null;if("ScatterChart"===d)t=f,n=sj;else if("BarChart"===d)t=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(c,f,s,l),n=oO;else if("radial"===c){var{cx:m,cy:y,radius:v,startAngle:b,endAngle:w}=lj(f);t={cx:m,cy:y,startAngle:b,endAngle:w,innerRadius:v,outerRadius:v},n=pO}else t={points:cj(c,f,s)},n=$N;var x="object"===typeof u&&"className"in u?u.className:void 0,S=mj(mj(mj(mj({stroke:"#ccc",pointerEvents:"none"},s),t),GI(u,!1)),{},{payload:p,payloadIndex:g,className:Ho("recharts-tooltip-cursor",x)});return(0,r.isValidElement)(u)?(0,r.cloneElement)(u,S):(0,r.createElement)(n,S)}function bj(e){var t=fj(),n=Ky(),i=Jy(),o=Wm(B_);return r.createElement(vj,pj({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:i,tooltipAxisBandSize:t,chartName:o}))}function wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wj(Object(n),!0).forEach(function(t){Sj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _j(e){return e.dataKey}var kj=[],Aj={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!KN,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ej(e){var t=kP(e,Aj),{active:n,allowEscapeViewBox:i,animationDuration:o,animationEasing:a,content:s,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:h,position:d,reverseDirection:f,useTranslate3d:p,wrapperStyle:g,cursor:m,shared:y,trigger:v,defaultIndex:b,portal:w,axisId:x}=t,S=zm(),_="number"===typeof b?String(b):b;(0,r.useEffect)(()=>{S(sm({shared:y,trigger:v,axisId:x,active:n,defaultIndex:_}))},[S,y,v,x,n,_]);var k=Hy(),A=QI(),E=function(e){return Wm(t=>rE(t,e))}(y),{activeIndex:T,isActive:I}=Wm(e=>yT(e,E,v,_)),P=Wm(e=>mT(e,E,v,_)),N=Wm(e=>gT(e,E,v,_)),C=Wm(e=>pT(e,E,v,_)),O=P,L=(0,r.useContext)(dP),D=null!==n&&void 0!==n?n:I,[j,M]=OL([O,D]),R="axis"===E?N:void 0;hP(E,v,C,R,T,D);var F=null!==w&&void 0!==w?w:L;if(null==F)return null;var B=null!==O&&void 0!==O?O:kj;D||(B=kj),l&&B.length&&(B=CL(O.filter(e=>null!=e.value&&(!0!==e.hide||t.includeHidden)),h,_j));var z=B.length>0,U=r.createElement(tj,{allowEscapeViewBox:i,animationDuration:o,animationEasing:a,isAnimationActive:c,active:D,coordinate:C,hasPayload:z,offset:u,position:d,reverseDirection:f,useTranslate3d:p,viewBox:k,wrapperStyle:g,lastBoundingBox:j,innerRef:M,hasPortalFromProps:Boolean(w)},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):"function"===typeof e?r.createElement(e,t):r.createElement(KD,t)}(s,xj(xj({},t),{},{payload:B,label:R,active:D,coordinate:C,accessibilityLayer:A})));return r.createElement(r.Fragment,null,(0,be.createPortal)(U,F),D&&r.createElement(bj,{cursor:m,tooltipEventType:E,coordinate:C,payload:O,index:T}))}var Tj=["children"];var Ij=()=>{},Pj=(0,r.createContext)({addErrorBar:Ij,removeErrorBar:Ij}),Nj={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Cj=(0,r.createContext)(Nj);function Oj(e){var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Tj);return r.createElement(Cj.Provider,{value:n},t)}var Lj=e=>{var{children:t,xAxisId:n,yAxisId:i,zAxisId:o,dataKey:a,data:s,stackId:l,hide:c,type:u,barSize:h}=e,[d,f]=r.useState([]),p=(0,r.useCallback)(e=>{f(t=>[...t,e])},[f]),g=(0,r.useCallback)(e=>{f(t=>t.filter(t=>t!==e))},[f]),m=qy();return r.createElement(Pj.Provider,{value:{addErrorBar:p,removeErrorBar:g}},r.createElement(nN,{type:u,data:s,xAxisId:n,yAxisId:i,zAxisId:o,dataKey:a,errorBars:d,stackId:l,hide:c,barSize:h,isPanorama:m}),t)};function Dj(e){var{addErrorBar:t,removeErrorBar:n}=(0,r.useContext)(Pj);return(0,r.useEffect)(()=>(t(e),()=>{n(e)}),[t,n,e]),null}var jj=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function Mj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rj(){return Rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rj.apply(null,arguments)}function Fj(e){var{direction:t,width:n,dataKey:i,isAnimationActive:o,animationBegin:a,animationDuration:s,animationEasing:l}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,jj),u=GI(c,!1),{data:h,dataPointFormatter:d,xAxisId:f,yAxisId:p,errorBarOffset:g}=(0,r.useContext)(Cj),m=(e=>{var t=qy();return Wm(n=>XA(n,"xAxis",e,t))})(f),y=(e=>{var t=qy();return Wm(n=>XA(n,"yAxis",e,t))})(p);if(null==(null===m||void 0===m?void 0:m.scale)||null==(null===y||void 0===y?void 0:y.scale)||null==h)return null;if("x"===t&&"number"!==m.type)return null;var v=h.map(e=>{var{x:c,y:h,value:f,errorVal:p}=d(e,i,t);if(!p)return null;var v,b,w=[];if(Array.isArray(p)?[v,b]=p:v=b=p,"x"===t){var{scale:x}=m,S=h+g,_=S+n,k=S-n,A=x(f-v),E=x(f+b);w.push({x1:E,y1:_,x2:E,y2:k}),w.push({x1:A,y1:S,x2:E,y2:S}),w.push({x1:A,y1:_,x2:A,y2:k})}else if("y"===t){var{scale:T}=y,I=c+g,P=I-n,N=I+n,C=T(f-v),O=T(f+b);w.push({x1:P,y1:O,x2:N,y2:O}),w.push({x1:I,y1:C,x2:I,y2:O}),w.push({x1:P,y1:C,x2:N,y2:C})}var L="".concat(c+g,"px ").concat(h+g,"px");return r.createElement(aN,Rj({className:"recharts-errorBar",key:"bar-".concat(w.map(e=>"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)))},u),w.map(e=>{var t=o?{transformOrigin:"".concat(e.x1-5,"px")}:void 0;return r.createElement(tO,{from:{transform:"scaleY(0)",transformOrigin:L},to:{transform:"scaleY(1)",transformOrigin:L},begin:a,easing:l,isActive:o,duration:s,key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2),style:{transformOrigin:L}},r.createElement("line",Rj({},e,{style:t})))}))});return r.createElement(aN,{className:"recharts-errorBars"},v)}var Bj=(0,r.createContext)(void 0);function zj(e){var{direction:t,children:n}=e;return r.createElement(Bj.Provider,{value:t},n)}var Uj={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function qj(e){var t=function(e){var t=(0,r.useContext)(Bj);return null!=e?e:null!=t?t:"x"}(e.direction),{width:n,isAnimationActive:i,animationBegin:o,animationDuration:a,animationEasing:s}=kP(e,Uj);return r.createElement(r.Fragment,null,r.createElement(Dj,{dataKey:e.dataKey,direction:t}),r.createElement(Fj,Rj({},e,{direction:t,width:n,isAnimationActive:i,animationBegin:o,animationDuration:a,animationEasing:s})))}class Vj extends r.Component{render(){return r.createElement(qj,this.props)}}Mj(Vj,"defaultProps",Uj),Mj(Vj,"displayName","ErrorBar");var Wj=n(356),Hj=n.n(Wj),$j=["valueAccessor"],Kj=["data","dataKey","clockWise","id","textBreakAll"];function Gj(){return Gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gj.apply(null,arguments)}function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qj(Object(n),!0).forEach(function(t){Xj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Zj=e=>Array.isArray(e.value)?Hj()(e.value):e.value;function eM(e){var{valueAccessor:t=Zj}=e,n=Jj(e,$j),{data:i,dataKey:o,clockWise:a,id:s,textBreakAll:l}=n,c=Jj(n,Kj);return i&&i.length?r.createElement(aN,{className:"recharts-label-list"},i.map((e,n)=>{var i=Gd(o)?t(e,n):py(e&&e.payload,o),u=Gd(s)?{}:{id:"".concat(s,"-").concat(n)};return r.createElement(aD,Gj({},GI(e,!0),c,u,{parentViewBox:e.parentViewBox,value:i,textBreakAll:l,viewBox:aD.parseViewBox(Gd(a)?e:Yj(Yj({},e),{},{clockWise:a})),key:"label-".concat(n),index:n}))})):null}eM.displayName="LabelList",eM.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:i}=e,o=KI(i,eM).map((e,n)=>(0,r.cloneElement)(e,{data:t,key:"labelList-".concat(n)}));if(!n)return o;var a=function(e,t){return e?!0===e?r.createElement(eM,{key:"labelList-implicit",data:t}):r.isValidElement(e)||iD(e)?r.createElement(eM,{key:"labelList-implicit",data:t,content:e}):"object"===typeof e?r.createElement(eM,Gj({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[a,...o]};var tM="Invariant failed";var nM=["x","y"];function rM(){return rM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rM.apply(null,arguments)}function iM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iM(Object(n),!0).forEach(function(t){aM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sM(e,t){var{x:n,y:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,nM),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),h="".concat(t.width||i.width),d=parseInt(h,10);return oM(oM(oM(oM(oM({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:d,name:t.name,radius:t.radius})}function lM(e){return r.createElement(XO,rM({shapeType:"rectangle",propTransformer:sM,activeClassName:"recharts-active-bar"},e))}var cM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(Ud(e))return e;var i=Ud(n)||Gd(n);return i?e(n,r):(i||function(e){if(!e)throw new Error(tM)}(!1),t)}},uM=()=>{var e=zm();return(0,r.useEffect)(()=>(e(FT()),()=>{e(BT())})),null};function hM(e,t){var n,r,i=Wm(t=>bk(t,e)),o=Wm(e=>xk(e,t)),a=null!==(n=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==n?n:vk.allowDataOverflow,s=null!==(r=null===o||void 0===o?void 0:o.allowDataOverflow)&&void 0!==r?r:wk.allowDataOverflow;return{needClip:a||s,needClipX:a,needClipY:s}}function dM(e){var{xAxisId:t,yAxisId:n,clipPathId:i}=e,o=Ky(),{needClipX:a,needClipY:s,needClip:l}=hM(t,n);if(!l)return null;var{left:c,top:u,width:h,height:d}=o;return r.createElement("clipPath",{id:"clipPath-".concat(i)},r.createElement("rect",{x:a?c:c-h/2,y:s?u:u-d/2,width:a?h:2*h,height:s?d:2*d}))}function fM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fM(Object(n),!0).forEach(function(t){gM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mM=(e,t,n,r,i)=>i,yM=(e,t,n)=>{var r=null!==n&&void 0!==n?n:e;if(!Gd(r))return Hd(r,t,0)},vM=jm([Xy,Ik,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type));function bM(e){return null!=e.stackId&&null!=e.dataKey}var wM=jm([vM,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===Xy(e)?WA(e,"xAxis",t):WA(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(bM),i=e.filter(e=>null==e.stackId),o=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),a=Object.entries(o).map(e=>{var[r,i]=e,o=i.map(e=>e.dataKey);return{stackId:r,dataKeys:o,barSize:yM(t,n,i[0].barSize)}}),s=i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:yM(t,n,e.barSize)}));return[...a,...s]}),xM=(e,t,n,r)=>{var i,o;return"horizontal"===Xy(e)?(i=XA(e,"xAxis",t,r),o=YA(e,"xAxis",t,r)):(i=XA(e,"yAxis",n,r),o=YA(e,"yAxis",n,r)),ky(i,o)};var SM=jm([wM,M_,e=>e.rootProps.barGap,R_,(e,t,n,r,i)=>{var o,a,s,l,c=Xy(e),u=M_(e),{maxBarSize:h}=i,d=Gd(h)?u:h;return"horizontal"===c?(s=XA(e,"xAxis",t,r),l=YA(e,"xAxis",t,r)):(s=XA(e,"yAxis",n,r),l=YA(e,"yAxis",n,r)),null!==(o=null!==(a=ky(s,l,!0))&&void 0!==a?a:d)&&void 0!==o?o:0},xM,(e,t,n,r,i)=>i.maxBarSize],(e,t,n,r,i,o,a)=>{var s=Gd(a)?t:a,l=function(e,t,n,r,i){var o=r.length;if(!(o<1)){var a,s=Hd(e,n,0,!0),l=[];if(d_(r[0].barSize)){var c=!1,u=n/o,h=r.reduce((e,t)=>e+(t.barSize||0),0);(h+=(o-1)*s)>=n&&(h-=(o-1)*s,s=0),h>=n&&u>0&&(c=!0,h=o*(u*=.9));var d={offset:((n-h)/2|0)-s,size:0};a=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:d.offset+d.size+s,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return d=r[r.length-1].position,r},l)}else{var f=Hd(t,n,0,!0);n-2*f-(o-1)*s<=0&&(s=0);var p=(n-2*f-(o-1)*s)/o;p>1&&(p>>=0);var g=d_(i)?Math.min(p,i):p;a=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+s)*n+(p-g)/2,size:g}}],l)}return a}}(n,r,i!==o?i:o,e,s);return i!==o&&null!=l&&(l=l.map(e=>pM(pM({},e),{},{position:pM(pM({},e.position),{},{offset:e.position.offset-i/2})}))),l}),_M=jm([SM,mM],(e,t)=>{if(null!=e){var n=e.find(e=>e.stackId===t.stackId&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),kM=jm([Ik,mM],(e,t)=>{if(e.some(e=>"bar"===e.type&&t.dataKey===e.dataKey&&t.stackId===e.stackId&&t.stackId===e.stackId))return t}),AM=jm([(e,t,n,r)=>"horizontal"===Xy(e)?Wk(e,"yAxis",n,r):Wk(e,"xAxis",t,r),mM],(e,t)=>{if(e&&null!=(null===t||void 0===t?void 0:t.dataKey)){var{stackId:n}=t;if(null!=n){var r=e[n];if(r){var{stackedData:i}=r;if(i)return i.find(e=>e.key===t.dataKey)}}}}),EM=jm([Fy,(e,t,n,r)=>XA(e,"xAxis",t,r),(e,t,n,r)=>XA(e,"yAxis",n,r),(e,t,n,r)=>YA(e,"xAxis",t,r),(e,t,n,r)=>YA(e,"yAxis",n,r),_M,Xy,h_,xM,AM,kM,(e,t,n,r,i,o)=>o],(e,t,n,r,i,o,a,s,l,c,u,h)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:p}=s;if(null!=u&&null!=o&&("horizontal"===a||"vertical"===a)&&null!=t&&null!=n&&null!=r&&null!=i&&null!=l){var g,{data:m}=u;if(null!=(g=null!=m&&m.length>0?m:null===d||void 0===d?void 0:d.slice(f,p+1)))return function(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:h,offset:d,cells:f}=e,p="horizontal"===t?s:a,g=u?p.scale.domain():null,m=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]})({numericAxis:p});return h.map((e,h)=>{var p,y,v,b,w,x;u?p=((e,t)=>{if(!t||2!==t.length||!Ud(t[0])||!Ud(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ud(e[0])||e[0]<n)&&(i[0]=n),(!Ud(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i})(u[h],g):(p=py(e,n),Array.isArray(p)||(p=[m,p]));var S=cM(r,UM)(p[1],h);if("horizontal"===t){var _,[k,A]=[s.scale(p[0]),s.scale(p[1])];y=wy({axis:a,ticks:l,bandSize:o,offset:i.offset,entry:e,index:h}),v=null!==(_=null!==A&&void 0!==A?A:k)&&void 0!==_?_:void 0,b=i.size;var E=k-A;if(w=Bd(E)?0:E,x={x:y,y:d.top,width:b,height:d.height},Math.abs(S)>0&&Math.abs(w)<Math.abs(S)){var T=Fd(w||S)*(Math.abs(S)-Math.abs(w));v-=T,w+=T}}else{var[I,P]=[a.scale(p[0]),a.scale(p[1])];if(y=I,v=wy({axis:s,ticks:c,bandSize:o,offset:i.offset,entry:e,index:h}),b=P-I,w=i.size,x={x:d.left,y:v,width:d.width,height:w},Math.abs(S)>0&&Math.abs(b)<Math.abs(S))b+=Fd(b||S)*(Math.abs(S)-Math.abs(b))}return OM(OM({},e),{},{x:y,y:v,width:b,height:w,value:u?p:p[1],payload:e,background:x,tooltipPosition:{x:y+b/2,y:v+w/2}},f&&f[h]&&f[h].props)})}({layout:a,barSettings:u,pos:o,bandSize:l,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:c,displayedData:g,offset:e,cells:h})}}),TM=["onMouseEnter","onMouseLeave","onClick"],IM=["value","background","tooltipPosition"],PM=["onMouseEnter","onClick","onMouseLeave"];function NM(){return NM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NM.apply(null,arguments)}function CM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CM(Object(n),!0).forEach(function(t){LM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var jM=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:Ey(n,t),payload:e}]};function MM(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Ey(o,t),hide:a,type:e.tooltipType,color:e.fill,unit:s}}}function RM(e){var t=Wm(YE),{data:n,dataKey:i,background:o,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:l,onClick:c}=a,u=DM(a,TM),h=JO(s,i),d=ZO(l),f=eL(c,i);if(!o||null==n)return null;var p=GI(o,!1);return r.createElement(r.Fragment,null,n.map((e,n)=>{var{value:a,background:s,tooltipPosition:l}=e,c=DM(e,IM);if(!s)return null;var g=h(e,n),m=d(e,n),y=f(e,n),v=OM(OM(OM(OM(OM({option:o,isActive:String(n)===t},c),{},{fill:"#eee"},s),p),qI(u,e,n)),{},{onMouseEnter:g,onMouseLeave:m,onClick:y,dataKey:i,index:n,className:"recharts-bar-background-rectangle"});return r.createElement(lM,NM({key:"background-bar-".concat(n)},v))}))}function FM(e){var{data:t,props:n,showLabels:i}=e,o=GI(n,!1),{shape:a,dataKey:s,activeBar:l}=n,c=Wm(YE),u=Wm(JE),{onMouseEnter:h,onClick:d,onMouseLeave:f}=n,p=DM(n,PM),g=JO(h,s),m=ZO(f),y=eL(d,s);return t?r.createElement(r.Fragment,null,t.map((e,t)=>{var n=l&&String(t)===c&&(null==u||s===u),i=n?l:a,h=OM(OM(OM({},o),e),{},{isActive:n,option:i,index:t,dataKey:s});return r.createElement(aN,NM({className:"recharts-bar-rectangle"},qI(p,e,t),{onMouseEnter:g(e,t),onMouseLeave:m(e,t),onClick:y(e,t),key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(t)}),r.createElement(lM,h))}),i&&eM.renderCallByParent(n,t)):null}function BM(e){var{props:t,previousRectanglesRef:n}=e,{data:i,layout:o,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:h}=t,d=n.current,f=oL(t,"recharts-bar-"),[p,g]=(0,r.useState)(!1),m=(0,r.useCallback)(()=>{"function"===typeof u&&u(),g(!1)},[u]),y=(0,r.useCallback)(()=>{"function"===typeof h&&h(),g(!0)},[h]);return r.createElement(tO,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},onAnimationEnd:m,onAnimationStart:y,key:f},e=>{var{t:a}=e,s=1===a?i:i.map((e,t)=>{var n=d&&d[t];if(n){var r=Kd(n.x,e.x),i=Kd(n.y,e.y),s=Kd(n.width,e.width),l=Kd(n.height,e.height);return OM(OM({},e),{},{x:r(a),y:i(a),width:s(a),height:l(a)})}if("horizontal"===o){var c=Kd(0,e.height)(a);return OM(OM({},e),{},{y:e.y+e.height-c,height:c})}var u=Kd(0,e.width)(a);return OM(OM({},e),{},{width:u})});return a>0&&(n.current=s),r.createElement(aN,null,r.createElement(FM,{props:t,data:s,showLabels:!p}))})}function zM(e){var{data:t,isAnimationActive:n}=e,i=(0,r.useRef)(null);return n&&t&&t.length&&(null==i.current||i.current!==t)?r.createElement(BM,{previousRectanglesRef:i,props:e}):r.createElement(FM,{props:e,data:t,showLabels:!0})}var UM=0,qM=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:py(e,t)}};class VM extends r.PureComponent{constructor(){super(...arguments),LM(this,"id",Wd("recharts-bar-"))}render(){var{hide:e,data:t,dataKey:n,className:i,xAxisId:o,yAxisId:a,needClip:s,background:l,id:c,layout:u}=this.props;if(e)return null;var h=Ho("recharts-bar",i),d=Gd(c)?this.id:c;return r.createElement(aN,{className:h},s&&r.createElement("defs",null,r.createElement(dM,{clipPathId:d,xAxisId:o,yAxisId:a})),r.createElement(aN,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):null},r.createElement(RM,{data:t,dataKey:n,background:l,allOtherBarProps:this.props}),r.createElement(zM,this.props)),r.createElement(zj,{direction:"horizontal"===u?"y":"x"},this.props.children))}}var WM={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!KN,legendType:"rect",minPointSize:UM,xAxisId:0,yAxisId:0};function HM(e){var t,{xAxisId:n,yAxisId:i,hide:o,legendType:a,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:h,isAnimationActive:d}=kP(e,WM),{needClip:f}=hM(n,i),p=Jy(),g=qy(),m=(0,r.useMemo)(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:s,stackId:by(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,s,e.stackId]),y=KI(e.children,_C),v=Wm(e=>EM(e,n,i,g,m,y));if("vertical"!==p&&"horizontal"!==p)return null;var b=null===v||void 0===v?void 0:v[0];return t=null==b||null==b.height||null==b.width?0:"vertical"===p?b.height/2:b.width/2,r.createElement(Oj,{xAxisId:n,yAxisId:i,data:v,dataPointFormatter:qM,errorBarOffset:t},r.createElement(VM,NM({},e,{layout:p,needClip:f,data:v,xAxisId:n,yAxisId:i,hide:o,legendType:a,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:h,isAnimationActive:d})))}class $M extends r.PureComponent{render(){return r.createElement(Lj,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},r.createElement(uM,null),r.createElement(rL,{legendPayload:jM(this.props)}),r.createElement(tL,{fn:MM,args:this.props}),r.createElement(HM,this.props))}}LM($M,"displayName","Bar"),LM($M,"defaultProps",WM);const KM=function(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)("");(0,r.useEffect)(()=>{const e=(0,hi.query)((0,hi.collection)(Uo,"tickets"),(0,hi.orderBy)("createdAt","desc"));return(0,hi.onSnapshot)(e,e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))})},[]);const h=e.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{}),d=e.reduce((e,t)=>(e[t.priority]=(e[t.priority]||0)+1,e),{}),f=[{name:"Open",value:h.Open||0},{name:"In Progress",value:h["In Progress"]||0},{name:"Resolved",value:h.Resolved||0}],p=[{name:"Low",value:d.Low||0},{name:"Medium",value:d.Medium||0},{name:"High",value:d.High||0}],g=["#6e8efb","#a777e3","#21e6c1"],m=e.filter(e=>(!n||e.status===n)&&(!o||e.priority===o));return(0,Ja.jsxs)("div",{className:"card",children:[(0,Ja.jsx)("div",{style:{background:"#ffd600",color:"#222",fontWeight:800,fontSize:22,textAlign:"center",borderRadius:12,marginBottom:24,padding:16,letterSpacing:1},children:"ADMIN DASHBOARD"}),(0,Ja.jsxs)("div",{style:{display:"flex",gap:32,flexWrap:"wrap",marginBottom:32},children:[(0,Ja.jsxs)("div",{style:{flex:1,minWidth:260,background:"#f8fafc",borderRadius:12,padding:18},children:[(0,Ja.jsx)("div",{style:{fontWeight:600,marginBottom:8,color:"#c8d8e4"},children:"Tickets by Status"}),0===e.length?(0,Ja.jsx)("div",{style:{color:"#888",textAlign:"center",marginTop:40},children:"No tickets to display."}):(0,Ja.jsx)(ef,{width:"100%",height:180,children:(0,Ja.jsxs)(CP,{children:[(0,Ja.jsx)(_L,{data:f,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:60,label:!0,children:f.map((e,t)=>(0,Ja.jsx)(_C,{fill:g[t]},e.name))}),(0,Ja.jsx)(VL,{})]})})]}),(0,Ja.jsxs)("div",{style:{flex:1,minWidth:260,background:"#f8fafc",borderRadius:12,padding:18},children:[(0,Ja.jsx)("div",{style:{fontWeight:600,marginBottom:8,color:"#c8d8e4"},children:"Tickets by Priority"}),0===e.length?(0,Ja.jsx)("div",{style:{color:"#888",textAlign:"center",marginTop:40},children:"No tickets to display."}):(0,Ja.jsx)(ef,{width:"100%",height:180,children:(0,Ja.jsxs)(QL,{data:p,children:[(0,Ja.jsx)(LD,{dataKey:"name"}),(0,Ja.jsx)(UD,{allowDecimals:!1}),(0,Ja.jsx)(Ej,{}),(0,Ja.jsx)($M,{dataKey:"value",fill:"#6e8efb"})]})})]})]}),(0,Ja.jsxs)("div",{className:"section-header",style:{display:"flex",alignItems:"center",gap:10},children:[(0,Ja.jsx)(Qa,{style:{color:"#c8d8e4",fontSize:22}}),"All Tickets"]}),(0,Ja.jsxs)("div",{style:{display:"flex",gap:12,marginBottom:18,flexWrap:"wrap",alignItems:"center"},children:[(0,Ja.jsxs)("select",{value:n,onChange:e=>i(e.target.value),style:{flex:1,minWidth:120,padding:10,borderRadius:6,border:"1px solid #ccc",fontSize:15},children:[(0,Ja.jsx)("option",{value:"",children:"All Statuses"}),(0,Ja.jsx)("option",{value:"Open",children:"Open"}),(0,Ja.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,Ja.jsx)("option",{value:"Resolved",children:"Resolved"})]}),(0,Ja.jsxs)("select",{value:o,onChange:e=>a(e.target.value),style:{flex:1,minWidth:120,padding:10,borderRadius:6,border:"1px solid #ccc",fontSize:15},children:[(0,Ja.jsx)("option",{value:"",children:"All Priorities"}),(0,Ja.jsx)("option",{value:"Low",children:"Low"}),(0,Ja.jsx)("option",{value:"Medium",children:"Medium"}),(0,Ja.jsx)("option",{value:"High",children:"High"})]})]}),(0,Ja.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:18},children:0===m.length?(0,Ja.jsxs)("div",{className:"empty-illustration",children:[(0,Ja.jsx)("img",{src:"https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f4e9.png",alt:"No tickets"}),(0,Ja.jsx)("div",{style:{fontSize:20,color:"#c8d8e4",fontWeight:600,marginBottom:6},children:"No tickets found"})]}):m.map(e=>(0,Ja.jsxs)("div",{style:{marginBottom:0,padding:20,borderRadius:16,background:"rgba(255,255,255,0.95)",boxShadow:"0 4px 18px 0 rgba(31,38,135,0.10)",display:"flex",flexDirection:"column",gap:6},children:[(0,Ja.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,Ja.jsx)("div",{style:{fontWeight:600,fontSize:17},children:e.description}),(0,Ja.jsx)("span",{style:{background:"#c8d8e4",color:"#fff",borderRadius:8,padding:"2px 10px",fontSize:13,fontWeight:500,boxShadow:"0 2px 8px #c8d8e433",marginLeft:8,letterSpacing:.5},children:e.status})]}),(0,Ja.jsxs)("div",{style:{fontSize:14,color:"#555",display:"flex",alignItems:"center",gap:8},children:[(0,Ja.jsx)(Xa,{style:{color:"#c8d8e4",fontSize:16}}),"Priority: ",e.priority," | Category: ",e.category," | User: ",e.uid]}),e.attachment&&(0,Ja.jsxs)("div",{style:{margin:"6px 0"},children:["Attachment: ",(0,Ja.jsx)("a",{href:e.attachment,target:"_blank",rel:"noopener noreferrer",style:{color:"#c8d8e4",fontWeight:500},children:"View File"})]}),(0,Ja.jsxs)("div",{style:{fontSize:13,color:"#888",marginTop:2},children:["Submitted: ",e.createdAt&&e.createdAt.toDate?e.createdAt.toDate().toLocaleString():""]}),(0,Ja.jsxs)("div",{style:{display:"flex",gap:10,marginTop:10},children:[(0,Ja.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{u(e+"-status");try{await(0,hi.updateDoc)((0,hi.doc)(Uo,"tickets",e),{status:t}),wa.success("Status updated")}catch{wa.error("Failed to update status")}u("")})(e.id,t.target.value),disabled:c===e.id+"-status",style:{padding:8,borderRadius:6,border:"1px solid #ccc",fontSize:15},children:[(0,Ja.jsx)("option",{value:"Open",children:"Open"}),(0,Ja.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,Ja.jsx)("option",{value:"Resolved",children:"Resolved"})]}),(0,Ja.jsx)("input",{type:"text",placeholder:"Assign to (user email)",value:e.assignedTo||"",onChange:t=>(async(e,t)=>{u(e+"-assign");try{await(0,hi.updateDoc)((0,hi.doc)(Uo,"tickets",e),{assignedTo:t}),wa.success("Ticket assigned")}catch{wa.error("Failed to assign ticket")}u("")})(e.id,t.target.value),disabled:c===e.id+"-assign",style:{padding:8,borderRadius:6,border:"1px solid #ccc",fontSize:15,minWidth:180}})]})]},e.id))})]})};const GM=function(){const{user:e}=(0,r.useContext)(QM),[t,n]=(0,r.useState)([]);(0,r.useEffect)(()=>{if(!e)return;const t=(0,hi.query)((0,hi.collection)(Uo,"tickets"),(0,hi.where)("uid","==",e.uid),(0,hi.orderBy)("createdAt","desc"));return(0,hi.onSnapshot)(t,e=>{n(e.docs.map(e=>({id:e.id,...e.data()})))})},[e]);const i=t.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{}),o=t.reduce((e,t)=>(e[t.priority]=(e[t.priority]||0)+1,e),{}),a=[{name:"Open",value:i.Open||0},{name:"In Progress",value:i["In Progress"]||0},{name:"Resolved",value:i.Resolved||0}],s=[{name:"Low",value:o.Low||0},{name:"Medium",value:o.Medium||0},{name:"High",value:o.High||0}],l=["#6e8efb","#a777e3"];return(0,Ja.jsxs)("div",{className:"card",style:{maxWidth:900,margin:"40px auto",padding:36},children:[(0,Ja.jsx)("div",{style:{background:"#a777e3",color:"#fff",fontWeight:800,fontSize:22,textAlign:"center",borderRadius:12,marginBottom:24,padding:16,letterSpacing:1},children:"Your Ticket Analytics"}),(0,Ja.jsxs)("div",{style:{display:"flex",gap:32,flexWrap:"wrap",marginBottom:32},children:[(0,Ja.jsxs)("div",{style:{flex:1,minWidth:260,background:"#f8fafc",borderRadius:12,padding:18},children:[(0,Ja.jsx)("div",{style:{fontWeight:600,marginBottom:8,color:"#a777e3"},children:"Tickets by Status"}),0===t.length?(0,Ja.jsx)("div",{style:{color:"#888",textAlign:"center",marginTop:40},children:"No tickets to display."}):(0,Ja.jsx)(ef,{width:"100%",height:180,children:(0,Ja.jsxs)(CP,{children:[(0,Ja.jsx)(_L,{data:a,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:60,label:!0,children:a.map((e,t)=>(0,Ja.jsx)(_C,{fill:l[t]},e.name))}),(0,Ja.jsx)(VL,{})]})})]}),(0,Ja.jsxs)("div",{style:{flex:1,minWidth:260,background:"#f8fafc",borderRadius:12,padding:18},children:[(0,Ja.jsx)("div",{style:{fontWeight:600,marginBottom:8,color:"#a777e3"},children:"Tickets by Priority"}),0===t.length?(0,Ja.jsx)("div",{style:{color:"#888",textAlign:"center",marginTop:40},children:"No tickets to display."}):(0,Ja.jsx)(ef,{width:"100%",height:180,children:(0,Ja.jsxs)(QL,{data:s,children:[(0,Ja.jsx)(LD,{dataKey:"name"}),(0,Ja.jsx)(UD,{allowDecimals:!1}),(0,Ja.jsx)(Ej,{}),(0,Ja.jsx)($M,{dataKey:"value",fill:"#6e8efb"})]})})]})]})]})},QM=(0,r.createContext)(),YM=(0,r.createContext)(),XM=new window.Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg"),JM={status:{icon:(0,Ja.jsx)(Qa,{style:{color:"#43a047",fontSize:18,marginRight:8}}),border:"#43a047"},assignment:{icon:(0,Ja.jsx)(Xa,{style:{color:"#2b6777",fontSize:18,marginRight:8}}),border:"#2b6777"},admin:{icon:(0,Ja.jsx)(qa,{style:{color:"#ffd600",fontSize:18,marginRight:8}}),border:"#ffd600"}};function ZM(e){let{children:t}=e;const[n,i]=(0,r.useState)(null),[o,a]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{const e=function(e,t,n,r){return(0,Oe.Ku)(e).onAuthStateChanged(t,n,r)}(zo,e=>{i(e),a(!1)});return e},[]),(0,Ja.jsx)(QM.Provider,{value:{user:n,loading:o},children:t})}function eR(){return(0,r.useContext)(QM)}function tR(e){let{children:t}=e;const[n,i]=(0,r.useState)(localStorage.getItem("lang")||"en");return(0,r.useEffect)(()=>{localStorage.setItem("lang",n)},[n]),(0,Ja.jsx)(YM.Provider,{value:{language:n,setLanguage:i},children:t})}function nR(){const{user:e}=eR(),{language:t,setLanguage:n}=(0,r.useContext)(YM),i=Z(),o=X(),[a,s]=(0,r.useState)({}),[l,c]=(0,r.useState)([]),[u,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(!1),[p,g]=(0,r.useState)({status:!0,assignment:!0,admin:!0}),[m,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!e)return;(0,hi.getDoc)((0,hi.doc)(Uo,"users",e.uid)).then(e=>{e.exists()?s(e.data()):s({})});const t=(0,hi.query)((0,hi.collection)(Uo,"notifications"),(0,hi.where)("to","==",e.email),(0,hi.orderBy)("createdAt","desc")),n=(0,hi.onSnapshot)(t,e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));l.length>0&&t.forEach(e=>{if(!e.read&&!l.some(t=>t.id===e.id)){wa.info(`${e.title}: ${e.body}`,{position:"bottom-right",autoClose:5e3});try{XM.play()}catch{}navigator.vibrate&&navigator.vibrate([100,50,100])}}),c(t)});if(!e)return;const r=(0,hi.doc)(Uo,"users",e.uid,"notificationPrefs","prefs");return(0,hi.getDoc)(r).then(e=>{e.exists()&&g(e.data())}),n},[e]);const v=l.filter(e=>!e.read).length,b=async t=>{const n={...p,[t]:!p[t]};g(n);const r=(0,hi.doc)(Uo,"users",e.uid,"notificationPrefs","prefs");await(0,hi.setDoc)(r,n)},w=l.filter(e=>"status"===e.type&&p.status||"assignment"===e.type&&p.assignment||"admin"===e.type&&p.admin);return(0,Ja.jsxs)("div",{className:"app-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ja.jsxs)("div",{className:"app-title",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:10},onClick:()=>i(e?"/dashboard":"/login"),children:[(0,Ja.jsx)("img",{src:"/logo.png",alt:"Service Desk Logo",style:{width:40,height:40,marginRight:8,verticalAlign:"middle"}})," Service Desk App"]}),(0,Ja.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:18},children:[(0,Ja.jsxs)("div",{style:{position:"relative"},children:[(0,Ja.jsxs)("button",{"aria-label":"Notifications",onClick:()=>h(e=>!e),onBlur:()=>h(!1),style:{background:"none",border:"none",cursor:"pointer",position:"relative",fontSize:22,color:"#fff"},children:[(0,Ja.jsx)(qa,{}),v>0&&(0,Ja.jsx)("span",{style:{position:"absolute",top:-6,right:-6,background:"#e57373",color:"#fff",borderRadius:"50%",fontSize:12,fontWeight:700,padding:"2px 6px",minWidth:18,textAlign:"center"},children:v})]}),u&&w.length>0&&(0,Ja.jsxs)("div",{style:{position:"absolute",right:0,top:32,background:"#fff",color:"#222",borderRadius:8,boxShadow:"0 4px 16px #6e8efb22",minWidth:260,zIndex:1e3,padding:10,maxHeight:420,overflowY:"auto"},children:[(0,Ja.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:700,marginBottom:8,color:"#2b6777"},children:[(0,Ja.jsx)("span",{children:"Notifications"}),(0,Ja.jsx)("button",{onClick:async()=>{const e=l.filter(e=>!e.read);for(const t of e)await(0,hi.updateDoc)((0,hi.doc)(Uo,"notifications",t.id),{read:!0});h(!1)},style:{background:"none",border:"none",color:"#e57373",fontWeight:700,cursor:"pointer",fontSize:13,textDecoration:"underline"},children:"Clear All"}),(0,Ja.jsx)("button",{onClick:()=>f(e=>!e),style:{background:"none",border:"none",color:"#2b6777",fontWeight:700,cursor:"pointer",fontSize:13,textDecoration:"underline",marginLeft:8},children:d?"Close":"Preferences"})]}),d&&(0,Ja.jsxs)("div",{style:{marginBottom:10,padding:10,background:"#f8fafc",borderRadius:8,boxShadow:"0 1px 4px #6e8efb11"},children:[(0,Ja.jsx)("div",{style:{fontWeight:600,marginBottom:6},children:"Notification Preferences"}),(0,Ja.jsxs)("label",{style:{display:"block",marginBottom:6},children:[(0,Ja.jsx)("input",{type:"checkbox",checked:p.status,onChange:()=>b("status")})," Status Changes"]}),(0,Ja.jsxs)("label",{style:{display:"block",marginBottom:6},children:[(0,Ja.jsx)("input",{type:"checkbox",checked:p.assignment,onChange:()=>b("assignment")})," Assignments"]}),(0,Ja.jsxs)("label",{style:{display:"block",marginBottom:6},children:[(0,Ja.jsx)("input",{type:"checkbox",checked:p.admin,onChange:()=>b("admin")})," Admin Messages"]})]}),(m?w:w.slice(0,8)).map(e=>{var t,n;return(0,Ja.jsxs)("div",{onClick:()=>(async e=>{e.read||await(0,hi.updateDoc)((0,hi.doc)(Uo,"notifications",e.id),{read:!0}),h(!1),e.ticketId&&i(`/dashboard?ticket=${e.ticketId}`)})(e),style:{padding:"8px 0",borderBottom:"1px solid #eee",fontSize:15,cursor:"pointer",background:e.read?"#f8fafc":"#e3eafe",borderRadius:6,marginBottom:2,display:"flex",alignItems:"flex-start",borderLeft:`4px solid ${(null===(t=JM[e.type])||void 0===t?void 0:t.border)||"#c8d8e4"}`},children:[null===(n=JM[e.type])||void 0===n?void 0:n.icon,(0,Ja.jsxs)("div",{style:{flex:1},children:[(0,Ja.jsx)("div",{style:{fontWeight:600},children:e.title}),(0,Ja.jsx)("div",{style:{color:"#555",fontSize:13},children:e.body}),(0,Ja.jsx)("div",{style:{color:"#aaa",fontSize:11},children:e.createdAt&&e.createdAt.toDate?e.createdAt.toDate().toLocaleString():""})]})]},e.id)}),w.length>8&&(0,Ja.jsx)("button",{onClick:()=>y(e=>!e),style:{background:"none",border:"none",color:"#2b6777",fontWeight:700,cursor:"pointer",fontSize:14,textDecoration:"underline",margin:"10px auto 0 auto",display:"block"},children:m?"Show Less":"Show More"}),0===w.length&&(0,Ja.jsx)("div",{style:{color:"#888",fontSize:14},children:"No notifications"})]})]}),(0,Ja.jsxs)("div",{className:"user-info",children:[e&&(0,Ja.jsxs)(Ie,{to:"/profile",style:{display:"flex",alignItems:"center",gap:6,color:"#fff",textDecoration:"/profile"===o.pathname?"underline":"none"},children:[(0,Ja.jsx)("img",{src:a.avatar||"https://ui-avatars.com/api/?name="+(a.displayName||e.email)+"&background=1976d2&color=fff&size=32",alt:"avatar",style:{width:32,height:32,borderRadius:"50%",objectFit:"cover",border:"1.5px solid #fff",marginRight:6}}),a.displayName||e.email]}),e&&(0,Ja.jsx)("button",{style:{width:"auto",padding:"8px 18px",marginLeft:8,background:"#fff",color:"#1976d2",border:"1.5px solid #1976d2",fontWeight:600,borderRadius:6,cursor:"pointer"},onClick:()=>{!function(e){(0,Oe.Ku)(e).signOut()}(zo)},children:"Logout"})]}),(0,Ja.jsxs)("select",{value:t,onChange:e=>n(e.target.value),style:{borderRadius:6,padding:"4px 10px",fontWeight:600,fontSize:15,border:"1.5px solid #c8d8e4",background:"#fff",color:"#2b6777",outline:"none",cursor:"pointer"},children:[(0,Ja.jsx)("option",{value:"en",children:"English"}),(0,Ja.jsx)("option",{value:"hi",children:"\u0939\u093f\u0928\u094d\u0926\u0940"}),(0,Ja.jsx)("option",{value:"fr",children:"Fran\xe7ais"}),(0,Ja.jsx)("option",{value:"es",children:"Espa\xf1ol"}),(0,Ja.jsx)("option",{value:"de",children:"Deutsch"})]})]})]})}function rR(e){let{children:t}=e;const{user:n,loading:r}=eR();return r?null:n?t:(0,Ja.jsx)(pe,{to:"/login"})}function iR(){const{user:e}=eR(),[t,n]=(0,r.useState)("user");return(0,r.useEffect)(()=>{e&&(0,hi.getDoc)((0,hi.doc)(Uo,"users",e.uid)).then(e=>{e.exists()?n(e.data().role||"user"):n("user")})},[e]),t}function oR(){const e=iR();return e?"admin"===e?(0,Ja.jsx)(KM,{}):(0,Ja.jsx)(Ld,{}):(0,Ja.jsx)("div",{style:{textAlign:"center",marginTop:40},children:"Loading..."})}function aR(){const{user:e}=eR(),[t,n]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[a,s]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[m,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(""),[w,x]=(0,r.useState)(""),S=wl();(0,r.useEffect)(()=>{if(!e)return;(async()=>{const t=await(0,hi.getDoc)((0,hi.doc)(Uo,"users",e.uid));t.exists()?(n(t.data().displayName||""),o(t.data().avatar||"")):(n(""),o(""))})()},[e]);return(0,Ja.jsxs)("div",{className:"card",style:{maxWidth:480,margin:"60px auto",textAlign:"center",padding:48,boxShadow:"0 8px 32px 0 rgba(106,142,251,0.13)",borderRadius:32},children:[(0,Ja.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:32},children:[(0,Ja.jsx)(Xa,{style:{color:"#6e8efb",fontSize:48,marginBottom:8}}),(0,Ja.jsx)("h2",{style:{color:"#6e8efb",fontWeight:800,marginBottom:6,fontSize:32,letterSpacing:1},children:"User Profile"})]}),(0,Ja.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),c(!0);let r=i;if(a)try{const t=bl(S,`avatars/${e.uid}_${Date.now()}_${a.name}`);await yl(t,a),r=await vl(t),wa.success("Avatar uploaded.")}catch{return wa.error("Failed to upload avatar."),void c(!1)}try{await(0,hi.setDoc)((0,hi.doc)(Uo,"users",e.uid),{displayName:t,avatar:r}),o(r),wa.success("Profile updated.")}catch{wa.error("Failed to update profile.")}c(!1)},style:{marginTop:0,display:"flex",flexDirection:"column",gap:22,background:"rgba(255,255,255,0.85)",borderRadius:18,padding:28,boxShadow:"0 2px 12px #6e8efb11",alignItems:"center"},children:[(0,Ja.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:18},children:[(0,Ja.jsx)("img",{src:i||"https://ui-avatars.com/api/?name="+(t||e.email)+"&background=1976d2&color=fff&size=120",alt:"avatar",style:{width:120,height:120,borderRadius:"50%",objectFit:"cover",border:"3px solid #c8d8e4",boxShadow:"0 2px 12px #6e8efb22"}}),(0,Ja.jsx)("input",{type:"file",accept:"image/*",onChange:e=>s(e.target.files[0]),style:{marginTop:8}})]}),(0,Ja.jsx)("input",{type:"text",placeholder:"Display Name",value:t,onChange:e=>n(e.target.value),style:{fontSize:18,borderRadius:8,border:"1.5px solid #c8d8e4",padding:14,width:"100%",marginBottom:0,background:"#f8fafc"}}),(0,Ja.jsx)("button",{type:"submit",disabled:l,style:{width:"100%",padding:"12px 0",background:"linear-gradient(90deg, #2b6777 60%, #c8d8e4 100%)",color:"#fff",fontWeight:700,fontSize:17,border:"none",borderRadius:8,cursor:"pointer",boxShadow:"0 2px 8px #6e8efb22",marginTop:8},children:l?"Saving...":"Save Profile"})]}),(0,Ja.jsx)("button",{onClick:()=>h(e=>!e),style:{marginTop:28,background:"#c8d8e4",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",width:"100%",fontWeight:700,fontSize:17,cursor:"pointer",boxShadow:"0 2px 8px #6e8efb22"},children:u?"Cancel":"Change Password"}),u&&(0,Ja.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),y(!0),b(""),x("");try{await function(e,t){return qn((0,Oe.Ku)(e),null,t)}(e,p),b("Password updated successfully."),h(!1),f(""),g("")}catch(tc){x("Failed to update password. Please re-login and try again.")}y(!1)},style:{marginTop:18,display:"flex",flexDirection:"column",gap:16,background:"#f8fafc",borderRadius:12,padding:24,boxShadow:"0 2px 8px #6e8efb11",alignItems:"center"},children:[(0,Ja.jsx)("input",{type:"password",placeholder:"New Password",value:p,onChange:e=>g(e.target.value),required:!0,style:{fontSize:16,borderRadius:8,border:"1.5px solid #c8d8e4",padding:12,width:"100%"}}),(0,Ja.jsx)("button",{type:"submit",disabled:m,style:{background:"linear-gradient(90deg, #2b6777 60%, #c8d8e4 100%)",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",width:"100%",fontWeight:700,fontSize:17,cursor:"pointer",boxShadow:"0 2px 8px #6e8efb22"},children:m?"Updating...":"Update Password"}),v&&(0,Ja.jsx)("div",{style:{color:"green",marginTop:8},children:v}),w&&(0,Ja.jsx)("div",{style:{color:"red",marginTop:8},children:w})]})]})}function sR(){const{user:e,loading:t}=eR(),[n,i]=(0,r.useState)(null),o=Z();return(0,r.useEffect)(()=>{!t&&e&&(0,hi.getDoc)((0,hi.doc)(Uo,"users",e.uid)).then(e=>{if(e.exists()){const t=e.data().role||"user";i(t),o("admin"===t?"/admin":"/dashboard",{replace:!0})}else i("user"),o("/dashboard",{replace:!0})})},[e,t,o]),null}function lR(){return(0,Ja.jsx)("div",{style:{background:"#ffd600",color:"#222",fontWeight:700,padding:"16px",textAlign:"center",borderRadius:"12px",margin:"24px 0"},children:"Admin Demo Mode: This is a preview. Actions are disabled or may not affect real data."})}const cR=function(){return(0,r.useEffect)(()=>{!async function(){const e=await Vo();e?console.log("FCM Token:",e):console.log("Notification permission not granted"),new Promise(e=>{Fo(qo,t=>{e(t)})}).then(e=>{alert(`Notification: ${e.notification.title}\n${e.notification.body}`)})}()},[]),(0,Ja.jsx)(tR,{children:(0,Ja.jsx)(ZM,{children:(0,Ja.jsxs)(Ae,{children:[(0,Ja.jsx)("div",{className:"background-pattern"}),(0,Ja.jsx)(nR,{}),(0,Ja.jsx)(Na,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,Ja.jsxs)(ye,{children:[(0,Ja.jsx)(ge,{path:"/",element:(0,Ja.jsx)(sR,{})}),(0,Ja.jsx)(ge,{path:"/login",element:(0,Ja.jsx)(Za,{})}),(0,Ja.jsx)(ge,{path:"/register",element:(0,Ja.jsx)(ts,{})}),(0,Ja.jsx)(ge,{path:"/dashboard",element:(0,Ja.jsx)(rR,{children:(0,Ja.jsx)(oR,{})})}),(0,Ja.jsx)(ge,{path:"/admin",element:(0,Ja.jsx)(KM,{})}),(0,Ja.jsx)(ge,{path:"/admin-demo",element:(0,Ja.jsxs)(Ja.Fragment,{children:[(0,Ja.jsx)(lR,{}),(0,Ja.jsx)(KM,{})]})}),(0,Ja.jsx)(ge,{path:"/profile",element:(0,Ja.jsx)(rR,{children:(0,Ja.jsx)(aR,{})})}),(0,Ja.jsx)(ge,{path:"/support",element:(0,Ja.jsx)(Sl,{})}),(0,Ja.jsx)(ge,{path:"/terms",element:(0,Ja.jsx)(_l,{})}),(0,Ja.jsx)(ge,{path:"/privacy",element:(0,Ja.jsx)(kl,{})}),(0,Ja.jsx)(ge,{path:"/analytics",element:(0,Ja.jsx)(rR,{children:(0,Ja.jsx)(GM,{})})})]}),(0,Ja.jsxs)("div",{className:"footer",children:[(0,Ja.jsxs)("span",{children:[(0,Ja.jsx)("a",{href:"/terms",style:{color:"#c8d8e4",textDecoration:"underline",marginRight:18},children:"Terms of Service"}),(0,Ja.jsx)("a",{href:"/privacy",style:{color:"#c8d8e4",textDecoration:"underline",marginRight:18},children:"Privacy Policy"})]}),"Service Desk App \xa9 ",(new Date).getFullYear()," \u2014 Built by Krishna"]})]})})})},uR=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)})},hR=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function dR(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?t&&t.onUpdate&&t.onUpdate(e):t&&t.onSuccess&&t.onSuccess(e))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}o.createRoot(document.getElementById("root")).render((0,Ja.jsx)(r.StrictMode,{children:(0,Ja.jsx)(cR,{})})),uR(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="/service-worker.js";hR?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(n=>{const r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):dR(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker.")})):dR(t,e)})}}()})()})();
//# sourceMappingURL=main.3a2a1d4a.js.map